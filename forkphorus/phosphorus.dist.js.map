{"version":3,"file":"phosphorus.dist.js","sourceRoot":"","sources":["src/phosphorus.ts","src/config.ts","src/audio.ts","src/rendering/renderer.ts","src/core.ts","src/fonts.ts","src/i18n.ts","src/io.ts","src/json.ts","src/utils.ts","src/player.ts","src/runtime.ts","src/sb2.ts","src/sb3.ts","src/extensions/extension.ts","src/extensions/cloud.ts","src/extensions/microphone.ts","src/extensions/tts.ts","src/rendering/canvas2d.ts","src/rendering/matrix.ts","src/rendering/webgl.ts"],"names":[],"mappings":"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","sourcesContent":["// This comment will be included in the generated source file.\n/*!\nThis file is generated from source files in https://github.com/forkphorus/forkphorus\nPlease see the README for more information.\n\nLicense for forkphorus:\nThe MIT License (MIT)\n\nCopyright (c) 2013-2017 Nathan Dinsmore\nCopyright (c) 2019-2021 Thomas Weber\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of\nthis software and associated documentation files (the \"Software\"), to deal in\nthe Software without restriction, including without limitation the rights to\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\nthe Software, and to permit persons to whom the Software is furnished to do so,\nsubject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\nFOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\nCOPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\nIN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\nCONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nParts of forkphorus are based on Sulfurous (https://sulfurous.aau.at/) and Scratch (https://scratch.mit.edu/)\n\nLicense for Sulfurous:\nThe MIT License (MIT)\nCopyright (c) 2013-2014 Nathan Dinsmore\nCopyright (c) 2016 Mittagskogel\nCopyright (c) 2017-2020 FRALEX\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of\nthis software and associated documentation files (the \"Software\"), to deal in\nthe Software without restriction, including without limitation the rights to\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\nthe Software, and to permit persons to whom the Software is furnished to do so,\nsubject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\nFOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\nCOPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\nIN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\nCONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nLicense for Scratch:\nCopyright (c) 2016, Massachusetts Institute of Technology\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n\n1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n\n2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n\n3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\ninterface ObjectMap<V> {\n  [key: string]: V;\n}\n\ntype Awaitable<T> = Promise<T> | T;\n\nif (!('Promise' in window)) {\n  throw new Error('Browser does not support Promise');\n}\n","/// <reference path=\"phosphorus.ts\" />\n\nnamespace P.config {\n  export var debug = false;\n  export var useWebGL = false;\n  export var supportVideoSensing = false;\n  export var experimentalOptimizations = false;\n  export var scale = window.devicePixelRatio || 1;\n  export var PROJECT_API: string = 'https://projects.scratch.mit.edu/$id';\n}\n","/// <reference path=\"phosphorus.ts\" />\n/// <reference path=\"config.ts\" />\n\nnamespace P.audio {\n  export const context = (function(): AudioContext | null {\n    if ((window as any).AudioContext) {\n      return new AudioContext();\n    } else if ((window as any).webkitAudioContext) {\n      return new (window as any).webkitAudioContext();\n    } else {\n      return null;\n    }\n  })();\n\n  if (context) {\n    // TODO: customizable volume\n    var volume = 0.5;\n    var globalNode = context.createGain();\n    globalNode.gain.value = volume;\n    globalNode.connect(context.destination);\n  }\n\n  // Most things relating to Span are old things I don't understand and don't want to touch.\n  interface Span {\n    name: string;\n    loop: boolean;\n    loopStart: number | null;\n    loopEnd: number | null;\n    baseRatio: number;\n    attackEnd: number;\n    holdEnd: number;\n    decayEnd: number;\n    decayTime?: number;\n    top?: number;\n  }\n\n  /*\n    copy(JSON.stringify(drums.map(function(d) {\n      var decayTime = d[4] || 0;\n      var baseRatio = Math.pow(2, (60 - d[1] - 69) / 12);\n      if (d[2]) {\n        var length = d[3] - d[2];\n        baseRatio = 22050 * Math.round(length * 440 * baseRatio / 22050) / length / 440;\n      }\n      return {\n        name: d[0],\n        baseRatio: baseRatio,\n        loop: !!d[2],\n        loopStart: d[2] / 22050,\n        loopEnd: d[3] / 22050,\n        attackEnd: 0,\n        holdEnd: 0,\n        decayEnd: decayTime\n      }\n    }))\n  */\n  export const drums: Span[] = [\n    {name:'SnareDrum',baseRatio:0.5946035575013605,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'Tom',baseRatio:0.5946035575013605,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'SideStick',baseRatio:0.5946035575013605,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'Crash',baseRatio:0.8908987181403393,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'HiHatOpen',baseRatio:0.9438743126816935,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'HiHatClosed',baseRatio:0.5946035575013605,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'Tambourine',baseRatio:0.5946035575013605,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'Clap',baseRatio:0.5946035575013605,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'Claves',baseRatio:0.5946035575013605,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'WoodBlock',baseRatio:0.7491535384383408,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'Cowbell',baseRatio:0.5946035575013605,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'Triangle',baseRatio:0.8514452780229479,loop:true,loopStart:0.7638548752834468,loopEnd:0.7825396825396825,attackEnd:0,holdEnd:0,decayEnd:2},\n    {name:'Bongo',baseRatio:0.5297315471796477,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'Conga',baseRatio:0.7954545454545454,loop:true,loopStart:0.1926077097505669,loopEnd:0.20403628117913833,attackEnd:0,holdEnd:0,decayEnd:2},\n    {name:'Cabasa',baseRatio:0.5946035575013605,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'GuiroLong',baseRatio:0.5946035575013605,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'Vibraslap',baseRatio:0.8408964152537145,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'Cuica',baseRatio:0.7937005259840998,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0}\n  ];\n\n  /*\n    copy(JSON.stringify(instruments.map(function(g) {\n      return g.map(function(r) {\n        var attackTime = r[5] ? r[5][0] * 0.001 : 0;\n        var holdTime = r[5] ? r[5][1] * 0.001 : 0;\n        var decayTime = r[5] ? r[5][2] : 0;\n        var baseRatio = Math.pow(2, (r[2] - 69) / 12);\n        if (r[3] !== -1) {\n          var length = r[4] - r[3];\n          baseRatio = 22050 * Math.round(length * 440 * baseRatio / 22050) / length / 440;\n        }\n        return {\n          top: r[0],\n          name: r[1],\n          baseRatio: baseRatio,\n          loop: r[3] !== -1,\n          loopStart: r[3] / 22050,\n          loopEnd: r[4] / 22050,\n          attackEnd: attackTime,\n          holdEnd: attackTime + holdTime,\n          decayEnd: attackTime + holdTime + decayTime\n        }\n      })\n    }))\n  */\n  export const instruments: Span[][] = [\n    [\n      {top:38,name:'AcousticPiano_As3',baseRatio:0.5316313272700484,loop:true,loopStart:0.465578231292517,loopEnd:0.7733786848072562,attackEnd:0,holdEnd:0.1,decayEnd:22.1},\n      {top:44,name:'AcousticPiano_C4',baseRatio:0.5905141892259927,loop:true,loopStart:0.6334693877551021,loopEnd:0.8605442176870748,attackEnd:0,holdEnd:0.1,decayEnd:20.1},\n      {top:51,name:'AcousticPiano_G4',baseRatio:0.8843582887700535,loop:true,loopStart:0.5532879818594104,loopEnd:0.5609977324263039,attackEnd:0,holdEnd:0.08,decayEnd:18.08},\n      {top:62,name:'AcousticPiano_C6',baseRatio:2.3557692307692304,loop:true,loopStart:0.5914739229024943,loopEnd:0.6020861678004535,attackEnd:0,holdEnd:0.08,decayEnd:16.08},\n      {top:70,name:'AcousticPiano_F5',baseRatio:1.5776515151515151,loop:true,loopStart:0.5634920634920635,loopEnd:0.5879818594104308,attackEnd:0,holdEnd:0.04,decayEnd:14.04},\n      {top:77,name:'AcousticPiano_Ds6',baseRatio:2.800762112139358,loop:true,loopStart:0.560907029478458,loopEnd:0.5836281179138322,attackEnd:0,holdEnd:0.02,decayEnd:10.02},\n      {top:85,name:'AcousticPiano_Ds6',baseRatio:2.800762112139358,loop:true,loopStart:0.560907029478458,loopEnd:0.5836281179138322,attackEnd:0,holdEnd:0,decayEnd:8},\n      {top:90,name:'AcousticPiano_Ds6',baseRatio:2.800762112139358,loop:true,loopStart:0.560907029478458,loopEnd:0.5836281179138322,attackEnd:0,holdEnd:0,decayEnd:6},\n      {top:96,name:'AcousticPiano_D7',baseRatio:5.275119617224881,loop:true,loopStart:0.3380498866213152,loopEnd:0.34494331065759637,attackEnd:0,holdEnd:0,decayEnd:3},\n      {top:128,name:'AcousticPiano_D7',baseRatio:5.275119617224881,loop:true,loopStart:0.3380498866213152,loopEnd:0.34494331065759637,attackEnd:0,holdEnd:0,decayEnd:2}\n    ], [\n      {top:48,name:'ElectricPiano_C2',baseRatio:0.14870515241435123,loop:true,loopStart:0.6956009070294784,loopEnd:0.7873015873015873,attackEnd:0,holdEnd:0.08,decayEnd:10.08},\n      {top:74,name:'ElectricPiano_C4',baseRatio:0.5945685670261941,loop:true,loopStart:0.5181859410430839,loopEnd:0.5449433106575964,attackEnd:0,holdEnd:0.04,decayEnd:8.04},\n      {top:128,name:'ElectricPiano_C4',baseRatio:0.5945685670261941,loop:true,loopStart:0.5181859410430839,loopEnd:0.5449433106575964,attackEnd:0,holdEnd:0,decayEnd:6}\n    ], [\n      {top:128,name:'Organ_G2',baseRatio:0.22283731584620914,loop:true,loopStart:0.05922902494331066,loopEnd:0.1510204081632653,attackEnd:0,holdEnd:0,decayEnd:0}\n    ],[{top:40,name:'AcousticGuitar_F3',baseRatio:0.3977272727272727,loop:true,loopStart:1.6628117913832199,loopEnd:1.6685260770975057,attackEnd:0,holdEnd:0,decayEnd:15},\n      {top:56,name:'AcousticGuitar_F3',baseRatio:0.3977272727272727,loop:true,loopStart:1.6628117913832199,loopEnd:1.6685260770975057,attackEnd:0,holdEnd:0,decayEnd:13.5},\n      {top:60,name:'AcousticGuitar_F3',baseRatio:0.3977272727272727,loop:true,loopStart:1.6628117913832199,loopEnd:1.6685260770975057,attackEnd:0,holdEnd:0,decayEnd:12},\n      {top:67,name:'AcousticGuitar_F3',baseRatio:0.3977272727272727,loop:true,loopStart:1.6628117913832199,loopEnd:1.6685260770975057,attackEnd:0,holdEnd:0,decayEnd:8.5},\n      {top:72,name:'AcousticGuitar_F3',baseRatio:0.3977272727272727,loop:true,loopStart:1.6628117913832199,loopEnd:1.6685260770975057,attackEnd:0,holdEnd:0,decayEnd:7},\n      {top:83,name:'AcousticGuitar_F3',baseRatio:0.3977272727272727,loop:true,loopStart:1.6628117913832199,loopEnd:1.6685260770975057,attackEnd:0,holdEnd:0,decayEnd:5.5},\n      {top:128,name:'AcousticGuitar_F3',baseRatio:0.3977272727272727,loop:true,loopStart:1.6628117913832199,loopEnd:1.6685260770975057,attackEnd:0,holdEnd:0,decayEnd:4.5}\n    ], [\n      {top:40,name:'ElectricGuitar_F3',baseRatio:0.39615522817103843,loop:true,loopStart:1.5733333333333333,loopEnd:1.5848072562358,attackEnd:0,holdEnd:0,decayEnd:15},\n      {top:56,name:'ElectricGuitar_F3',baseRatio:0.39615522817103843,loop:true,loopStart:1.5733333333333333,loopEnd:1.5848072562358277,attackEnd:0,holdEnd:0,decayEnd:13.5},\n      {top:60,name:'ElectricGuitar_F3',baseRatio:0.39615522817103843,loop:true,loopStart:1.5733333333333333,loopEnd:1.5848072562358277,attackEnd:0,holdEnd:0,decayEnd:12},\n      {top:67,name:'ElectricGuitar_F3',baseRatio:0.39615522817103843,loop:true,loopStart:1.5733333333333333,loopEnd:1.5848072562358277,attackEnd:0,holdEnd:0,decayEnd:8.5},\n      {top:72,name:'ElectricGuitar_F3',baseRatio:0.39615522817103843,loop:true,loopStart:1.5733333333333333,loopEnd:1.5848072562358277,attackEnd:0,holdEnd:0,decayEnd:7},\n      {top:83,name:'ElectricGuitar_F3',baseRatio:0.39615522817103843,loop:true,loopStart:1.5733333333333333,loopEnd:1.5848072562358277,attackEnd:0,holdEnd:0,decayEnd:5.5},\n      {top:128,name:'ElectricGuitar_F3',baseRatio:0.39615522817103843,loop:true,loopStart:1.5733333333333333,loopEnd:1.5848072562358277,attackEnd:0,holdEnd:0,decayEnd:4.5}\n    ], [\n      {top:34,name:'ElectricBass_G1',baseRatio:0.11111671034065712,loop:true,loopStart:1.9007709750566892,loopEnd:1.9212244897959183,attackEnd:0,holdEnd:0,decayEnd:17},\n      {top:48,name:'ElectricBass_G1',baseRatio:0.11111671034065712,loop:true,loopStart:1.9007709750566892,loopEnd:1.9212244897959183,attackEnd:0,holdEnd:0,decayEnd:14},\n      {top:64,name:'ElectricBass_G1',baseRatio:0.11111671034065712,loop:true,loopStart:1.9007709750566892,loopEnd:1.9212244897959183,attackEnd:0,holdEnd:0,decayEnd:12},\n      {top:128,name:'ElectricBass_G1',baseRatio:0.11111671034065712,loop:true,loopStart:1.9007709750566892,loopEnd:1.9212244897959183,attackEnd:0,holdEnd:0,decayEnd:10}\n    ], [\n      {top:38,name:'Pizz_G2',baseRatio:0.21979665071770335,loop:true,loopStart:0.3879365079365079,loopEnd:0.3982766439909297,attackEnd:0,holdEnd:0,decayEnd:5},\n      {top:45,name:'Pizz_G2',baseRatio:0.21979665071770335,loop:true,loopStart:0.3879365079365079,loopEnd:0.3982766439909297,attackEnd:0,holdEnd:0.012,decayEnd:4.012},\n      {top:56,name:'Pizz_A3',baseRatio:0.503654636820466,loop:true,loopStart:0.5197278911564626,loopEnd:0.5287528344671202,attackEnd:0,holdEnd:0,decayEnd:4},\n      {top:64,name:'Pizz_A3',baseRatio:0.503654636820466,loop:true,loopStart:0.5197278911564626,loopEnd:0.5287528344671202,attackEnd:0,holdEnd:0,decayEnd:3.2},\n      {top:72,name:'Pizz_E4',baseRatio:0.7479647218453188,loop:true,loopStart:0.7947845804988662,loopEnd:0.7978231292517007,attackEnd:0,holdEnd:0,decayEnd:2.8},\n      {top:80,name:'Pizz_E4',baseRatio:0.7479647218453188,loop:true,loopStart:0.7947845804988662,loopEnd:0.7978231292517007,attackEnd:0,holdEnd:0,decayEnd:2.2},\n      {top:128,name:'Pizz_E4',baseRatio:0.7479647218453188,loop:true,loopStart:0.7947845804988662,loopEnd:0.7978231292517007,attackEnd:0,holdEnd:0,decayEnd:1.5}\n    ], [\n      {top:41,name:'Cello_C2',baseRatio:0.14870515241435123,loop:true,loopStart:0.3876643990929705,loopEnd:0.40294784580498866,attackEnd:0,holdEnd:0,decayEnd:0},\n      {top:52,name:'Cello_As2',baseRatio:0.263755980861244,loop:true,loopStart:0.3385487528344671,loopEnd:0.35578231292517004,attackEnd:0,holdEnd:0,decayEnd:0},\n      {top:62,name:'Violin_D4',baseRatio:0.6664047388781432,loop:true,loopStart:0.48108843537414964,loopEnd:0.5151927437641723,attackEnd:0,holdEnd:0,decayEnd:0},\n      {top:75,name:'Violin_A4',baseRatio:0.987460815047022,loop:true,loopStart:0.14108843537414967,loopEnd:0.15029478458049886,attackEnd:0.07,holdEnd:0.07,decayEnd:0.07},\n      {top:128,name:'Violin_E5',baseRatio:1.4885238523852387,loop:true,loopStart:0.10807256235827664,loopEnd:0.1126530612244898,attackEnd:0,holdEnd:0,decayEnd:0}\n    ], [\n      {top:30,name:'BassTrombone_A2_3',baseRatio:0.24981872564125807,loop:true,loopStart:0.061541950113378686,loopEnd:0.10702947845804989,attackEnd:0,holdEnd:0,decayEnd:0},\n      {top:40,name:'BassTrombone_A2_2',baseRatio:0.24981872564125807,loop:true,loopStart:0.08585034013605441,loopEnd:0.13133786848072562,attackEnd:0,holdEnd:0,decayEnd:0},\n      {top:55,name:'Trombone_B3',baseRatio:0.5608240680183126,loop:true,loopStart:0.12,loopEnd:0.17673469387755103,attackEnd:0,holdEnd:0,decayEnd:0},\n      {top:88,name:'Trombone_B3',baseRatio:0.5608240680183126,loop:true,loopStart:0.12,loopEnd:0.17673469387755103,attackEnd:0.05,holdEnd:0.05,decayEnd:0.05},\n      {top:128,name:'Trumpet_E5',baseRatio:1.4959294436906376,loop:true,loopStart:0.1307936507936508,loopEnd:0.14294784580498865,attackEnd:0,holdEnd:0,decayEnd:0}\n    ], [\n      {top:128,name:'Clarinet_C4',baseRatio:0.5940193965517241,loop:true,loopStart:0.6594104308390023,loopEnd:0.7014965986394558,attackEnd:0,holdEnd:0,decayEnd:0}\n    ], [\n      {top:40,name:'TenorSax_C3',baseRatio:0.2971698113207547,loop:true,loopStart:0.4053968253968254,loopEnd:0.4895238095238095,attackEnd:0,holdEnd:0,decayEnd:0},\n      {top:50,name:'TenorSax_C3',baseRatio:0.2971698113207547,loop:true,loopStart:0.4053968253968254,loopEnd:0.4895238095238095,attackEnd:0.02,holdEnd:0.02,decayEnd:0.02},\n      {top:59,name:'TenorSax_C3',baseRatio:0.2971698113207547,loop:true,loopStart:0.4053968253968254,loopEnd:0.4895238095238095,attackEnd:0.04,holdEnd:0.04,decayEnd:0.04},\n      {top:67,name:'AltoSax_A3',baseRatio:0.49814747876378096,loop:true,loopStart:0.3875736961451247,loopEnd:0.4103854875283447,attackEnd:0,holdEnd:0,decayEnd:0},\n      {top:75,name:'AltoSax_A3',baseRatio:0.49814747876378096,loop:true,loopStart:0.3875736961451247,loopEnd:0.4103854875283447,attackEnd:0.02,holdEnd:0.02,decayEnd:0.02},\n      {top:80,name:'AltoSax_A3',baseRatio:0.49814747876378096,loop:true,loopStart:0.3875736961451247,loopEnd:0.4103854875283447,attackEnd:0.02,holdEnd:0.02,decayEnd:0.02},\n      {top:128,name:'AltoSax_C6',baseRatio:2.3782742681047764,loop:true,loopStart:0.05705215419501134,loopEnd:0.0838095238095238,attackEnd:0,holdEnd:0,decayEnd:0}\n    ], [\n      {top:61,name:'Flute_B5_2',baseRatio:2.255113636363636,loop:true,loopStart:0.08430839002267573,loopEnd:0.10244897959183673,attackEnd:0,holdEnd:0,decayEnd:0},\n      {top:128,name:'Flute_B5_1',baseRatio:2.255113636363636,loop:true,loopStart:0.10965986394557824,loopEnd:0.12780045351473923,attackEnd:0,holdEnd:0,decayEnd:0}\n    ], [\n      {top:128,name:'WoodenFlute_C5',baseRatio:1.1892952324548416,loop:true,loopStart:0.5181859410430839,loopEnd:0.7131065759637188,attackEnd:0,holdEnd:0,decayEnd:0}\n    ], [\n      {top:57,name:'Bassoon_C3',baseRatio:0.29700969827586204,loop:true,loopStart:0.11011337868480725,loopEnd:0.19428571428571428,attackEnd:0,holdEnd:0,decayEnd:0},\n      {top:67,name:'Bassoon_C3',baseRatio:0.29700969827586204,loop:true,loopStart:0.11011337868480725,loopEnd:0.19428571428571428,attackEnd:0.04,holdEnd:0.04,decayEnd:0.04},\n      {top:76,name:'Bassoon_C3',baseRatio:0.29700969827586204,loop:true,loopStart:0.11011337868480725,loopEnd:0.19428571428571428,attackEnd:0.08,holdEnd:0.08,decayEnd:0.08},\n      {top:84,name:'EnglishHorn_F3',baseRatio:0.39601293103448276,loop:true,loopStart:0.341859410430839,loopEnd:0.4049886621315193,attackEnd:0.04,holdEnd:0.04,decayEnd:0.04},\n      {top:128,name:'EnglishHorn_D4',baseRatio:0.6699684005833739,loop:true,loopStart:0.22027210884353743,loopEnd:0.23723356009070296,attackEnd:0,holdEnd:0,decayEnd:0}\n    ], [\n      {top:39,name:'Choir_F3',baseRatio:0.3968814788643197,loop:true,loopStart:0.6352380952380953,loopEnd:1.8721541950113378,attackEnd:0,holdEnd:0,decayEnd:0},\n      {top:50,name:'Choir_F3',baseRatio:0.3968814788643197,loop:true,loopStart:0.6352380952380953,loopEnd:1.8721541950113378,attackEnd:0.04,holdEnd:0.04,decayEnd:0.04},\n      {top:61,name:'Choir_F3',baseRatio:0.3968814788643197,loop:true,loopStart:0.6352380952380953,loopEnd:1.8721541950113378,attackEnd:0.06,holdEnd:0.06,decayEnd:0.06},\n      {top:72,name:'Choir_F4',baseRatio:0.7928898424161845,loop:true,loopStart:0.7415419501133786,loopEnd:2.1059410430839,attackEnd:0,holdEnd:0,decayEnd:0},\n      {top:128,name:'Choir_F5',baseRatio:1.5879576065654504,loop:true,loopStart:0.836281179138322,loopEnd:2.0585487528344673,attackEnd:0,holdEnd:0,decayEnd:0}\n    ], [\n      {top:38,name:'Vibraphone_C3',baseRatio:0.29829545454545453,loop:true,loopStart:0.2812698412698413,loopEnd:0.28888888888888886,attackEnd:0,holdEnd:0.1,decayEnd:8.1},\n      {top:48,name:'Vibraphone_C3',baseRatio:0.29829545454545453,loop:true,loopStart:0.2812698412698413,loopEnd:0.28888888888888886,attackEnd:0,holdEnd:0.1,decayEnd:7.6},\n      {top:59,name:'Vibraphone_C3',baseRatio:0.29829545454545453,loop:true,loopStart:0.2812698412698413,loopEnd:0.28888888888888886,attackEnd:0,holdEnd:0.06,decayEnd:7.06},\n      {top:70,name:'Vibraphone_C3',baseRatio:0.29829545454545453,loop:true,loopStart:0.2812698412698413,loopEnd:0.28888888888888886,attackEnd:0,holdEnd:0.04,decayEnd:6.04},\n      {top:78,name:'Vibraphone_C3',baseRatio:0.29829545454545453,loop:true,loopStart:0.2812698412698413,loopEnd:0.28888888888888886,attackEnd:0,holdEnd:0.02,decayEnd:5.02},\n      {top:86,name:'Vibraphone_C3',baseRatio:0.29829545454545453,loop:true,loopStart:0.2812698412698413,loopEnd:0.28888888888888886,attackEnd:0,holdEnd:0,decayEnd:4},\n      {top:128,name:'Vibraphone_C3',baseRatio:0.29829545454545453,loop:true,loopStart:0.2812698412698413,loopEnd:0.28888888888888886,attackEnd:0,holdEnd:0,decayEnd:3}\n    ], [\n      {top:128,name:'MusicBox_C4',baseRatio:0.5937634640241276,loop:true,loopStart:0.6475283446712018,loopEnd:0.6666666666666666,attackEnd:0,holdEnd:0,decayEnd:2}\n    ], [\n      {top:128,name:'SteelDrum_D5',baseRatio:1.3660402567543959,loop:false,loopStart:-0.000045351473922902495,loopEnd:-0.000045351473922902495,attackEnd:0,holdEnd:0,decayEnd:2}\n    ],[\n      {top:128,name:'Marimba_C4',baseRatio:0.5946035575013605,loop:false,loopStart:-0.000045351473922902495,loopEnd:-0.000045351473922902495,attackEnd:0,holdEnd:0,decayEnd:0}\n    ], [\n      {top:80,name:'SynthLead_C4',baseRatio:0.5942328422565577,loop:true,loopStart:0.006122448979591836,loopEnd:0.06349206349206349,attackEnd:0,holdEnd:0,decayEnd:0},\n      {top:128,name:'SynthLead_C6',baseRatio:2.3760775862068964,loop:true,loopStart:0.005623582766439909,loopEnd:0.01614512471655329,attackEnd:0,holdEnd:0,decayEnd:0}\n    ], [\n      {top:38,name:'SynthPad_A3',baseRatio:0.4999105065330231,loop:true,loopStart:0.1910204081632653,loopEnd:3.9917006802721087,attackEnd:0.05,holdEnd:0.05,decayEnd:0.05},\n      {top:50,name:'SynthPad_A3',baseRatio:0.4999105065330231,loop:true,loopStart:0.1910204081632653,loopEnd:3.9917006802721087,attackEnd:0.08,holdEnd:0.08,decayEnd:0.08},\n      {top:62,name:'SynthPad_A3',baseRatio:0.4999105065330231,loop:true,loopStart:0.1910204081632653,loopEnd:3.9917006802721087,attackEnd:0.11,holdEnd:0.11,decayEnd:0.11},\n      {top:74,name:'SynthPad_A3',baseRatio:0.4999105065330231,loop:true,loopStart:0.1910204081632653,loopEnd:3.9917006802721087,attackEnd:0.15,holdEnd:0.15,decayEnd:0.15},\n      {top:86,name:'SynthPad_A3',baseRatio:0.4999105065330231,loop:true,loopStart:0.1910204081632653,loopEnd:3.9917006802721087,attackEnd:0.2,holdEnd:0.2,decayEnd:0.2},\n      {top:128,name:'SynthPad_C6',baseRatio:2.3820424708835755,loop:true,loopStart:0.11678004535147392,loopEnd:0.41732426303854875,attackEnd:0,holdEnd:0,decayEnd:0}\n    ]\n  ];\n\n  const SB2_SOUNDBANK_FILES = {\n    'AcousticGuitar_F3': 'sb2/instruments/AcousticGuitar_F3_22k.wav',\n    'AcousticPiano_As3': 'sb2/instruments/AcousticPiano(5)_A%233_22k.wav',\n    'AcousticPiano_C4': 'sb2/instruments/AcousticPiano(5)_C4_22k.wav',\n    'AcousticPiano_G4': 'sb2/instruments/AcousticPiano(5)_G4_22k.wav',\n    'AcousticPiano_F5': 'sb2/instruments/AcousticPiano(5)_F5_22k.wav',\n    'AcousticPiano_C6': 'sb2/instruments/AcousticPiano(5)_C6_22k.wav',\n    'AcousticPiano_Ds6': 'sb2/instruments/AcousticPiano(5)_D%236_22k.wav',\n    'AcousticPiano_D7': 'sb2/instruments/AcousticPiano(5)_D7_22k.wav',\n    'AltoSax_A3': 'sb2/instruments/AltoSax_A3_22K.wav',\n    'AltoSax_C6': 'sb2/instruments/AltoSax(3)_C6_22k.wav',\n    'Bassoon_C3': 'sb2/instruments/Bassoon_C3_22k.wav',\n    'BassTrombone_A2_2': 'sb2/instruments/BassTrombone_A2(2)_22k.wav',\n    'BassTrombone_A2_3': 'sb2/instruments/BassTrombone_A2(3)_22k.wav',\n    'Cello_C2': 'sb2/instruments/Cello(3b)_C2_22k.wav',\n    'Cello_As2': 'sb2/instruments/Cello(3)_A%232_22k.wav',\n    'Choir_F3': 'sb2/instruments/Choir(4)_F3_22k.wav',\n    'Choir_F4': 'sb2/instruments/Choir(4)_F4_22k.wav',\n    'Choir_F5': 'sb2/instruments/Choir(4)_F5_22k.wav',\n    'Clarinet_C4': 'sb2/instruments/Clarinet_C4_22k.wav',\n    'ElectricBass_G1': 'sb2/instruments/ElectricBass(2)_G1_22k.wav',\n    'ElectricGuitar_F3': 'sb2/instruments/ElectricGuitar(2)_F3(1)_22k.wav',\n    'ElectricPiano_C2': 'sb2/instruments/ElectricPiano_C2_22k.wav',\n    'ElectricPiano_C4': 'sb2/instruments/ElectricPiano_C4_22k.wav',\n    'EnglishHorn_D4': 'sb2/instruments/EnglishHorn(1)_D4_22k.wav',\n    'EnglishHorn_F3': 'sb2/instruments/EnglishHorn(1)_F3_22k.wav',\n    'Flute_B5_1': 'sb2/instruments/Flute(3)_B5(1)_22k.wav',\n    'Flute_B5_2': 'sb2/instruments/Flute(3)_B5(2)_22k.wav',\n    'Marimba_C4': 'sb2/instruments/Marimba_C4_22k.wav',\n    'MusicBox_C4': 'sb2/instruments/MusicBox_C4_22k.wav',\n    'Organ_G2': 'sb2/instruments/Organ(2)_G2_22k.wav',\n    'Pizz_A3': 'sb2/instruments/Pizz(2)_A3_22k.wav',\n    'Pizz_E4': 'sb2/instruments/Pizz(2)_E4_22k.wav',\n    'Pizz_G2': 'sb2/instruments/Pizz(2)_G2_22k.wav',\n    'SteelDrum_D5': 'sb2/instruments/SteelDrum_D5_22k.wav',\n    'SynthLead_C4': 'sb2/instruments/SynthLead(6)_C4_22k.wav',\n    'SynthLead_C6': 'sb2/instruments/SynthLead(6)_C6_22k.wav',\n    'SynthPad_A3': 'sb2/instruments/SynthPad(2)_A3_22k.wav',\n    'SynthPad_C6': 'sb2/instruments/SynthPad(2)_C6_22k.wav',\n    'TenorSax_C3': 'sb2/instruments/TenorSax(1)_C3_22k.wav',\n    'Trombone_B3': 'sb2/instruments/Trombone_B3_22k.wav',\n    'Trumpet_E5': 'sb2/instruments/Trumpet_E5_22k.wav',\n    'Vibraphone_C3': 'sb2/instruments/Vibraphone_C3_22k.wav',\n    'Violin_D4': 'sb2/instruments/Violin(2)_D4_22K.wav',\n    'Violin_A4': 'sb2/instruments/Violin(3)_A4_22k.wav',\n    'Violin_E5': 'sb2/instruments/Violin(3b)_E5_22k.wav',\n    'WoodenFlute_C5': 'sb2/instruments/WoodenFlute_C5_22k.wav',\n    'BassDrum': 'sb2/drums/BassDrum(1b)_22k.wav',\n    'Bongo': 'sb2/drums/Bongo_22k.wav',\n    'Cabasa': 'sb2/drums/Cabasa(1)_22k.wav',\n    'Clap': 'sb2/drums/Clap(1)_22k.wav',\n    'Claves': 'sb2/drums/Claves(1)_22k.wav',\n    'Conga': 'sb2/drums/Conga(1)_22k.wav',\n    'Cowbell': 'sb2/drums/Cowbell(3)_22k.wav',\n    'Crash': 'sb2/drums/Crash(2)_22k.wav',\n    'Cuica': 'sb2/drums/Cuica(2)_22k.wav',\n    'GuiroLong': 'sb2/drums/GuiroLong(1)_22k.wav',\n    'GuiroShort': 'sb2/drums/GuiroShort(1)_22k.wav',\n    'HiHatClosed': 'sb2/drums/HiHatClosed(1)_22k.wav',\n    'HiHatOpen': 'sb2/drums/HiHatOpen(2)_22k.wav',\n    'HiHatPedal': 'sb2/drums/HiHatPedal(1)_22k.wav',\n    'Maracas': 'sb2/drums/Maracas(1)_22k.wav',\n    'SideStick': 'sb2/drums/SideStick(1)_22k.wav',\n    'SnareDrum': 'sb2/drums/SnareDrum(1)_22k.wav',\n    'Tambourine': 'sb2/drums/Tambourine(3)_22k.wav',\n    'Tom': 'sb2/drums/Tom(1)_22k.wav',\n    'Triangle': 'sb2/drums/Triangle(1)_22k.wav',\n    'Vibraslap': 'sb2/drums/Vibraslap(1)_22k.wav',\n    'WoodBlock': 'sb2/drums/WoodBlock(1)_22k.wav'\n  };\n  const soundbank: {[s: string]: AudioBuffer} = {};\n\n  /**\n   * Loads missing soundbank files, if any.\n   */\n  export function loadSoundbankSB2(loader?: P.io.Loader): Promise<any> {\n    if (!context) return Promise.resolve();\n\n    const promises: Promise<unknown>[] = [];\n    for (const name in SB2_SOUNDBANK_FILES) {\n      if (!soundbank[name]) {\n        const promise = P.utils.settled(loadSoundbankBuffer(name));\n        promises.push(promise);\n        if (loader) {\n          loader.addTask(new P.io.PromiseTask(promise));\n        }\n      }\n    }\n\n    return Promise.all(promises);\n  }\n\n  /**\n   * Loads a soundbank file\n   */\n  function loadSoundbankBuffer(name: string): Promise<AudioBuffer> {\n    return P.io.getAssetManager().loadSoundbankFile(SB2_SOUNDBANK_FILES[name])\n      .then((buffer) => P.audio.decodeAudio(buffer))\n      .then((sound) => soundbank[name] = sound);\n  }\n\n  export function playSpan(span: Span, key: number, duration: number, connection: AudioNode): AudioNode {\n    if (!context) {\n      throw new Error('Cannot playSpan without an AudioContext');\n    }\n\n    const buffer = soundbank[span.name];\n    if (!buffer) {\n      throw new Error('No soundbank entry named: ' + span.name);\n    }\n\n    const source = context.createBufferSource();\n    const note = context.createGain();\n\n    source.buffer = buffer;\n    if (source.loop = span.loop) {\n      source.loopStart = span.loopStart as number;\n      source.loopEnd = span.loopEnd as number;\n    }\n\n    source.connect(note);\n    note.connect(connection);\n\n    const time = context.currentTime;\n    source.playbackRate.value = Math.pow(2, (key - 69) / 12) / span.baseRatio;\n\n    const gain = note.gain;\n    gain.value = 0;\n    gain.setValueAtTime(0, time);\n    if (span.attackEnd < duration) {\n      gain.linearRampToValueAtTime(1, time + span.attackEnd);\n      if ((span.decayTime as any) > 0 && span.holdEnd < duration) {\n        gain.linearRampToValueAtTime(1, time + span.holdEnd);\n        if (span.decayEnd < duration) {\n          gain.linearRampToValueAtTime(0, time + span.decayEnd);\n        } else {\n          gain.linearRampToValueAtTime(1 - (duration - span.holdEnd) / span.decayTime!, time + duration);\n        }\n      } else {\n        gain.linearRampToValueAtTime(1, time + duration);\n      }\n    } else {\n      gain.linearRampToValueAtTime(1, time + duration);\n    }\n    gain.linearRampToValueAtTime(0, time + duration + 0.02267573696);\n\n    source.start(time);\n    source.stop(time + duration + 0.02267573696);\n    return source;\n  }\n\n  /**\n   * Connect an audio node\n   */\n  export function connectNode(node: AudioNode) {\n    node.connect(globalNode);\n  }\n\n  const ADPCM_STEPS = [\n    7, 8, 9, 10, 11, 12, 13, 14, 16, 17,\n    19, 21, 23, 25, 28, 31, 34, 37, 41, 45,\n    50, 55, 60, 66, 73, 80, 88, 97, 107, 118,\n    130, 143, 157, 173, 190, 209, 230, 253, 279, 307,\n    337, 371, 408, 449, 494, 544, 598, 658, 724, 796,\n    876, 963, 1060, 1166, 1282, 1411, 1552, 1707, 1878, 2066,\n    2272, 2499, 2749, 3024, 3327, 3660, 4026, 4428, 4871, 5358,\n    5894, 6484, 7132, 7845, 8630, 9493, 10442, 11487, 12635, 13899,\n    15289, 16818, 18500, 20350, 22385, 24623, 27086, 29794, 32767,\n  ];\n  const ADPCM_INDEX = [-1, -1, -1, -1, 2, 4, 6, 8, -1, -1, -1, -1, 2, 4, 6, 8];\n\n  function decodeADPCMAudio(ab: ArrayBuffer, cb) {\n    var dv = new DataView(ab);\n    if (dv.getUint32(0) !== 0x52494646 || dv.getUint32(8) !== 0x57415645) {\n      return cb(new Error('Unrecognized audio format'));\n    }\n\n    var blocks: ObjectMap<number> = {};\n    var i = 12, l = dv.byteLength - 8;\n    while (i < l) {\n      blocks[String.fromCharCode(\n        dv.getUint8(i),\n        dv.getUint8(i + 1),\n        dv.getUint8(i + 2),\n        dv.getUint8(i + 3))] = i;\n      i += 8 + dv.getUint32(i + 4, true);\n    }\n\n    var format        = dv.getUint16(20, true);\n    var channels      = dv.getUint16(22, true);\n    var sampleRate    = dv.getUint32(24, true);\n    var byteRate      = dv.getUint32(28, true);\n    var blockAlign    = dv.getUint16(32, true);\n    var bitsPerSample = dv.getUint16(34, true);\n\n    if (format === 17) {\n      var samplesPerBlock = dv.getUint16(38, true);\n      var blockSize = ((samplesPerBlock - 1) / 2) + 4;\n\n      var frameCount = dv.getUint32(blocks.fact + 8, true);\n\n      var buffer = context!.createBuffer(1, frameCount, sampleRate);\n      var channel = buffer.getChannelData(0);\n\n      var sample, index = 0;\n      var step, code, delta;\n      var lastByte = -1;\n\n      var offset = blocks.data + 8;\n      i = offset;\n      var j = 0;\n      while (true) {\n        if ((((i - offset) % blockSize) == 0) && (lastByte < 0)) {\n          if (i >= dv.byteLength) break;\n          sample = dv.getInt16(i, true); i += 2;\n          index = dv.getUint8(i); i += 1;\n          i++;\n          if (index > 88) index = 88;\n          channel[j++] = sample / 32767;\n        } else {\n          if (lastByte < 0) {\n            if (i >= dv.byteLength) break;\n            lastByte = dv.getUint8(i); i += 1;\n            code = lastByte & 0xf;\n          } else {\n            code = (lastByte >> 4) & 0xf;\n            lastByte = -1;\n          }\n          step = ADPCM_STEPS[index];\n          delta = 0;\n          if (code & 4) delta += step;\n          if (code & 2) delta += step >> 1;\n          if (code & 1) delta += step >> 2;\n          delta += step >> 3;\n          index += ADPCM_INDEX[code];\n          if (index > 88) index = 88;\n          if (index < 0) index = 0;\n          sample += (code & 8) ? -delta : delta;\n          if (sample > 32767) sample = 32767;\n          if (sample < -32768) sample = -32768;\n          channel[j++] = sample / 32768;\n        }\n      }\n      return cb(null, buffer);\n    }\n    cb(new Error('Unrecognized WAV format ' + format));\n  }\n\n  export function decodeAudio(ab: ArrayBuffer): Promise<AudioBuffer> {\n    if (!context) {\n      return Promise.reject(new Error('No audio context'));\n    }\n\n    return new Promise((resolve, reject) => {\n      decodeADPCMAudio(ab, function(err1: any, buffer: AudioBuffer) {\n        if (buffer) {\n          resolve(buffer);\n          return;\n        }\n\n        // Hope that the audio context will know what to do\n        audio.context!.decodeAudioData(ab, function(buffer) {\n          resolve(buffer);\n        }, function(err2) {\n          reject(`Could not decode audio: ${err1} | ${err2}`);\n        });\n      });\n    });\n  }\n}\n","/// <reference path=\"../phosphorus.ts\" />\n\nnamespace P.renderer {\n  // Abstract definition for renderers.\n\n  export interface ProjectRenderer {\n    /**\n     * The canvas used by this renderer.\n     */\n    canvas: HTMLCanvasElement;\n    /**\n     * The stage that this renderer is used by.\n     * This renderer must only be used by this stage and with sprites within this stage.\n     */\n    stage: P.core.Stage;\n    /**\n     * Reset and draw a new frame.\n     */\n    drawFrame(): void;\n    /**\n     * Initialize this renderer and append its canvas(es) to a given root node.\n     */\n    init(root: HTMLElement): void;\n    /**\n     * Delete this renderer.\n     */\n    destroy(): void;\n    /**\n     * Called when the filters on the stage have changed.\n     */\n    onStageFiltersChanged(): void;\n    /**\n     * Asks this renderer to resize itself.\n     * Renderer may choose what to resize and when.\n     * @param scale Zoom level of the renderer, 1 = 1x zoom. Does not include device pixel ratio.\n     */\n    resize(scale: number): void;\n    /**\n     * Draws a line on the pen canvas\n     * @param color Color of the line\n     * @param size Width of the line\n     * @param x Starting X coordinate in the Scratch coordinate grid\n     * @param y Starting Y coordinate in the Scratch coordinate grid\n     * @param x2 Ending X coordinate in the Scratch coordinate grid\n     * @param y2 Starting Y coordinate in the Scratch coordinate grid\n     */\n    penLine(color: P.core.PenColor, size: number, x: number, y: number, x2: number, y2: number): void;\n    /**\n     * Draws a circular dot on the pen layer\n     * @param color Color of the dot\n     * @param size Diameter of the circle\n     * @param x Central X coordinate in the Scratch coordinate grid\n     * @param y Central Y coordinate in the Scratch coordinate grid\n     */\n    penDot(color: P.core.PenColor, size: number, x: number, y: number): void;\n    /**\n     * Stamp a Sprite on the pen layer\n     */\n    penStamp(sprite: P.core.Base): void;\n    /**\n     * Clear the pen layer\n     */\n    penClear(): void;\n    /**\n     * Determines if a Sprite is intersecting a point\n     * @param sprite The sprite\n     * @param x X coordinate in the Scratch coordinate grid\n     * @param y Y coordinate in the Scratch coordinate grid\n     */\n    spriteTouchesPoint(sprite: P.core.Sprite, x: number, y: number): boolean;\n    /**\n     * Determines if a Sprite is touching another Sprite\n     * @param spriteA The first sprite\n     * @param spriteB Other sprites to test for collision\n     */\n    spritesIntersect(spriteA: P.core.Base, otherSprites: P.core.Base[]): boolean;\n    /**\n     * Determines if a Sprite is touching a color\n     * @param sprite The sprite\n     * @param color The RGB color, in number form.\n     */\n    spriteTouchesColor(sprite: P.core.Base, color: number): boolean;\n    /**\n     * Determines if a color from one object is touching a color\n     * @param sprite The sprite\n     * @param spriteColor The color on the Sprite\n     * @param otherColor The color on the rest of the stage\n     */\n    spriteColorTouchesColor(sprite: P.core.Base, spriteColor: number, otherColor: number): boolean;\n  }\n}\n","/// <reference path=\"phosphorus.ts\" />\n/// <reference path=\"config.ts\" />\n/// <reference path=\"rendering/renderer.ts\" />\n\n// Phosphorus base classes\n// Implements most functionality while leaving some specifics to implementations (P.sb2, P.sb3)\nnamespace P.core {\n  interface RotatedBounds {\n    // A----------+\n    // |          |\n    // |          |\n    // +----------B\n    // Where top is the scratchY of A,\n    // bottom is the scratchY of B,\n    // left is the scratchX of A,\n    // and right is the scratchX of B\n\n    top: number;\n    bottom: number;\n    left: number;\n    right: number;\n  }\n\n  interface Listeners {\n    whenClicked: P.runtime.Fn[];\n    whenCloned: P.runtime.Fn[];\n    whenGreenFlag: P.runtime.Fn[];\n    whenIReceive: ObjectMap<P.runtime.Fn[]>;\n    whenKeyPressed: ObjectMap<P.runtime.Fn[]>;\n    whenSceneStarts: ObjectMap<P.runtime.Fn[]>;\n    edgeActivated: P.runtime.Fn[];\n  }\n\n  export interface ActiveSound {\n    stopped: boolean;\n    node: AudioNode;\n    base: P.runtime.Fn;\n  }\n\n  export interface Filters {\n    color: number;\n    fisheye: number;\n    whirl: number;\n    pixelate: number;\n    mosaic: number;\n    brightness: number;\n    ghost: number;\n  }\n\n  export interface SoundFilters {\n    pitch: number;\n  }\n\n  export const enum RotationStyle {\n    /**\n     * Indicates this sprite may rotate in any direction.\n     */\n    Normal,\n    /**\n     * Indicates this sprite can only rotate left or right.\n     */\n    LeftRight,\n    /**\n     * Indicates this sprite cannot rotate.\n     */\n    None,\n  }\n\n  export const enum SpecialObjects {\n    Mouse = '_mouse_',\n    Stage = '_stage_',\n    Random = '_random_',\n    Edge = '_edge_',\n  }\n\n  const enum PenMode { RGBA, HSLA, HSVA };\n\n  export class PenColor {\n    private x: number = 0;\n    private y: number = 0;\n    private z: number = 255;\n    private a: number = 1;\n    private mode: PenMode = PenMode.RGBA;\n    private css: string = 'rgba(0, 0, 255, 1)';\n\n    /**\n     * Set this color to an RGB(A) color, encoded in a single number.\n     */\n    setRGBA(rgba: number) {\n      this.x = rgba >> 16 & 0xff;\n      this.y = rgba >> 8 & 0xff;\n      this.z = rgba & 0xff;\n      this.a = (rgba >> 24 & 0xff) / 0xff || 1;\n      this.css = 'rgba(' + this.x + ', ' + this.y + ', ' + this.z + ', ' + this.a + ')';\n      this.mode = PenMode.RGBA;\n    }\n\n    /**\n     * Set this color to an RGB(A) color, encoded in a single number, accounting for Scratch 3's inaccurate colors.\n     */\n    setShiftedRGBA(rgba: number) {\n      this.setRGBA(rgba);\n      // Scratch 3 internally stores all colors as HSV, and floors the RGB components resulting in the\n      // actual color being displayed to sometimes be slightly different.\n      // For example, set pen color to #ff00ff actually draws #ff00fe.... brilliant.\n      this.toHSVA();\n    }\n\n    toHSLA() {\n      switch (this.mode) {\n        case PenMode.RGBA: {\n          this.mode = PenMode.HSLA;\n          const hsl = P.utils.rgbToHSL(this.x, this.y, this.z);\n          this.x = hsl[0];\n          this.y = hsl[1] * 100;\n          this.z = hsl[2] * 100;\n          break;\n        }\n        case PenMode.HSVA: {\n          this.mode = PenMode.HSLA;\n          const hsl = P.utils.hsvToHSL(this.x, this.y / 100, this.z / 100);\n          this.x = hsl[0];\n          this.y = hsl[1] * 100;\n          this.z = hsl[2] * 100;\n          break;\n        }\n      }\n    }\n\n    toHSVA() {\n      switch (this.mode) {\n        case PenMode.RGBA: {\n          this.mode = PenMode.HSVA;\n          const hsv = P.utils.rgbToHSV(this.x, this.y, this.z);\n          this.x = hsv[0];\n          this.y = hsv[1] * 100;\n          this.z = hsv[2] * 100;\n          break;\n        }\n        case PenMode.HSLA: {\n          this.mode = PenMode.HSVA;\n          const hsv = P.utils.hslToHSV(this.x, this.y / 100, this.z / 100);\n          this.x = hsv[0];\n          this.y = hsv[1] * 100;\n          this.z = hsv[2] * 100;\n          break;\n        }\n      }\n    }\n\n    /**\n     * Convert this color to its RGBA parts\n     * R, G, B [0-255]\n     * A [0-1]\n     */\n    toParts(): [number, number, number, number] {\n      switch (this.mode) {\n        case PenMode.RGBA: {\n          return [this.x, this.y, this.z, this.a];\n        }\n        case PenMode.HSVA: {\n          const rgb = P.utils.hsvToRGB(this.x / 360, this.y / 100, this.z / 100);\n          return [rgb[0], rgb[1], rgb[2], this.a];\n        }\n        case PenMode.HSLA: {\n          const rgb = P.utils.hslToRGB(this.x / 360, this.y / 100, this.z / 100);\n          return [rgb[0], rgb[1], rgb[2], this.a];\n        }\n      }\n    }\n\n    /**\n     * Convert this color to a CSS color code of some sort.\n     */\n    toCSS(): string {\n      switch (this.mode) {\n        case PenMode.RGBA:\n          return this.css;\n        case PenMode.HSLA:\n          return 'hsla(' + this.x + ',' + this.y + '%,' + (this.z > 100 ? 200 - this.z : this.z) + '%,' + this.a + ')';\n        case PenMode.HSVA: {\n          const rgb = P.utils.hsvToRGB(this.x / 360, this.y / 100, this.z / 100);\n          return 'rgba(' + rgb[0] + ', ' + rgb[1] + ', ' + rgb[2] + ', ' + this.a + ')';\n        }\n      }\n    }\n\n    setParam(param: string, value: number) {\n      this.toHSVA();\n      switch (param) {\n        case 'color':\n          this.x = (value * 360 / 100) % 360;\n          if (this.x < 0) this.x += 360;\n          break;\n        case 'saturation':\n          this.y = P.utils.clamp(value, 0, 100);\n          break;\n        case 'brightness':\n          this.z = P.utils.clamp(value, 0, 100);\n          break;\n        case 'transparency':\n          this.a = 1 - (value / 100);\n          if (this.a > 1) this.a = 1;\n          if (this.a < 0) this.a = 0;\n          break;\n      }\n    }\n\n    changeParam(param: string, value: number) {\n      this.toHSVA();\n      switch (param) {\n        case 'color':\n          this.x = (this.x + value * 360 / 100) % 360;\n          if (this.x < 0) this.x += 360;\n          break;\n        case 'saturation':\n          this.y = P.utils.clamp(this.y + value, 0, 100);\n          break;\n        case 'brightness':\n          this.z = P.utils.clamp(this.z + value, 0, 100);\n          break;\n        case 'transparency':\n          this.a = Math.max(0, Math.min(1, this.a - value / 100));\n          break;\n      }\n    }\n\n    copy(other: PenColor) {\n      this.x = other.x;\n      this.y = other.y;\n      this.z = other.z;\n      this.a = other.a;\n      this.css = other.css;\n      this.mode = other.mode;\n    }\n  }\n\n  export const enum SpecialKeys {\n    Enter = 'enter',\n    Space = 'space',\n    Left = 'left arrow',\n    Up = 'up arrow',\n    Right = 'right arrow',\n    Down = 'down arrow',\n    Tab = 'tab',\n    Backspace = 'backspace',\n    Delete = 'delete',\n    Insert = 'insert',\n    Home = 'home',\n    End = 'end',\n    PageUp = 'page up',\n    PageDown = 'page down',\n    Escape = 'esc',\n    Control = 'control',\n    Shift = '_shift', // Using 'shift' causes issues because of it's prototypes\n  }\n\n  export abstract class Base {\n    /**\n     * The stage this object belongs to.\n     */\n    public stage: Stage;\n    /**\n     * Is this a stage?\n     */\n    public isStage: boolean = false;\n    /**\n     * Is this a sprite?\n     */\n    public isSprite: boolean = false;\n    /**\n     * Was this Sprite created as a clone of another?\n     */\n    public isClone: boolean = false;\n    /**\n     * Is this object visible?\n     */\n    public visible: boolean = true;\n    /**\n     * The sprite's X coordinate on the Scratch grid.\n     */\n    public scratchX: number = 0;\n    /**\n     * The sprite's Y coordinate on the Scratch grid.\n     */\n    public scratchY: number = 0;\n    /**\n     * The name of this object.\n     */\n    public name: string = '';\n    /**\n     * Costumes that belong to this object.\n     */\n    public costumes: Costume[] = [];\n    /**\n     * The index of the currently selected costume in its costume list.\n     */\n    public currentCostumeIndex: number = 0;\n    /**\n     * Sounds that belong to this object.\n     */\n    public sounds: Sound[] = [];\n    /**\n     * Maps the names of sounds to the corresponding Sound\n     */\n    public soundRefs: ObjectMap<Sound> = {};\n    /**\n     * Currently selected instrument\n     */\n    public instrument: number = 0;\n    /**\n     * The volume of this object, where 1.0 === 100% volume\n     */\n    public volume: number = 1;\n    /**\n     * The audio node that this object outputs to.\n     */\n    public node: GainNode | null = null;\n    /**\n     * Actively playing sounds started with \"play until done\"\n     */\n    public activeSounds: Set<ActiveSound> = new Set();\n    /**\n     * Variable watchers that this object owns.\n     */\n    public watchers: ObjectMap<Watcher> = {};\n    /**\n     * List watchers that this object owns.\n     */\n    public listWatchers: ObjectMap<Watcher> = {};\n    /**\n     * Variables of this object.\n     * Maps variable names (or ids) to their value.\n     * Values can be of any type and should likely be converted first.\n     */\n    public vars: ObjectMap<any> = {};\n    /**\n     * Lists of this object.\n     * Maps list names (or ids) to their list.\n     * Each list can contain objects of any type, and should be converted first.\n     */\n    public lists: ObjectMap<Array<any>> = {};\n    /**\n     * Is this object saying something?\n     */\n    public saying: boolean = false;\n    /**\n     * Should this object's speech bubble be a thinking bubble instead?\n     */\n    public thinking: boolean = false;\n    /**\n     * The ID of the last thing said.\n     */\n    public sayId: number = 0;\n    public bubbleContainer: HTMLElement;\n    public bubblePointer: HTMLElement;\n    public bubbleText: Text;\n    /**\n     * Maps procedure names (usually includes parameters) to the Procedure object\n     */\n    public procedures: ObjectMap<Procedure> = {};\n    public listeners: Listeners = {\n      whenClicked: [],\n      whenCloned: [],\n      whenGreenFlag: [],\n      whenIReceive: {},\n      whenKeyPressed: {},\n      whenSceneStarts: {},\n      edgeActivated: [],\n    };\n    public fns: P.runtime.Fn[] = [];\n    public filters: Filters = {\n      color: 0,\n      fisheye: 0,\n      whirl: 0,\n      pixelate: 0,\n      mosaic: 0,\n      brightness: 0,\n      ghost: 0,\n    };\n    public soundFilters: SoundFilters = {\n      pitch: 0,\n    };\n\n    // Pen data\n    public penSize: number = 1;\n    public penColor: PenColor = new PenColor();\n    public isPenDown: boolean = false;\n\n    // Data/Loading methods\n\n    addSound(sound: Sound) {\n      this.soundRefs[sound.name] = sound;\n      this.sounds.push(sound);\n    }\n\n    // Implementations of Scratch blocks\n\n    showVariable(name: string, visible: boolean) {\n      let watcher = this.watchers[name];\n      // Create watchers that might not exist\n      if (!watcher) {\n        const newWatcher = this.createVariableWatcher(this, name);\n        if (!newWatcher) {\n          return;\n        }\n        newWatcher.init();\n        this.watchers[name] = watcher = newWatcher;\n        this.stage.allWatchers.push(watcher);\n      }\n      watcher.setVisible(visible);\n    }\n\n    showList(name: string, visible: boolean) {\n      let watcher = this.listWatchers[name];\n      if (!watcher) {\n        const newWatcher = this.createListWatcher(this, name);\n        if (!newWatcher) {\n          return;\n        }\n        newWatcher.init();\n        this.listWatchers[name] = watcher = newWatcher;\n        this.stage.allWatchers.push(watcher);\n      }\n      watcher.setVisible(visible);\n    }\n\n    showNextCostume() {\n      this.currentCostumeIndex = (this.currentCostumeIndex + 1) % this.costumes.length;\n      if (this.saying && isSprite(this)) this.updateBubble();\n    }\n\n    showPreviousCostume() {\n      var length = this.costumes.length;\n      this.currentCostumeIndex = (this.currentCostumeIndex + length - 1) % length;\n      if (this.saying && isSprite(this)) this.updateBubble();\n    }\n\n    getCostumeName() {\n      return this.costumes[this.currentCostumeIndex] ? this.costumes[this.currentCostumeIndex].name : '';\n    }\n\n    setCostume(costume: any) {\n      if (typeof costume !== 'number') {\n        costume = '' + costume;\n        for (var i = 0; i < this.costumes.length; i++) {\n          if (this.costumes[i].name === costume) {\n            this.currentCostumeIndex = i;\n            if (this.saying && isSprite(this)) this.updateBubble();\n            return;\n          }\n        }\n        if (costume === (this.isSprite ? 'next costume' : 'next backdrop')) {\n          this.showNextCostume();\n          return;\n        }\n        if (costume === (this.isSprite ? 'previous costume' : 'previous backdrop')) {\n          this.showPreviousCostume();\n          return;\n        }\n        if (!isFinite(costume) || !/\\d/.test(costume)) {\n          return;\n        }\n      }\n\n      if (Number.isNaN(costume) || costume === Infinity || costume === -Infinity) {\n        costume = 1;\n      }\n      var i = (Math.floor(costume) - 1) % this.costumes.length;\n      if (i < 0) i += this.costumes.length;\n      this.currentCostumeIndex = i;\n      if (isSprite(this) && this.saying) this.updateBubble();\n    }\n\n    setFilter(name: string, value: number) {\n      switch (name) {\n        case 'ghost':\n          if (value < 0) value = 0;\n          if (value > 100) value = 100;\n          break;\n        case 'brightness':\n          if (value < -100) value = -100;\n          if (value > 100) value = 100;\n          break;\n        case 'color':\n          if (value === Infinity) {\n            break;\n          }\n          value = value % 200;\n          if (value < 0) value += 200;\n          break;\n      }\n      this.filters[name] = value;\n    }\n\n    changeFilter(name: string, value: number) {\n      this.setFilter(name, this.filters[name] + value);\n    }\n\n    resetFilters() {\n      this.filters = {\n        color: 0,\n        fisheye: 0,\n        whirl: 0,\n        pixelate: 0,\n        mosaic: 0,\n        brightness: 0,\n        ghost: 0\n      };\n      this.soundFilters = {\n        pitch: 0\n      };\n    }\n\n    setSoundFilter(name: string, value: number) {\n      // convert NaN to 0\n      // todo: NaN should never even be able to get here, see if this is necessary\n      value = value || 0;\n      switch (name.toLowerCase()) {\n        case 'pitch':\n          this.soundFilters.pitch = value;\n          if (!this.stage.removeLimits) {\n            if (this.soundFilters.pitch > 360) this.soundFilters.pitch = 360;\n            if (this.soundFilters.pitch < -360) this.soundFilters.pitch = -360;\n          }\n          break;\n      }\n    }\n\n    changeSoundFilter(name: string, value: number) {\n      switch (name.toLowerCase()) {\n        case 'pitch':\n          this.soundFilters.pitch += value;\n          if (!this.stage.removeLimits) {\n            if (this.soundFilters.pitch > 360) this.soundFilters.pitch = 360;\n            if (this.soundFilters.pitch < -360) this.soundFilters.pitch = -360;\n          }\n          break;\n      }\n    }\n\n    resetSoundFilters() {\n      this.soundFilters = {\n        pitch: 0,\n      };\n    }\n\n    getSound(name) {\n      if (typeof name === 'string') {\n        var s = this.soundRefs[name];\n        if (s) return s;\n        name = parseInt(name, 10);\n      }\n      var l = this.sounds.length;\n      if (l && typeof name === 'number' && name === name) {\n        var i = Math.round(name - 1) % l;\n        if (i < 0) i += l;\n        return this.sounds[i];\n      }\n    }\n\n    /**\n     * Stops all sounds in this object.\n     */\n    stopSounds() {\n      if (this.node) {\n        for (const sound of this.activeSounds) {\n          sound.stopped = true;\n          if (sound.node) {\n            sound.node.disconnect();\n          }\n        }\n        this.activeSounds.clear();\n        this.node.disconnect();\n        this.node = null;\n      }\n    }\n\n    stopSoundsExcept(originBase: P.runtime.Fn) {\n      if (this.node) {\n        for (const sound of this.activeSounds) {\n          if (sound.base !== originBase) {\n            if (sound.node) {\n              sound.node.disconnect();\n            }\n            sound.stopped = true;\n            this.activeSounds.delete(sound);\n          }\n        }\n      }\n    }\n\n    ask(question: string) {\n      var stage = this.stage;\n      if (question) {\n        if (this.visible && isSprite(this)) {\n          this.say(question);\n          stage.promptTitle.style.display = 'none';\n        } else {\n          stage.promptTitle.style.display = 'block';\n          stage.promptTitle.textContent = question;\n        }\n      } else {\n        stage.promptTitle.style.display = 'none';\n      }\n      stage.hidePrompt = false;\n      stage.prompter.style.display = 'block';\n      stage.prompt.value = '';\n      stage.prompt.focus();\n    }\n\n    /**\n     * Makes this object say some text.\n     * @param text The text to say\n     * @param thinking If the text box should be in the thinking style or just speaking\n     * @returns A unique ID for this bubble\n     */\n    say(text: string, thinking: boolean = false): number {\n      text = '' + text;\n\n      // Empty strings disable saying anything.\n      if (text.length === 0) {\n        this.saying = false;\n        if (this.bubbleContainer) this.bubbleContainer.style.display = 'none';\n        return ++this.sayId;\n      }\n\n      this.saying = true;\n      this.thinking = thinking;\n      if (!this.bubbleContainer) {\n        this.bubbleContainer = document.createElement('div');\n        this.bubbleContainer.style.maxWidth = (127/14)+'em';\n        this.bubbleContainer.style.minWidth = (48/14)+'em';\n        this.bubbleContainer.style.padding = (8/14)+'em '+(10/14)+'em';\n        this.bubbleContainer.style.border = (3/14)+'em solid rgb(160, 160, 160)';\n        this.bubbleContainer.style.borderRadius = (10/14)+'em';\n        this.bubbleContainer.style.background = '#fff';\n        this.bubbleContainer.style.position = 'absolute';\n        this.bubbleContainer.style.font = 'bold 1.4em sans-serif';\n        this.bubbleContainer.style.whiteSpace = 'pre-wrap';\n        this.bubbleContainer.style.wordWrap = 'break-word';\n        this.bubbleContainer.style.textAlign = 'center';\n        this.bubbleContainer.style.cursor = 'default';\n        this.bubbleContainer.style.pointerEvents = 'auto';\n        this.bubbleContainer.appendChild(this.bubbleText = document.createTextNode(''));\n        this.bubbleContainer.appendChild(this.bubblePointer = document.createElement('div'));\n        this.bubblePointer.style.position = 'absolute';\n        this.bubblePointer.style.height = (21 / 14) + 'em';\n        this.bubblePointer.style.width = (44 / 14) + 'em';\n        this.bubblePointer.style.background = `url(\"${P.io.config.localPath}icons.svg\")`;\n        this.bubblePointer.style.backgroundSize = (384/14) + 'em ' + (64/14) + 'em';\n        this.bubblePointer.style.backgroundPositionY = (-4/14) + 'em';\n        this.stage.ui.appendChild(this.bubbleContainer);\n      }\n      this.bubblePointer.style.backgroundPositionX = (thinking ? -323 : -259) / 14 + 'em';\n      this.bubbleContainer.style.display = 'block';\n      this.bubbleText.nodeValue = text;\n      this.updateBubble();\n      return ++this.sayId;\n    }\n\n    /**\n     * Updates the position of the speech bubble, or hides it.\n     */\n    updateBubble() {\n      if (!this.visible || !this.saying) {\n        this.bubbleContainer.style.display = 'none';\n        return;\n      }\n\n      this.bubbleContainer.style.display = 'block';\n      const b = this.rotatedBounds();\n      const left = 240 + b.right;\n      var bottom = 180 + b.top;\n      const bcr = this.bubbleContainer.getBoundingClientRect();\n      const height = (bcr.bottom - bcr.top) / this.stage.zoom;\n      const width = (bcr.right - bcr.left) / this.stage.zoom;\n      this.bubblePointer.style.top = ((height - 6) / 14) + 'em';\n      if (left + width + 2 > 480) {\n        var d = (240 - b.left) / 14;\n        if (d > 25) d = 25;\n        this.bubbleContainer.style.right = d + 'em';\n        this.bubbleContainer.style.left = 'auto';\n        this.bubblePointer.style.right = (3/14)+'em';\n        this.bubblePointer.style.left = 'auto';\n        this.bubblePointer.style.backgroundPositionY = (-36/14)+'em';\n      } else {\n        this.bubbleContainer.style.left = (left / 14) + 'em';\n        this.bubbleContainer.style.right = 'auto';\n        this.bubblePointer.style.left = (3/14)+'em';\n        this.bubblePointer.style.right = 'auto';\n        this.bubblePointer.style.backgroundPositionY = (-4/14)+'em';\n      }\n      if (bottom + height + 2 > 360) {\n        bottom = 360 - height - 2;\n      }\n      if (bottom < 19) {\n        bottom = 19;\n      }\n      this.bubbleContainer.style.bottom = (bottom / 14) + 'em';\n    }\n\n    remove() {\n      if (this.bubbleContainer) {\n        this.stage.ui.removeChild(this.bubbleContainer);\n      }\n      if (this.node && this.isClone && !this.isStage) {\n        // Continue playing sounds started with \"start sound\" after this sprite has been removed.\n        for (const sound of this.activeSounds) {\n          if (sound.node) {\n            sound.node.disconnect();\n          }\n          sound.stopped = true;\n        }\n        this.activeSounds.clear();\n        this.node.disconnect();\n        this.node.connect(this.stage.getAudioNode());\n        this.node = null;\n      }\n    }\n\n    /**\n     * Gets this object's AudioNode, or creates it if it doesn't exist.\n     * @throws Error if there is no audio context.\n     */\n    getAudioNode(): AudioNode {\n      if (this.node) {\n        return this.node;\n      }\n      if (!P.audio.context) {\n        throw new Error('No audio context');\n      }\n      this.node = P.audio.context.createGain();\n      this.node.gain.value = this.volume;\n      P.audio.connectNode(this.node);\n      return this.node;\n    }\n\n    /**\n     * Gets the rectangular bounds that contain this sprite in its entirety.\n     */\n    abstract rotatedBounds(): RotatedBounds;\n\n    abstract forward(steps: number): void;\n\n    abstract moveTo(x: number, y: number): void;\n\n    abstract touching(thing: string): boolean;\n\n    abstract touchingColor(color: number): boolean;\n\n    abstract colorTouchingColor(sourceColor: number, touchingColor: number): boolean;\n\n    /**\n     * Create a Watcher for a variable.\n     * @param target The sprite that will own the watcher\n     * @param variableName The name (or id) of the variable to monitor\n     */\n    createVariableWatcher(target: Base, variableName: string): Watcher | null {\n      return null;\n    }\n\n    /**\n     * Create a Watcher for a list.\n     * @param target The sprite that will own the watcher\n     * @param listName The name (or id) of the variable to monitor\n     */\n    createListWatcher(target: Base, listName: string): Watcher | null {\n      return null;\n    }\n\n    /**\n     * Create a dot on the pen layer at this object's location\n     */\n    dotPen() {\n      this.stage.renderer.penDot(this.penColor, this.penSize, this.scratchX, this.scratchY);\n    }\n\n    /**\n     * Create a stamp of this object, as it currently appears, on the pen layer.\n     */\n    stamp() {\n      this.stage.renderer.penStamp(this);\n    }\n\n    addWhenKeyPressedHandler(key: string, fn: P.runtime.Fn) {\n      if (this.listeners.whenKeyPressed[key]) {\n        this.listeners.whenKeyPressed[key].push(fn);\n      } else {\n        this.listeners.whenKeyPressed[key] = [fn];\n      }\n    }\n  }\n\n  type KeyList = Array<boolean | undefined> & { any: number; };\n\n  // A stage object\n  export abstract class Stage extends Base {\n    public stage = this;\n    public isStage = true;\n\n    /**\n     * Sprites inside of this stage.\n     */\n    public children: Sprite[] = [];\n\n    /**\n     * All variable watchers in this stage.\n     */\n    public allWatchers: Watcher[] = [];\n\n    public answer: string = '';\n    public promptId: number = 0;\n    public nextPromptId: number = 0;\n    public hidePrompt: boolean = false;\n\n    public zoom: number = 1;\n\n    // rawMouseX/rawMouseY = mouse x/y, in Scratch coordinate space, before clamping or rounding\n    public rawMouseX: number = 0;\n    public rawMouseY: number = 0;\n    // mouseX/mouseY = mouse x/y, in Scratch coordinate space, rounded and clamped to the stage bounds\n    public mouseX: number = 0;\n    public mouseY: number = 0;\n    public mousePressed: boolean = false;\n\n    public tempoBPM: number = 60;\n    public keys: KeyList;\n    public username: string = '';\n    public counter: number = 0;\n\n    public runtime: P.runtime.Runtime;\n\n    public canvas: HTMLCanvasElement;\n    public renderer: P.renderer.ProjectRenderer;\n\n    public root: HTMLElement;\n    public ui: HTMLElement;\n\n    public prompt: HTMLInputElement;\n    public prompter: HTMLElement;\n    public promptTitle: HTMLElement;\n    public promptButton: HTMLElement;\n    public mouseSprite: Sprite | undefined;\n\n    public cloudHandler: P.ext.cloud.CloudHandler | null = null;\n    public cloudVariables: string[] = [];\n\n    private videoElement: HTMLVideoElement;\n    public microphone: P.ext.microphone.MicrophoneExtension | null = null;\n    public tts: P.ext.tts.TextToSpeechExtension | null = null;\n    private extensions: P.ext.Extension[] = [];\n\n    public useSpriteFencing: boolean = false;\n    public removeLimits: boolean = false;\n\n    constructor() {\n      super();\n\n      this.runtime = new P.runtime.Runtime(this);\n\n      this.keys = [] as any;\n      this.keys.any = 0;\n\n      this.root = document.createElement('div');\n      this.root.classList.add('forkphorus-root');\n\n      if (P.config.useWebGL) {\n        this.renderer = new P.renderer.webgl.WebGLProjectRenderer(this);\n      } else {\n        this.renderer = new P.renderer.canvas2d.ProjectRenderer2D(this);\n      }\n      this.renderer.resize(1);\n      this.renderer.init(this.root);\n      this.canvas = this.renderer.canvas;\n\n      this.ui = document.createElement('div');\n      this.root.appendChild(this.ui);\n      this.ui.style.pointerEvents = 'none';\n\n      this.canvas.tabIndex = 0;\n      this.canvas.style.outline = 'none';\n\n      this.prompter = document.createElement('div');\n      this.ui.appendChild(this.prompter);\n      this.prompter.style.zIndex = '1';\n      this.prompter.style.pointerEvents = 'auto';\n      this.prompter.style.position = 'absolute';\n      this.prompter.style.left =\n      this.prompter.style.right = '1.4em';\n      this.prompter.style.bottom = '.6em';\n      this.prompter.style.padding = '.5em 3.0em .5em .5em';\n      this.prompter.style.border = '.3em solid rgb(46, 174, 223)';\n      this.prompter.style.borderRadius = '.8em';\n      this.prompter.style.background = '#fff';\n      this.prompter.style.display = 'none';\n\n      this.promptTitle = document.createElement('div');\n      this.prompter.appendChild(this.promptTitle);\n      this.promptTitle.textContent = '';\n      this.promptTitle.style.cursor = 'default';\n      this.promptTitle.style.font = 'bold 1.3em sans-serif';\n      this.promptTitle.style.margin = '0 '+(-25/13)+'em '+(5/13)+'em 0';\n      this.promptTitle.style.whiteSpace = 'pre';\n      this.promptTitle.style.overflow = 'hidden';\n      this.promptTitle.style.textOverflow = 'ellipsis';\n\n      this.prompt = document.createElement('input');\n      this.prompter.appendChild(this.prompt);\n      this.prompt.style.border = '0';\n      this.prompt.style.background = '#eee';\n      this.prompt.style.boxSizing = 'border-box';\n      this.prompt.style.font = '1.3em sans-serif';\n      this.prompt.style.padding = '0 '+(3/13)+'em';\n      this.prompt.style.outline = '0';\n      this.prompt.style.margin = '0';\n      this.prompt.style.width = '100%';\n      this.prompt.style.height = ''+(20/13)+'em';\n      this.prompt.style.display = 'block';\n      this.prompt.style.borderRadius = '0';\n      this.prompt.style.boxShadow = 'inset '+(1/13)+'em '+(1/13)+'em '+(2/13)+'em rgba(0, 0, 0, .2), inset '+(-1/13)+'em '+(-1/13)+'em '+(1/13)+'em rgba(255, 255, 255, .2)';\n      this.prompt.style.webkitAppearance = 'none';\n\n      this.promptButton = document.createElement('div');\n      this.prompter.appendChild(this.promptButton);\n      this.promptButton.style.width = '2.2em';\n      this.promptButton.style.height = '2.2em';\n      this.promptButton.style.position = 'absolute';\n      this.promptButton.style.right = '.4em';\n      this.promptButton.style.bottom = '.4em';\n      this.promptButton.style.background = `url(\"${P.io.config.localPath}icons.svg\") -22.8em -0.4em`;\n      this.promptButton.style.backgroundSize = '38.4em 6.4em';\n\n      this.addEventListeners();\n    }\n\n    private addEventListeners() {\n      // Global listeners need to have their methods redefined like this so that we can removeEventListener() later\n      this._onmousedown = this._onmousedown.bind(this);\n      this._onmouseup = this._onmouseup.bind(this);\n      this._onmousemove = this._onmousemove.bind(this);\n      this._ontouchstart = this._ontouchstart.bind(this);\n      this._ontouchend = this._ontouchend.bind(this);\n      this._ontouchmove = this._ontouchmove.bind(this);\n\n      document.addEventListener('mousedown', this._onmousedown);\n      document.addEventListener('mouseup', this._onmouseup);\n      document.addEventListener('mousemove', this._onmousemove);\n\n      document.addEventListener('touchstart', this._ontouchstart, { passive: false });\n      document.addEventListener('touchend', this._ontouchend);\n      document.addEventListener('touchmove', this._ontouchmove);\n\n      this.root.addEventListener('wheel', this._onwheel.bind(this));\n      this.root.addEventListener('keyup', this._onkeyup.bind(this));\n      this.root.addEventListener('keydown', this._onkeydown.bind(this));\n\n      this.promptButton.addEventListener('touchstart', this.submitPrompt.bind(this));\n      this.promptButton.addEventListener('mousedown', this.submitPrompt.bind(this));\n      this.prompt.addEventListener('keydown', (e) => {\n        if (e.keyCode === 13) this.submitPrompt();\n      });\n    }\n\n    private removeEventListeners() {\n      // We only need to remove the global handlers that were attached to document\n      document.removeEventListener('mousedown', this._onmousedown);\n      document.removeEventListener('mouseup', this._onmouseup);\n      document.removeEventListener('mousemove', this._onmousemove);\n      document.removeEventListener('touchstart', this._ontouchstart);\n      document.removeEventListener('touchend', this._ontouchend);\n      document.removeEventListener('touchmove', this._ontouchmove);\n    }\n\n    private _onwheel(e: WheelEvent) {\n      // Scroll up/down triggers key listeners for up/down arrows, but without affecting \"is key pressed?\" blocks\n      if (e.deltaY > 0) {\n        this.runtime.trigger('whenKeyPressed', SpecialKeys.Down);\n      } else if (e.deltaY < 0) {\n        this.runtime.trigger('whenKeyPressed', SpecialKeys.Up);\n      }\n    }\n\n    private keyEventToCode(e: KeyboardEvent): string | null {\n      const key = e.key || '';\n      switch (key) {\n        case ' ': return SpecialKeys.Space;\n        case 'Enter': return SpecialKeys.Enter;\n        case 'ArrowLeft': case 'Left': return SpecialKeys.Left;\n        case 'ArrowUp': case 'Up': return SpecialKeys.Up;\n        case 'ArrowRight': case 'Right': return SpecialKeys.Right;\n        case 'ArrowDown': case 'Down': return SpecialKeys.Down;\n        case 'Escape': return SpecialKeys.Escape;\n        case 'Tab': return SpecialKeys.Tab;\n        case 'Backspace': return SpecialKeys.Backspace;\n        case 'Delete': return SpecialKeys.Delete;\n        case 'Shift': return SpecialKeys.Shift;\n        case 'Control': return SpecialKeys.Control;\n        case 'Insert': return SpecialKeys.Insert;\n        case 'Home': return SpecialKeys.Home;\n        case 'End': return SpecialKeys.End;\n        case 'PageUp': return SpecialKeys.PageUp;\n        case 'PageDown': return SpecialKeys.PageDown;\n      }\n      if (key.length !== 1) {\n        // Additional keys that we don't care about such as volume keys (AudioVolumeUp/Down) and modifier keys\n        return null;\n      }\n      return '' + key.toLowerCase().charCodeAt(0);\n    }\n\n    private _onkeyup(e: KeyboardEvent) {\n      const c = this.keyEventToCode(e);\n      if (c === null) return;\n      if (this.keys[c]) this.keys.any--;\n      this.keys[c] = false;\n      e.stopPropagation();\n      if (e.target === this.canvas) {\n        e.preventDefault();\n      }\n    }\n\n    private _onkeydown(e: KeyboardEvent) {\n      const c = this.keyEventToCode(e);\n      if (c === null) return;\n      if (c == SpecialKeys.Tab && !e.shiftKey) return;\n      if (!this.keys[c]) this.keys.any++;\n      this.keys[c] = true;\n      if (e.ctrlKey || e.altKey || e.metaKey || c === SpecialKeys.Escape) return;\n      e.stopPropagation();\n      if (e.target === this.canvas) {\n        e.preventDefault();\n        this.runtime.trigger('whenKeyPressed', c);\n      }\n    }\n\n    private _onmousedown(e: MouseEvent) {\n      if (!this.runtime.isRunning) return;\n\n      this.updateMousePosition(e);\n      this.mousePressed = true;\n\n      if (e.target === this.canvas) {\n        this.clickMouse();\n        e.preventDefault();\n        this.canvas.focus();\n      }\n\n      this.onmousedown(e);\n    }\n\n    private _onmouseup(e: MouseEvent) {\n      if (!this.runtime.isRunning) return;\n\n      this.updateMousePosition(e);\n      this.releaseMouse();\n      this.onmouseup(e);\n    }\n\n    private _onmousemove(e: MouseEvent) {\n      if (!this.runtime.isRunning) return;\n\n      this.updateMousePosition(e);\n      this.onmousemove(e);\n    }\n\n    private _ontouchend(e: TouchEvent) {\n      if (!this.runtime.isRunning) return;\n\n      this.releaseMouse();\n      for (var i = 0; i < e.changedTouches.length; i++) {\n        const t = e.changedTouches[i];\n        this.ontouch(e, t);\n      }\n    }\n\n    private _ontouchstart(e: TouchEvent) {\n      if (!this.runtime.isRunning) return;\n\n      this.mousePressed = true;\n\n      for (var i = 0; i < e.changedTouches.length; i++) {\n        const t = e.changedTouches[i];\n        this.updateMousePosition(t);\n        if (e.target === this.canvas) {\n          this.clickMouse();\n        }\n        this.ontouch(e, t);\n      }\n\n      if (e.target === this.canvas) e.preventDefault();\n    }\n\n    private _ontouchmove(e: TouchEvent) {\n      if (!this.runtime.isRunning) return;\n\n      this.updateMousePosition(e.changedTouches[0]);\n      for (var i = 0; i < e.changedTouches.length; i++) {\n        const t = e.changedTouches[i];\n        this.ontouch(e, t);\n      }\n    }\n\n    // Event hooks for responding to user actions\n    // These are designed to be used by implementors\n    ontouch(e: TouchEvent, t: Touch) {}\n    onmousedown(e: MouseEvent) {}\n    onmouseup(e: MouseEvent) {}\n    onmousemove(e: MouseEvent) {}\n\n    /**\n     * Delete the stage.\n     */\n    destroy() {\n      this.runtime.stopAll();\n      this.runtime.pause();\n      this.stopAllSounds();\n      for (const extension of this.extensions) {\n        extension.destroy();\n      }\n      this.renderer.destroy();\n      this.removeEventListeners();\n    }\n\n    pauseExtensions() {\n      for (const extension of this.extensions) {\n        extension.onpause();\n      }\n    }\n\n    startExtensions() {\n      for (const extension of this.extensions) {\n        extension.onstart();\n      }\n    }\n\n    updateExtensions() {\n      if (this.extensions.length) {\n        for (const extension of this.extensions) {\n          extension.update();\n        }\n      }\n    }\n\n    /**\n     * Give browser focus to the Stage.\n     */\n    focus() {\n      if (this.promptId < this.nextPromptId) {\n        this.prompt.focus();\n      } else {\n        this.canvas.focus();\n      }\n    }\n\n    updateMousePosition(e) {\n      var rect = this.canvas.getBoundingClientRect();\n      var x = (e.clientX - rect.left) / this.zoom - 240;\n      var y = 180 - (e.clientY - rect.top) / this.zoom;\n      this.rawMouseX = x;\n      this.rawMouseY = y;\n      if (x < -240) x = -240;\n      if (x > 240) x = 240;\n      if (y < -180) y = -180;\n      if (y > 180) y = 180;\n      this.mouseX = Math.round(x);\n      this.mouseY = Math.round(y);\n    }\n\n    /**\n     * Changes the zoom level and resizes DOM elements.\n     */\n    setZoom(zoom: number) {\n      if (this.zoom === zoom) return;\n      this.renderer.resize(zoom);\n      this.root.style.width = (480 * zoom | 0) + 'px';\n      this.root.style.height = (360 * zoom | 0) + 'px';\n      this.root.style.fontSize = (zoom*10) + 'px';\n      this.zoom = zoom;\n      // Temporary fix to make Scratch 3 list watchers properly resize\n      for (const watcher of this.allWatchers) {\n        if (watcher instanceof P.sb3.Scratch3ListWatcher) {\n          watcher.updateList();\n        }\n      }\n    }\n\n    clickMouse() {\n      this.mouseSprite = undefined;\n      for (var i = this.children.length; i--;) {\n        var c = this.children[i];\n        if (c.visible && c.filters.ghost < 100 && c.touching(SpecialObjects.Mouse)) {\n          if (c.isDraggable) {\n            this.mouseSprite = c;\n            c.mouseDown();\n          } else {\n            this.runtime.triggerFor(c, 'whenClicked');\n          }\n          return;\n        }\n      }\n      this.runtime.triggerFor(this, 'whenClicked');\n    }\n\n    releaseMouse() {\n      this.mousePressed = false;\n      if (this.mouseSprite) {\n        this.mouseSprite.mouseUp();\n        this.mouseSprite = undefined;\n      }\n    }\n\n    setFilter(name: string, value: number) {\n      // Override setFilter() to update the filters on the real stage.\n      super.setFilter(name, value);\n      this.renderer.onStageFiltersChanged();\n    }\n\n    resetFilters() {\n      super.resetFilters();\n      this.renderer.onStageFiltersChanged();\n    }\n\n    /**\n     * Gets an object with its name, ignoring clones.\n     * SpecialObjects.Stage will point to the stage.\n     */\n    getObject(name: string): Base | null {\n      for (var i = 0; i < this.children.length; i++) {\n        var c = this.children[i];\n        if (c.name === name && !c.isClone) {\n          return c;\n        }\n      }\n      if (name === SpecialObjects.Stage || name === this.name) {\n        return this;\n      }\n      return null;\n    }\n\n    /**\n     * Gets all the objects with a name, including clones.\n     * Special values are not supported.\n     */\n    getObjects(name: string): P.core.Base[] {\n      const result: P.core.Base[] = [];\n      for (var i = 0; i < this.children.length; i++) {\n        if (this.children[i].name === name) {\n          result.push(this.children[i]);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Determines the position of an object, with support for special values.\n     */\n    getPosition(name: string): {x: number, y: number} | null {\n      switch (name) {\n        case SpecialObjects.Mouse: return {\n          x: this.mouseX,\n          y: this.mouseY,\n        };\n        case SpecialObjects.Random: return {\n          x: Math.round(480 * Math.random() - 240),\n          y: Math.round(360 * Math.random() - 180),\n        };\n      }\n\n      const sprite = this.getObject(name);\n      if (!sprite) return null;\n      return {\n        x: sprite.scratchX,\n        y: sprite.scratchY,\n      };\n    }\n\n    /**\n     * Draws this stage on it's renderer.\n     */\n    draw() {\n      this.renderer.drawFrame();\n\n      for (var i = this.allWatchers.length; i--;) {\n        var w = this.allWatchers[i];\n        if (w.visible) {\n          w.update();\n        }\n      }\n\n      if (this.hidePrompt) {\n        this.hidePrompt = false;\n        this.prompter.style.display = 'none';\n        this.canvas.focus();\n      }\n    }\n\n    showVideo(visible: boolean) {\n      if (P.config.supportVideoSensing) {\n        if (visible) {\n          if (!this.videoElement) {\n            this.videoElement = document.createElement('video');\n            this.videoElement.onloadedmetadata = () => {\n              this.videoElement.play();\n            };\n            this.videoElement.style.opacity = '0.5';\n            this.root.insertBefore(this.videoElement, this.canvas);\n            navigator.mediaDevices.getUserMedia({video: true, audio: false})\n              .then((stream) => this.videoElement.srcObject = stream);\n          }\n          this.videoElement.style.display = 'block';\n        } else {\n          if (this.videoElement) {\n            this.videoElement.style.display = 'none';\n          }\n        }\n      }\n    }\n\n    addExtension(extension: P.ext.Extension) {\n      this.extensions.push(extension);\n    }\n\n    initMicrophone() {\n      if (!this.microphone) {\n        this.microphone = new P.ext.microphone.MicrophoneExtension(this);\n        this.addExtension(this.microphone);\n      }\n    }\n\n    initTextToSpeech() {\n      if (!this.tts) {\n        this.tts = new P.ext.tts.TextToSpeechExtension(this);\n        this.addExtension(this.tts);\n      }\n    }\n\n    setCloudHandler(cloudHandler: P.ext.cloud.CloudHandler) {\n      this.cloudHandler = cloudHandler;\n      this.addExtension(cloudHandler);\n    }\n\n    stopAllSounds() {\n      for (var children = this.children, i = children.length; i--;) {\n        children[i].stopSounds();\n      }\n      this.stopSounds();\n    }\n\n    removeAllClones() {\n      var i = this.children.length;\n      while (i--) {\n        if (this.children[i].isClone) {\n          this.children[i].remove();\n          this.children.splice(i, 1);\n        }\n      }\n    }\n\n    moveTo() {\n      // no-op\n    }\n\n    gotoObject() {\n      // no-op\n    }\n\n    forward() {\n      // no-op\n    }\n\n    setDirection(direction: number) {\n      // no-op\n    }\n\n    rotatedBounds() {\n      // no-op\n      return {\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0,\n      };\n    }\n\n    touching(thing: string) {\n      if (thing == SpecialObjects.Mouse) {\n        return true;\n      }\n      return false;\n    }\n\n    touchingColor(color: number) {\n      // no-op\n      return false;\n    }\n\n    colorTouchingColor(colorA: number, colorB: number) {\n      // no-op\n      return false;\n    }\n\n    submitPrompt() {\n      if (this.promptId < this.nextPromptId) {\n        this.answer = this.prompt.value;\n        this.promptId += 1;\n        if (this.promptId >= this.nextPromptId) {\n          this.hidePrompt = true;\n        }\n      }\n    }\n\n    clearPen() {\n      this.renderer.penClear();\n    }\n  }\n\n  // A sprite object\n  export abstract class Sprite extends Base {\n    public isSprite = true;\n    /**\n     * Is this Sprite a clone of another Sprite?\n     */\n    public isClone = false;\n    /**\n     * The direction this Sprite is facing.\n     * 0 is directly up, and 90 is directly right.\n     */\n    public direction: number = 90;\n    /**\n     * How this object rotates.\n     */\n    public rotationStyle: RotationStyle = RotationStyle.Normal;\n    /**\n     * Can this Sprite be dragged?\n     */\n    public isDraggable: boolean = false;\n    /**\n     * Is this Sprite currently being dragged?\n     */\n    public isDragging: boolean = false;\n    /**\n     * This sprite's size, with 1 being 100% (normal size)\n     * Sprites are scaled from their costume's center\n     */\n    public scale: number = 1;\n\n    // It's related to dragging sprites.\n    public dragStartX: number = 0;\n    public dragStartY: number = 0;\n    public dragOffsetX: number = 0;\n    public dragOffsetY: number = 0;\n\n    constructor(stage: Stage) {\n      super();\n      this.stage = stage;\n    }\n\n    mouseDown() {\n      this.dragStartX = this.scratchX;\n      this.dragStartY = this.scratchY;\n      this.dragOffsetX = this.scratchX - this.stage.mouseX;\n      this.dragOffsetY = this.scratchY - this.stage.mouseY;\n      this.isDragging = true;\n    }\n\n    mouseUp() {\n      // We consider a sprite to be clicked if it has been dragged to the same start & end points\n      if (this.isDragging && this.scratchX === this.dragStartX && this.scratchY === this.dragStartY) {\n        this.stage.runtime.triggerFor(this, 'whenClicked');\n      }\n      this.isDragging = false;\n    }\n\n    // Determines the rotated bounds of the sprite.\n    rotatedBounds() {\n      const costume = this.costumes[this.currentCostumeIndex];\n\n      const scale = costume.scale * this.scale;\n      var left = -costume.rotationCenterX * scale;\n      var top = costume.rotationCenterY * scale;\n      var right = left + costume.width * scale;\n      var bottom = top - costume.height * scale;\n\n      if (this.rotationStyle !== RotationStyle.Normal) {\n        if (this.rotationStyle === RotationStyle.LeftRight && this.direction < 0) {\n          right = -left;\n          left = right - costume.width * costume.scale * this.scale;\n        }\n        return {\n          left: this.scratchX + left,\n          right: this.scratchX + right,\n          top: this.scratchY + top,\n          bottom: this.scratchY + bottom\n        };\n      }\n\n      const mSin = Math.sin(this.direction * Math.PI / 180);\n      const mCos = Math.cos(this.direction * Math.PI / 180);\n\n      // Top left\n      const tlX = mSin * left - mCos * top;\n      const tlY = mCos * left + mSin * top;\n\n      // Top right\n      const trX = mSin * right - mCos * top;\n      const trY = mCos * right + mSin * top;\n\n      // Bottom left\n      const blX = mSin * left - mCos * bottom;\n      const blY = mCos * left + mSin * bottom;\n\n      // Bottom right\n      const brX = mSin * right - mCos * bottom;\n      const brY = mCos * right + mSin * bottom;\n\n      return {\n        left: this.scratchX + Math.min(tlX, trX, blX, brX),\n        right: this.scratchX + Math.max(tlX, trX, blX, brX),\n        top: this.scratchY + Math.max(tlY, trY, blY, brY),\n        bottom: this.scratchY + Math.min(tlY, trY, blY, brY)\n      };\n    }\n\n    // Shows the rotated bounds of the sprite. For debugging.\n    showRotatedBounds() {\n      var bounds = this.rotatedBounds();\n      var div = document.createElement('div');\n      div.style.outline = '1px solid red';\n      div.style.position = 'absolute';\n      div.style.left = (240 + bounds.left) + 'px';\n      div.style.top = (180 - bounds.top) + 'px';\n      div.style.width = (bounds.right - bounds.left) + 'px';\n      div.style.height = (bounds.top - bounds.bottom) + 'px';\n      this.stage.canvas.parentNode!.appendChild(div);\n    }\n\n    // Implementing Scratch blocks\n\n    createVariableWatcher(target: P.core.Base, variableName: string) {\n      // Asking our parent to handle it is easier.\n      return this.stage.createVariableWatcher(target, variableName);\n    }\n\n    // Moves forward some number of steps in the current direction.\n    forward(steps: number) {\n      const d = (90 - this.direction) * Math.PI / 180;\n      this.moveTo(this.scratchX + steps * Math.cos(d), this.scratchY + steps * Math.sin(d));\n    }\n\n    keepInView() {\n      const rb = this.rotatedBounds();\n      const width = rb.right - rb.left;\n      const height = rb.top - rb.bottom;\n\n      const bounds = Math.min(15, Math.floor(Math.min(width, height) / 2));\n\n      if (rb.right - bounds < -240) {\n        this.scratchX -= rb.right - bounds + 240;\n      }\n      if (rb.left + bounds > 240) {\n        this.scratchX -= rb.left + bounds - 240;\n      }\n      if (rb.bottom + bounds > 180) {\n        this.scratchY -= rb.bottom + bounds - 180;\n      }\n      if (rb.top - bounds < -180) {\n        this.scratchY -= rb.top - bounds + 180;\n      }\n    }\n\n    // Moves the sprite to a coordinate\n    // Draws a line if the pen is currently down.\n    moveTo(x: number, y: number) {\n      var ox = this.scratchX;\n      var oy = this.scratchY;\n      if (ox === x && oy === y && !this.isPenDown) {\n        return;\n      }\n      this.scratchX = x;\n      this.scratchY = y;\n\n      if (this.stage.useSpriteFencing) {\n        this.keepInView();\n      }\n\n      if (this.isPenDown && !this.isDragging) {\n        this.stage.renderer.penLine(this.penColor, this.penSize, ox, oy, x, y);\n      }\n\n      if (this.saying) {\n        this.updateBubble();\n      }\n    }\n\n    // Faces in a direction.\n    setDirection(degrees: number) {\n      if (!isFinite(degrees)) return;\n      var d = degrees % 360;\n      if (d > 180) d -= 360;\n      if (d <= -180) d += 360;\n      this.direction = d;\n      if (this.saying) this.updateBubble();\n    }\n\n    // Clones this sprite.\n    clone() {\n      const clone = this._clone();\n      clone.isClone = true;\n\n      // Copy variables and lists without passing reference\n      for (const key of Object.keys(this.vars)) {\n        clone.vars[key] = this.vars[key];\n      }\n      for (const key of Object.keys(this.lists)) {\n        clone.lists[key] = this.lists[key].slice(0);\n      }\n\n      clone.filters = {\n        color: this.filters.color,\n        fisheye: this.filters.fisheye,\n        whirl: this.filters.whirl,\n        pixelate: this.filters.pixelate,\n        mosaic: this.filters.mosaic,\n        brightness: this.filters.brightness,\n        ghost: this.filters.ghost\n      };\n\n      // Copy scripts\n      clone.procedures = this.procedures;\n      clone.listeners = this.listeners;\n      clone.fns = this.fns;\n\n      // Copy Data\n      clone.name = this.name;\n      clone.costumes = this.costumes;\n      clone.currentCostumeIndex = this.currentCostumeIndex;\n      clone.sounds = this.sounds;\n      clone.soundRefs = this.soundRefs;\n      clone.direction = this.direction;\n      clone.instrument = this.instrument;\n      clone.isDraggable = this.isDraggable;\n      clone.rotationStyle = this.rotationStyle;\n      clone.scale = this.scale;\n      clone.volume = this.volume;\n      clone.scratchX = this.scratchX;\n      clone.scratchY = this.scratchY;\n      clone.visible = this.visible;\n      clone.penSize = this.penSize;\n      clone.penColor.copy(this.penColor);\n      clone.isPenDown = this.isPenDown;\n      clone.watchers = this.watchers;\n      clone.listWatchers = this.listWatchers;\n\n      return clone;\n    }\n\n    // Must return a new instance of this Sprite's constructor. Data copying will be handled in clone()\n    protected abstract _clone(): P.core.Sprite;\n\n    /**\n     * Determines if this sprite is touching another object.\n     * @param thing The name of the other object(s)\n     */\n    touching(thing: string) {\n      if (thing === SpecialObjects.Mouse) {\n        const x = this.stage.rawMouseX;\n        const y = this.stage.rawMouseY;\n        return this.stage.renderer.spriteTouchesPoint(this, x, y);\n      } else if (thing === SpecialObjects.Edge) {\n        const bounds = this.rotatedBounds();\n        return bounds.left <= -240 || bounds.right >= 240 || bounds.top >= 180 || bounds.bottom <= -180;\n      } else {\n        if (!this.visible) return false;\n        const sprites = this.stage.getObjects(thing);\n        return this.stage.renderer.spritesIntersect(this, sprites);\n      }\n    }\n\n    /**\n     * Determines if this Sprite is touching a color.\n     * @param color RGB color, as a single number.\n     */\n    touchingColor(color: number) {\n      return this.stage.renderer.spriteTouchesColor(this, color);\n    }\n\n    /**\n     * Determines if one of this Sprite's colors are touching another color.\n     * @param sourceColor This sprite's color, as an RGB color.\n     * @param touchingColor The other color, as an RGB color.\n     */\n    colorTouchingColor(sourceColor: number, touchingColor: number) {\n      return this.stage.renderer.spriteColorTouchesColor(this, sourceColor, touchingColor);\n    }\n\n    /**\n     * Bounces this Sprite off of an edge of the Stage, if this Sprite is touching one.\n     */\n    bounceOffEdge() {\n      var b = this.rotatedBounds();\n      var dl = 240 + b.left;\n      var dt = 180 - b.top;\n      var dr = 240 - b.right;\n      var db = 180 + b.bottom;\n\n      var d = Math.min(dl, dt, dr, db);\n      if (d > 0) return;\n\n      var dir = this.direction * Math.PI / 180;\n      var dx = Math.sin(dir);\n      var dy = -Math.cos(dir);\n\n      switch (d) {\n        case dl: dx = Math.max(0.2, Math.abs(dx)); break;\n        case dt: dy = Math.max(0.2, Math.abs(dy)); break;\n        case dr: dx = -Math.max(0.2, Math.abs(dx)); break;\n        case db: dy = -Math.max(0.2, Math.abs(dy)); break;\n      }\n\n      this.direction = Math.atan2(dy, dx) * 180 / Math.PI + 90;\n      if (this.saying) this.updateBubble();\n    }\n\n    /**\n     * Determines the distance from this Sprite's center to another position.\n     * @param thing The name of any position or Sprite, as accepted by getPosition()\n     */\n    distanceTo(thing: string) {\n      const p = this.stage.getPosition(thing);\n      if (!p) {\n        return 10000;\n      }\n      const x = p.x;\n      const y = p.y;\n      return Math.sqrt((this.scratchX - x) * (this.scratchX - x) + (this.scratchY - y) * (this.scratchY - y));\n    }\n\n    /**\n     * Makes this Sprite go to another Sprite\n     * @param thing The name of any position or Sprite, as accepted by getPosition()\n     */\n    gotoObject(thing: string) {\n      const position = this.stage.getPosition(thing);\n      if (!position) {\n        return 0;\n      }\n      this.moveTo(position.x, position.y);\n    }\n\n    /**\n     * Makes this Sprite point towards another object.\n     * @param thing The name of any position or Sprite, as accepted by getPosition()\n     */\n    pointTowards(thing: string) {\n      const position = this.stage.getPosition(thing);\n      if (!position) {\n        return 0;\n      }\n      const dx = position.x - this.scratchX;\n      const dy = position.y - this.scratchY;\n      const dir = dx === 0 && dy === 0 ? 90 : Math.atan2(dx, dy) * 180 / Math.PI;\n      if (!isFinite(dir)) return;\n      this.direction = dir;\n      if (this.saying) this.updateBubble();\n    }\n  }\n\n  export interface CostumeOptions {\n    name: string;\n    bitmapResolution: number;\n    rotationCenterX: number;\n    rotationCenterY: number;\n  }\n\n  export abstract class Costume {\n    public name: string;\n    public rotationCenterX: number;\n    public rotationCenterY: number;\n    public scale: number;\n\n    public width: number;\n    public height: number;\n    public isScalable: boolean;\n\n    constructor(costumeData: CostumeOptions) {\n      this.name = costumeData.name;\n      this.scale = 1 / costumeData.bitmapResolution;\n      this.rotationCenterX = costumeData.rotationCenterX;\n      this.rotationCenterY = costumeData.rotationCenterY;\n    }\n\n    /**\n     * Renderers will inform the Costume of the scale requested using requestSize()\n     * The Costume will choose whether it needs to rerender or simply do nothing.\n     * Only called if isScalable = true\n     * TODO: return a boolean to indicate whether texture needs reupload?\n     * @param scale The scale factor\n     */\n    abstract requestSize(scale: number): void;\n\n    /**\n     * Get a 2d rendering context for the base image.\n     */\n    abstract getContext(): CanvasRenderingContext2D;\n\n    /**\n     * Get the current image.\n     * The image may be scaled in arbitrary ways, the renderer must handle this.\n     */\n    abstract getImage(): HTMLImageElement | HTMLCanvasElement;\n  }\n\n  export class BitmapCostume extends Costume {\n    private ctx: CanvasRenderingContext2D;\n    private image: HTMLCanvasElement | HTMLImageElement;\n\n    constructor(image: HTMLCanvasElement | HTMLImageElement, options: CostumeOptions) {\n      super(options);\n      if (image.tagName === 'CANVAS') {\n        const ctx = (image as HTMLCanvasElement).getContext('2d');\n        if (!ctx) {\n          throw new Error(`Cannot get 2d rendering context of costume image, despite it already being a canvas \"${this.name}\"`);\n        }\n        this.ctx = ctx;\n      }\n      this.image = image;\n      this.width = image.width;\n      this.height = image.height;\n      this.isScalable = false;\n    }\n\n    getContext() {\n      if (this.ctx) {\n        return this.ctx;\n      }\n      const canvas = document.createElement('canvas');\n      const ctx = canvas.getContext('2d');\n      if (!ctx) {\n        throw new Error(`cannot get 2d rendering context in getContext on Bitmap \"${this.name}\"`);\n      }\n      canvas.width = this.width;\n      canvas.height = this.height;\n      ctx.drawImage(this.image, 0, 0);\n      this.ctx = ctx;\n      return ctx;\n    }\n\n    getImage() {\n      return this.image;\n    }\n\n    requestSize(scale: number) {\n      throw new Error(`requestSize is not implemented on BitmapCostume \"${this.name}\" isScalable=${this.isScalable}`);\n    }\n  }\n\n  export class VectorCostume extends Costume {\n    /** Maximum scale factor of a Vector costume. */\n    public static MAX_SCALE = 16;\n    /** Maximum width or height of a Vector costume. Overrides MAX_SCALE. */\n    public static MAX_SIZE = 2048;\n    /** Disables rasterize/zoom. */\n    public static DISABLE_RASTERIZE = false;\n\n    private svg: HTMLImageElement;\n    public currentScale: number;\n    public maxScale: number;\n    private canvas: HTMLCanvasElement;\n    private ctx: CanvasRenderingContext2D;\n\n    constructor(svg: HTMLImageElement, options: CostumeOptions) {\n      super(options);\n      if (svg.height < 1 || svg.width < 1) {\n        svg = new Image(1, 1);\n      }\n      this.isScalable = true;\n      this.width = svg.width;\n      this.height = svg.height;\n      this.svg = svg;\n      this.maxScale = this.calculateMaxScale();\n      this.currentScale = Math.min(1, this.maxScale);\n    }\n\n    private calculateMaxScale(): number {\n      if (VectorCostume.MAX_SIZE / this.width < VectorCostume.MAX_SCALE) {\n        return VectorCostume.MAX_SIZE / this.width;\n      }\n      if (VectorCostume.MAX_SIZE / this.height < VectorCostume.MAX_SCALE) {\n        return VectorCostume.MAX_SIZE / this.height;\n      }\n      return VectorCostume.MAX_SCALE;\n    }\n\n    private render() {\n      const width = Math.floor(Math.max(1, this.width * this.currentScale));\n      const height = Math.floor(Math.max(1, this.height * this.currentScale));\n\n      if (!this.canvas) {\n        const canvas = document.createElement('canvas');\n        canvas.width = width;\n        canvas.height = height;\n        const ctx = canvas.getContext('2d');\n        if (!ctx) {\n          const fmt = (n: number) => Math.round(n * 100) / 100;\n          throw new Error(`cannot get 2d rendering context in initCanvas on Vector \"${this.name}\" @ ${fmt(this.currentScale)}/${fmt(this.maxScale)} | ${width}x${height}`);\n        }\n        this.canvas = canvas;\n        this.ctx = ctx;\n      } else {\n        this.canvas.width = width;\n        this.canvas.height = height;\n      }\n\n      this.ctx.drawImage(this.svg, 0, 0, width, height);\n    }\n\n    requestSize(costumeScale: number) {\n      if (VectorCostume.DISABLE_RASTERIZE) {\n        return;\n      }\n      const scale = Math.min(Math.ceil(costumeScale), this.maxScale);\n      if (this.currentScale < scale) {\n        this.currentScale = scale;\n        this.render();\n      }\n    }\n\n    getContext(): CanvasRenderingContext2D {\n      if (this.ctx) {\n        return this.ctx;\n      }\n      this.render();\n      return this.ctx;\n    }\n\n    getImage() {\n      if (VectorCostume.DISABLE_RASTERIZE) {\n        return this.svg;\n      }\n      if (this.canvas) {\n        return this.canvas;\n      }\n      this.render();\n      return this.canvas;\n    }\n  }\n\n  // TEMPORARY FIX:\n  // Disable image scaling on Safari.\n  // detection method from https://stackoverflow.com/a/23522755\n  if (/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {\n    console.log('Vector rasterization is disabled. This may affect performance.');\n    VectorCostume.DISABLE_RASTERIZE = true;\n  }\n\n  interface SoundOptions {\n    buffer: AudioBuffer;\n    name: string;\n  }\n  // A sound\n  export class Sound {\n    // TODO: Sound doesn't truly need name\n    public name: string;\n    public buffer: AudioBuffer;\n    public duration: number;\n    public source: AudioBufferSourceNode | null = null;\n\n    constructor(data: SoundOptions) {\n      if (!data.buffer) throw new Error('no AudioBuffer');\n      this.name = data.name;\n      this.buffer = data.buffer;\n      this.duration = this.buffer.duration;\n    }\n\n    createSourceNode() {\n      if (this.source) {\n        this.source.disconnect();\n      }\n      const source = P.audio.context!.createBufferSource();\n      this.source = source;\n      this.source.buffer = this.buffer;\n      this.source.addEventListener('ended', () => {\n        // @ts-expect-error\n        source.ended = true;\n      });\n      this.source.start();\n      return this.source;\n    }\n  }\n\n  export abstract class Watcher {\n    public stage: Stage;\n    public targetName: string;\n    public target: Base;\n    public valid: boolean = true;\n    public visible: boolean = true;\n    public x: number = 0;\n    public y: number = 0;\n\n    constructor(stage: Stage, targetName: string) {\n      // The stage this variable watcher belongs to.\n      this.stage = stage;\n\n      // The name of the owner of this watcher, if any.\n      this.targetName = targetName;\n    }\n\n    // Initializes the Watcher. Called once.\n    // Expected to be overridden.\n    init() {\n      this.target = this.stage.getObject(this.targetName) || this.stage;\n    }\n\n    // The intended way to change visibility\n    setVisible(visible: boolean) {\n      this.visible = visible;\n    }\n\n    // Updates the VariableWatcher. Called every frame.\n    abstract update(): void;\n  }\n\n  // An abstract callable procedure\n  export abstract class Procedure {\n    public fn: P.runtime.Fn;\n    public warp: boolean;\n    public inputs: any[];\n\n    constructor(fn: runtime.Fn, warp: boolean, inputs: any[]) {\n      this.fn = fn;\n      this.warp = warp;\n      this.inputs = inputs;\n    }\n\n    // Call takes a list of inputs and must return the proper arguments to set C.args to in the runtime.\n    // Result can be anything as long as the compiler knows how to interpret it.\n    abstract call(inputs: any[]): any;\n  }\n\n  /**\n   * Determines if an object is a sprite\n   * Can be used to ease type assertions.\n   */\n  export function isSprite(base: P.core.Base): base is P.core.Sprite {\n    return base.isSprite;\n  }\n}\n","/// <reference path=\"phosphorus.ts\" />\n\ninterface FontFaceObserver {\n  new(font: string): FontFaceObserver;\n  load(text?: string, timeout?: number): Promise<void>;\n}\ndeclare var FontFaceObserver: FontFaceObserver;\n\n/**\n * Font helpers\n */\nnamespace P.fonts {\n  const fontFamilyCache: ObjectMap<string> = {};\n\n  export const scratch3 = {\n    'Marker': 'fonts/Knewave-Regular.woff',\n    'Handwriting': 'fonts/Handlee-Regular.woff',\n    'Pixel': 'fonts/Grand9K-Pixel.ttf',\n    'Curly': 'fonts/Griffy-Regular.woff',\n    'Serif': 'fonts/SourceSerifPro-Regular.woff',\n    'Sans Serif': 'fonts/NotoSans-Regular.woff',\n  };\n\n  /**\n   * Asynchronously load and cache a font\n   */\n  export function loadLocalFont(fontFamily: string, src: string): Promise<string> {\n    if (fontFamilyCache[fontFamily]) {\n      return Promise.resolve(fontFamilyCache[fontFamily]);\n    }\n    return P.io.getAssetManager().loadFont(src)\n      .then((blob) => P.io.readers.toDataURL(blob))\n      .then((url) => {\n        fontFamilyCache[fontFamily] = url;\n        return url;\n      });\n  }\n\n  /**\n   * Gets an already loaded and cached font\n   */\n  function getFont(fontFamily: string): string | null {\n    if (!(fontFamily in fontFamilyCache)) {\n      return null;\n    }\n    return fontFamilyCache[fontFamily];\n  }\n\n  function getCSSFontFace(fontFamily: string, src: string) {\n    return `@font-face { font-family: \"${fontFamily}\"; src: url(\"${src}\"); }`;\n  }\n\n  /**\n   * Add an inline <style> element to an SVG containing fonts loaded through loadFontSet\n   */\n  export function addFontRules(svg: SVGElement, fonts: string[]) {\n    const cssRules: string[] = [];\n    for (const fontName of fonts) {\n      const font = getFont(fontName);\n      if (!font) {\n        console.warn('unknown font from cache', fontName);\n        continue;\n      }\n      cssRules.push(getCSSFontFace(fontName, font));\n    }\n\n    const doc = svg.ownerDocument!;\n    const defs = doc.createElementNS('http://www.w3.org/2000/svg', 'defs');\n    const style = doc.createElementNS('http://www.w3.org/2000/svg', 'style');\n    style.innerHTML = cssRules.join('\\n');\n    defs.appendChild(style);\n    svg.appendChild(style);\n  }\n\n  /**\n   * Load a CSS @font-face font.\n   */\n  export function loadWebFont(name: string): Promise<void> {\n    const observer = new FontFaceObserver(name);\n    return observer.load();\n  }\n}\n","/// <reference path=\"phosphorus.ts\" />\n\n/**\n * Translation API and translations for the Player\n */\nnamespace P.i18n {\n  'use strict';\n\n  type Translations = ObjectMap<string>;\n\n  const SUPPORTED_LANGUAGES = ['en', 'es'];\n  const DEFAULT_LANGUAGE = 'en';\n\n  function getLanguage(): string {\n    let language = navigator.language;\n    if (language.indexOf('-') > -1) {\n      // remove a country code, if it has one.\n      language = language.substring(0, language.indexOf('-'));\n    }\n    if (SUPPORTED_LANGUAGES.indexOf(language) === -1) {\n      language = DEFAULT_LANGUAGE;\n    }\n    return language;\n  }\n\n  const translations: Translations = {};\n  const defaultTranslations: Translations = {};\n  const language = getLanguage();\n\n  /**\n   * Translate a message ID to the user's language.\n   */\n  export function translate(messageId: string) {\n    if (translations[messageId]) {\n      return translations[messageId];\n    }\n    if (defaultTranslations[messageId]) {\n      return defaultTranslations[messageId];\n    }\n    console.warn('Missing translation:', messageId);\n    return '## ' + messageId + ' ##';\n  }\n\n  /**\n   * Translate the children of an element.\n   * Any children with `data-i18n` set to a message ID will have its textContent replaced.\n   */\n  export function translateElement(element: HTMLElement) {\n    const translatable = element.querySelectorAll('[data-i18n]');\n    for (var i = 0; i < translatable.length; i++) {\n      const el = translatable[i];\n      const messageId = el.getAttribute('data-i18n');\n      if (messageId === null) continue;\n      const result = translate(messageId);\n      el.textContent = result;\n    }\n  }\n\n  function merge(into: Translations, source: Translations) {\n    for (const key of Object.keys(source)) {\n      into[key] = source[key];\n    }\n  }\n\n  export function addTranslations(importedLanguage: string, importedTranslations: Translations) {\n    if (importedLanguage === language) {\n      merge(translations, importedTranslations);\n    } else if (importedLanguage === DEFAULT_LANGUAGE) {\n      merge(defaultTranslations, importedTranslations);\n    }\n  }\n\n  // Default Translations\n\n  addTranslations('en', {\n    'player.controls.turboIndicator': 'Turbo Mode',\n    'player.controls.fullscreen.title': 'Click to fullscreen player, Shift+click to just maximize.',\n    'player.controls.flag.title': 'Shift+click to enable turbo mode.',\n    'player.controls.flag.title.enabled': 'Turbo mode is enabled. Shift+click to disable turbo mode.',\n    'player.controls.flag.title.disabled': 'Turbo mode is disabled. Shift+click to enable turbo mode.',\n    'player.errorhandler.error': 'An internal error occurred. <a $attrs>Click here</a> to file a bug report.',\n    'player.errorhandler.error.doesnotexist': 'There is no project with ID $id. It was probably deleted, never existed, or you made a typo.',\n    'player.errorhandler.error.doesnotexistlegacy': 'The project with ID $id can not be used with legacy mode enabled. Turn off legacy mode to use this project.',\n  });\n}\n","/// <reference path=\"phosphorus.ts\" />\n\n// IO helpers and hooks\n\nnamespace P.io {\n  /**\n   * Configuration of IO behavior\n   */\n  export var config = {\n    /**\n     * A relative or absolute path to a full installation of forkphorus, from which \"local\" files can be fetched.\n     * Do not including a trailing slash.\n     */\n    localPath: '',\n  };\n\n  // non-http/https protocols cannot xhr request local files, so utilize forkphorus.github.io instead\n  if (['http:', 'https:'].indexOf(location.protocol) === -1) {\n    config.localPath = 'https://forkphorus.github.io/';\n  }\n\n  /**\n   * Utilities for asynchronously reading Blobs or Files\n   */\n  export namespace readers {\n    type Readable = Blob | File;\n\n    export function toArrayBuffer(object: Readable): Promise<ArrayBuffer> {\n      return new Promise((resolve, reject) => {\n        const fileReader = new FileReader();\n        fileReader.onloadend = function() {\n          resolve(fileReader.result as ArrayBuffer);\n        };\n        fileReader.onerror = function(err) {\n          reject(new Error('Could not read object as ArrayBuffer'));\n        };\n        fileReader.readAsArrayBuffer(object);\n      });\n    }\n\n    export function toDataURL(object: Readable): Promise<string> {\n      return new Promise((resolve, reject) => {\n        const fileReader = new FileReader();\n        fileReader.onloadend = function() {\n          resolve(fileReader.result as string);\n        };\n        fileReader.onerror = function(err) {\n          reject(new Error('Could not read object as data: URL'));\n        };\n        fileReader.readAsDataURL(object);\n      });\n    }\n\n    export function toText(object: Readable): Promise<string> {\n      return new Promise((resolve, reject) => {\n        const fileReader = new FileReader();\n        fileReader.onloadend = function() {\n          resolve(fileReader.result as string);\n        };\n        fileReader.onerror = function(err) {\n          reject(new Error('Could not read object as text'));\n        };\n        fileReader.readAsText(object);\n      });\n    }\n  }\n\n  /**\n   * An AssetManager manages the global assets of forkphorus.\n   * It is responsible for downloading certain assets.\n   */\n  interface AssetManager {\n    loadFont(src: string): Promise<Blob>;\n    loadSoundbankFile(src: string): Promise<ArrayBuffer>;\n  }\n\n  class FetchingAssetManager implements AssetManager {\n    private soundbankSource: string = 'soundbank/';\n\n    loadSoundbankFile(src: string) {\n      return this.loadArrayBuffer(this.soundbankSource + src);\n    }\n\n    loadFont(src: string) {\n      return this.loadBlob(src);\n    }\n\n    loadArrayBuffer(src: string) {\n      return new Request(config.localPath + src).load('arraybuffer');\n    }\n\n    loadBlob(src: string) {\n      return new Request(config.localPath + src).load('blob');\n    }\n  }\n\n  var globalAssetManager: AssetManager = new FetchingAssetManager();\n  export function getAssetManager(): AssetManager {\n    return globalAssetManager;\n  }\n  export function setAssetManager(newManager: AssetManager) {\n    globalAssetManager = newManager;\n  }\n\n  class Throttler<T> {\n    public maxConcurrentTasks: number = 20;\n    private concurrentTasks: number = 0;\n    private queue: Array<() => void> = [];\n\n    private startNextTask() {\n      if (this.queue.length === 0) return;\n      if (this.concurrentTasks >= this.maxConcurrentTasks) return;\n      const fn = this.queue.shift()!;\n      this.concurrentTasks++;\n      fn();\n    }\n\n    run(fn: () => Promise<T>): Promise<T> {\n      return new Promise((resolve, reject) => {\n        const run = () => {\n          fn()\n            .then((r) => {\n              this.concurrentTasks--;\n              this.startNextTask();\n              resolve(r);\n            })\n            .catch((e) => {\n              this.concurrentTasks--;\n              this.startNextTask();\n              reject(e);\n            });\n        };\n\n        if (this.concurrentTasks < this.maxConcurrentTasks) {\n          this.concurrentTasks++;\n          run();\n        } else {\n          this.queue.push(run);\n        }\n      })\n    }\n  }\n\n  const requestThrottler = new Throttler();\n\n  interface Task {\n    /**\n     * Return whether this task is known to be complete.\n     */\n    isComplete(): boolean;\n    /**\n     * Cancel this task.\n     */\n    abort(): void;\n    /**\n     * Used by the loader to claim ownership and allow 2-way communication.\n     */\n    setLoader(loader: Loader): void;\n  }\n\n  export abstract class AbstractTask implements Task {\n    protected loader: Loader | undefined;\n\n    setLoader(loader: Loader) {\n      this.loader = loader;\n    }\n\n    protected updateLoaderProgress() {\n      if (this.loader) {\n        this.loader.updateProgress();\n      }\n    }\n\n    abstract isComplete(): boolean;\n    abstract abort(): void;\n  }\n\n  export abstract class Retry extends AbstractTask {\n    protected aborted: boolean = false;\n    protected retries: number = 0;\n    public maxAttempts: number = 4;\n\n    async try<T>(handle: () => Promise<T>): Promise<T> {\n      let lastErr;\n      for (let i = 0; i < this.maxAttempts; i++) {\n        this.retries = i;\n        try {\n          return await handle();\n        } catch (err) {\n          if (this.aborted) {\n            throw err;\n          }\n          lastErr = err;\n          // exponential backoff with randomness\n          // 500 ms, 1000 ms, 2000 ms, etc.\n          // randomness will help stagger retries in case of many errors\n          // always at least 50 ms\n          const retryIn = 2 ** i * 500 * Math.random() + 50;\n          console.warn(`Attempt #${i + 1} to ${this.getRetryWarningDescription()} failed, trying again in ${retryIn}ms`, err);\n          await P.utils.sleep(retryIn);\n        }\n      }\n      throw lastErr;\n    }\n\n    public setMaxAttempts(attempts: number): this {\n      this.maxAttempts = attempts;\n      return this;\n    }\n\n    protected getRetryWarningDescription(): string {\n      return 'complete task';\n    }\n\n    abort() {\n      this.aborted = true;\n    }\n  }\n\n  class HTTPError extends Error {\n    constructor (message, public readonly status: number) {\n      super(message);\n    }\n  }\n\n  export class Request extends Retry {\n    private static readonly acceptableResponseCodes = [0, 200];\n\n    private responseType: XMLHttpRequestResponseType;\n    private shouldIgnoreErrors: boolean = false;\n    private complete: boolean = false;\n    private status: number = 0;\n    private xhr: XMLHttpRequest | null = null;\n    private urls: string[];\n\n    constructor(urls: string | string[]) {\n      super();\n      this.urls = Array.isArray(urls) ? urls : [urls];\n    }\n\n    isComplete() {\n      return this.complete;\n    }\n\n    abort() {\n      super.abort();\n      if (this.xhr) {\n        this.xhr.abort();\n      }\n    }\n\n    ignoreErrors(): this {\n      this.shouldIgnoreErrors = true;\n      return this;\n    }\n\n    getStatus(): number {\n      return this.status;\n    }\n\n    private async _load(): Promise<any> {\n      if (this.aborted) {\n        return Promise.reject(new Error(`Cannot download ${this.urls[0]} -- aborted.`));\n      }\n      const tryURL = (url) => new Promise((resolve, reject) => {\n        const xhr = new XMLHttpRequest();\n        xhr.open('GET', url);\n        xhr.responseType = this.responseType;\n        this.xhr = xhr;\n\n        xhr.onload = () => {\n          this.status = xhr.status;\n          if (Request.acceptableResponseCodes.indexOf(xhr.status) !== -1 || this.shouldIgnoreErrors) {\n            resolve(xhr.response);\n          } else {\n            reject(new HTTPError(`HTTP Error ${xhr.status} while downloading ${this.urls[0]}`, xhr.status));\n          }\n        };\n\n        xhr.onloadend = (e) => {\n          this.xhr = null;\n          this.complete = true;\n          this.updateLoaderProgress();\n        };\n\n        xhr.onerror = (err) => {\n          reject(new Error(`Error while downloading ${url} (error) (r=${this.retries} s=${xhr.readyState}/${xhr.status}/${xhr.statusText})`));\n        };\n\n        xhr.onabort = (err) => {\n          this.aborted = true;\n          reject(new Error(`Error while downloading ${url} (abort)`));\n        };\n\n        xhr.send();\n      });\n\n      let errorToThrow;\n      for (const url of this.urls) {\n        try {\n          return await tryURL(url);\n        } catch (e) {\n          // We'll record this error if this is the first error, or if the current error provides more information than\n          // the old error. This is useful because:\n          //  trampoline.turbowarp.org/... -> blocked by filter (appears to us as generic network error)\n          //  trampoline.turbowarp.xyz/... -> returns 404\n          // should return the 404 error, not the generic network error.\n          if (!errorToThrow || (e instanceof HTTPError && !(errorToThrow instanceof HTTPError))) {\n            errorToThrow = e;\n          }\n        }\n      }\n      throw errorToThrow;\n    }\n\n    load(type: 'arraybuffer'): Promise<ArrayBuffer>;\n    load(type: 'json'): Promise<any>;\n    load(type: 'text'): Promise<string>;\n    load(type: 'blob'): Promise<Blob>;\n    load(type: XMLHttpRequestResponseType): Promise<any> {\n      this.responseType = type;\n      return requestThrottler.run(() => this.try(() => this._load()));\n    }\n\n    getRetryWarningDescription() {\n      return `download ${this.urls[0]}`;\n    }\n  }\n\n  export class Img extends Retry {\n    private complete: boolean = false;\n\n    constructor(private src: string) {\n      super();\n    }\n\n    isComplete(): boolean {\n      return this.complete;\n    }\n\n    private _load(): Promise<HTMLImageElement> {\n      if (this.aborted) {\n        return Promise.reject(new Error(`Cannot download ${this.src} -- aborted.`));\n      }\n      return new Promise((resolve, reject) => {\n        const image = new Image();\n        image.onload = () => {\n          this.complete = true;\n          this.updateLoaderProgress();\n          // We've found that explicitly setting these to null helps ensure that this class can get GC'd\n          image.onload = null;\n          image.onerror = null;\n          resolve(image);\n        };\n        image.onerror = () => {\n          // We've found that explicitly setting these to null helps ensure that this class can get GC'd\n          image.onload = null;\n          image.onerror = null;\n          reject(new Error(`Failed to load image: ${image.src} (r=${this.retries})`));\n        };\n        image.crossOrigin = 'anonymous';\n        setTimeout(() => {\n          image.src = this.src;\n        });\n      });\n    }\n\n    load(): Promise<HTMLImageElement> {\n      return requestThrottler.run(() => this.try(() => this._load())) as Promise<HTMLImageElement>;\n    }\n\n    getRetryWarningDescription() {\n      return `download image ${this.src}`;\n    }\n  }\n\n  export class Manual extends AbstractTask {\n    private complete: boolean = false;\n    private aborted: boolean = false;\n\n    markComplete(): void {\n      this.complete = true;\n      this.updateLoaderProgress();\n    }\n\n    isComplete(): boolean {\n      return this.complete;\n    }\n\n    abort(): void {\n      this.aborted = true;\n    }\n  }\n\n  export class PromiseTask extends Manual {\n    constructor(promise: Promise<unknown>) {\n      super();\n      promise.then(() => this.markComplete());\n    }\n  }\n\n  export abstract class Loader<T = unknown> {\n    private _tasks: Task[] = [];\n    public aborted: boolean = false;\n    public error: boolean = false;\n\n    private calculateProgress(): number {\n      if (this.aborted) {\n        return 1;\n      }\n\n      const totalTasks = this._tasks.length;\n      if (totalTasks === 0) {\n        return 0;\n      }\n\n      let finishedTasks = 0;\n      for (const task of this._tasks) {\n        if (task.isComplete()) {\n          finishedTasks++;\n        }\n      }\n\n      return finishedTasks / totalTasks;\n    }\n\n    updateProgress() {\n      if (this.error) {\n        return;\n      }\n      const progress = this.calculateProgress();\n      this.onprogress(progress);\n    }\n\n    resetTasks() {\n      this._tasks = [];\n      this.updateProgress();\n    }\n\n    addTask<T extends Task>(task: T): T {\n      this._tasks.push(task);\n      task.setLoader(this);\n      return task;\n    }\n\n    abort() {\n      this.aborted = true;\n      for (const task of this._tasks) {\n        task.abort();\n      }\n    }\n\n    cleanup() {\n      for (const task of this._tasks) {\n        task.setLoader(null as any);\n      }\n      this._tasks.length = 0;\n    }\n\n    onprogress(progress: number) {\n      // Users of the Loader class are expected to override this method.\n    }\n\n    abstract load(): Promise<T>;\n  }\n}\n","namespace P.json {\n  /**\n   * This is a custom JSON parser to support certain older Scratch projects with non-standard JSON files.\n   * This parser is not particularly fast, bug tested, or standards compliant.\n   * Use JSON.parse first.\n   * \n   * The choice not to use `eval()` here is intentional.\n   * \n   * Non-standard extensions:\n   *  - Support for [-]Infinity\n   *  - Support for NaN\n   */\n  class JSONParser {\n    private index: number = 0;\n\n    constructor(private readonly source: string) {\n\n    }\n\n    parse(): any {\n      return this.parseValue();\n    }\n\n    private lineInfo() {\n      let line = 0;\n      let column = 0;\n      for (var i = 0; i < this.index; i++) {\n        if (this.source[i] === '\\n') {\n          line++;\n          column = 0;\n        } else {\n          column++;\n        }\n      }\n      return { line: line + 1, column: column + 1};\n    }\n\n    private error(message: string): never {\n      const { line, column } = this.lineInfo();\n      throw new SyntaxError(`JSONParser: ${message} (Line ${line} Column ${column})`);\n    }\n\n    private char(): string {\n      return this.charAt(this.index);\n    }\n\n    private charAt(index: number): string {\n      if (index >= this.source.length) {\n        this.error('Unexpected end of input');\n      }\n      return this.source[index];\n    }\n\n    private next(): void {\n      this.index++;\n    }\n\n    private expect(char: string): void {\n      if (this.char() !== char) {\n        this.error(`Expected '${char}' but found '${this.char()}'`);\n      }\n      this.next();\n    }\n\n    private peek(length=1, offset=1): string {\n      if (length === 1) return this.charAt(this.index + offset);\n      let result = '';\n      for (var i = 0; i < length; i++) {\n        result += this.charAt(this.index + offset + i);\n      }\n      return result;\n    }\n\n    private skipWhitespace() {\n      while (/\\s/.test(this.char())) {\n        this.next();\n      }\n    }\n\n    private parseValue(): any {\n      this.skipWhitespace();\n      const char = this.char();\n\n      switch (char) {\n        case '\"': return this.parseString();\n        case '{': return this.parseObject();\n        case '[': return this.parseList();\n        case '0': case '1': case '2': case '3': case '4': case '5':\n        case '6': case '7': case '8': case '9': case '-':\n          return this.parseNumber();\n        default: return this.parseWord();\n      }\n    }\n\n    private parseWord(): any {\n      if (this.peek(4, 0) === 'null') {\n        for (var i = 0; i < 4; i++) this.next();\n        return null;\n      }\n      if (this.peek(4, 0) === 'true') {\n        for (var i = 0; i < 4; i++) this.next();\n        return true;\n      }\n      if (this.peek(5, 0) === 'false') {\n        for (var i = 0; i < 5; i++) this.next();\n        return false;\n      }\n\n      // Non-standard extensions\n      if (this.peek(8, 0) === 'Infinity') {\n        for (var i = 0; i < 8; i++) this.next();\n        return Infinity;\n      }\n      if (this.peek(9, 0) === '-Infinity') {\n        for (var i = 0; i < 9; i++) this.next();\n        return -Infinity;\n      }\n      if (this.peek(3, 0) === 'NaN') {\n        for (var i = 0; i < 3; i++) this.next();\n        return NaN;\n      }\n\n      this.error(`Unknown word (starts with ${this.char()})`);\n    }\n\n    private parseNumber(): number {\n      let number = '';\n      while (true) {\n        number += this.char();\n        if (/[\\d\\.e+-]/i.test(this.peek())) {\n          this.next();\n        } else {\n          break;\n        }\n      }\n      this.next();\n\n      const value = +number;\n      if (Number.isNaN(value)) {\n        this.error('Not a number: ' + number);\n      }\n\n      return value;\n    }\n\n    private parseString(): string {\n      this.expect('\"');\n      let result = '';\n\n      if (this.char() === '\"') {\n        this.next();\n        return '';\n      }\n\n      while (true) {\n        const char = this.char();\n        if (char === '\\\\') {\n          this.next();\n          switch (this.char()) {\n            case '\"': result += '\"'; break;\n            case '/': result += '/'; break;\n            case '\\\\': result += '\\\\'; break;\n            case 'b': result += '\\b'; break;\n            case 'f': result += '\\f'; break;\n            case 'n': result += '\\n'; break;\n            case 'r': result += '\\r'; break;\n            case 't': result += '\\t'; break;\n            case 'u': {\n              let hexString = '';\n              for (var i = 0; i < 4; i++) {\n                this.next();\n                const char = this.char();\n                if (!/[0-9a-f]/i.test(char)) {\n                  this.error('Invalid hex code: ' + char);\n                }\n                hexString += char;\n              }\n              const hexNumber = Number.parseInt(hexString, 16);\n              const letter = String.fromCharCode(hexNumber);\n              result += letter;\n              break;\n            }\n            default: this.error('Invalid escape code: \\\\' + this.char());\n          }\n        } else {\n          result += char;\n        }\n        if (this.peek() === '\"') {\n          break;\n        }\n        this.next();\n      }\n\n      this.next();\n      this.expect('\"');\n      return result;\n    }\n\n    private parseList(): any[] {\n      this.expect('[');\n\n      this.skipWhitespace();\n      if (this.char() === ']') {\n        this.next();\n        return [];\n      }\n\n      const result: any[] = [];\n      while (true) {\n        this.skipWhitespace();\n        const value = this.parseValue();\n        result.push(value);\n        this.skipWhitespace();\n\n        if (this.char() === ']') {\n          break;\n        }\n\n        this.expect(',');\n      }\n\n      this.expect(']');\n      return result;\n    }\n\n    private parseObject(): object {\n      this.expect('{');\n\n      this.skipWhitespace();\n      if (this.char() === '}') {\n        this.next();\n        return {};\n      }\n      \n      const result = Object.create(null);\n      while (true) {\n        this.skipWhitespace();\n        const key = this.parseString();\n\n        this.skipWhitespace();\n        this.expect(':');\n\n        const value = this.parseValue();\n        result[key] = value;\n\n        this.skipWhitespace();\n        if (this.char() === '}') {\n          break;\n        }\n\n        this.expect(',');\n      }\n\n      this.expect('}');\n      return result;\n    }\n  }\n\n  /**\n   * Parse a JSON string. Has special support for the non-standard things that some Scratch 2 Scratch projects contain.\n   * @param source JSON-like string\n   */\n  export function parse(source: string): any {\n    if (!/^\\s*{/.test(source)) {\n      throw new Error('The input does not seem to be a JSON object');\n    }\n    try {\n      return JSON.parse(source);\n    } catch (firstError) {\n      console.warn('JSON.parse failed. Trying alternative parser', firstError);\n      try {\n        const parser = new JSONParser(source);\n        return parser.parse();\n      } catch (secondError) {\n        console.warn('Alternative parser failed', secondError);\n        // Prefer to throw the JSON.parse error as our JSONParser error messages may not always make sense\n        throw firstError;\n      }\n    }\n  }\n}","/// <reference path=\"phosphorus.ts\" />\n\nnamespace P.utils {\n  import RotationStyle = P.core.RotationStyle;\n  /**\n   * Parses a Scratch rotation style string to a RotationStyle enum\n   */\n  export function parseRotationStyle(style: string): RotationStyle {\n    switch (style) {\n      case 'leftRight':\n      case 'left-right':\n        return RotationStyle.LeftRight;\n      case 'none':\n      case 'don\\'t rotate':\n        return RotationStyle.None;\n      case 'normal':\n      case 'all around':\n        return RotationStyle.Normal;\n    }\n    console.warn('unknown rotation style', style);\n    return RotationStyle.Normal;\n  }\n\n  /**\n   * @param r Red in the range 0-255\n   * @param g Green in the range 0-255\n   * @param b Blue in the range 0-255\n   * @returns HSL, hue in 0-360, saturation and lightness in 0-1\n   */\n  export function rgbToHSL(r: number, g: number, b: number): [number, number, number] {\n    // https://en.wikipedia.org/wiki/HSL_and_HSV\n\n    r /= 255;\n    g /= 255;\n    b /= 255;\n\n    var min = Math.min(r, g, b);\n    var max = Math.max(r, g, b);\n\n    if (min === max) {\n      return [0, 0, r];\n    }\n\n    var c = max - min;\n    var l = (min + max) / 2;\n    var s = c / (1 - Math.abs(2 * l - 1));\n\n    var h: number;\n    switch (max) {\n      case r: h = ((g - b) / c + 6) % 6; break;\n      case g: h = (b - r) / c + 2; break;\n      case b: h = (r - g) / c + 4; break;\n    }\n    h! *= 60;\n\n    return [h!, s, l];\n  }\n\n  /**\n   * @param r Red in the range 0-255\n   * @param g Green in the range 0-255\n   * @param b Blue in the range 0-255\n   * @returns HSV, hue in 0-360, saturation and value in 0-1\n   */\n  export function rgbToHSV(r: number, g: number, b: number): [number, number, number] {\n    // https://en.wikipedia.org/wiki/HSL_and_HSV\n\n    r /= 255;\n    g /= 255;\n    b /= 255;\n\n    var max = Math.max(r, g, b), min = Math.min(r, g, b);\n    var h: number, s: number, v = max;\n\n    var d = max - min;\n    s = max == 0 ? 0 : d / max;\n\n    if (max == min) {\n      h = 0;\n    } else {\n      switch (max) {\n        case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n        case g: h = (b - r) / d + 2; break;\n        case b: h = (r - g) / d + 4; break;\n      }\n      h! /= 6;\n    }\n\n    return [h! * 360, s, v];\n  }\n\n  /**\n   * @param h Hue in the range 0-1 (wrapping)\n   * @param s Saturation in the range 0-1\n   * @param v Value in the range 0-1\n   * @returns RGB, each value in the range 0-255\n   */\n  export function hsvToRGB(h: number, s: number, v: number): [number, number, number] {\n    // https://en.wikipedia.org/wiki/HSL_and_HSV\n\n    var r: number, g: number, b: number;\n  \n    var i = Math.floor(h * 6);\n    var f = h * 6 - i;\n    var p = v * (1 - s);\n    var q = v * (1 - f * s);\n    var t = v * (1 - (1 - f) * s);\n  \n    switch (i % 6) {\n      case 0: r = v, g = t, b = p; break;\n      case 1: r = q, g = v, b = p; break;\n      case 2: r = p, g = v, b = t; break;\n      case 3: r = p, g = q, b = v; break;\n      case 4: r = t, g = p, b = v; break;\n      case 5: r = v, g = p, b = q; break;\n    }\n  \n    return [r! * 255 | 0, g! * 255 | 0, b! * 255 | 0];\n  }\n\n  /**\n   * @param h Hue in the range 0-1 (wrapping)\n   * @param s Saturation in the range 0-1\n   * @param v Value in the range 0-1\n   * @returns RGB, each value in the range 0-255\n   */\n  export function hslToRGB(h: number, s: number, l: number): [number, number, number] {\n    // https://en.wikipedia.org/wiki/HSL_and_HSV\n    var r: number, g: number, b: number;\n  \n    if (s == 0) {\n      r = g = b = l; // achromatic\n    } else {\n      function hue2rgb(p, q, t) {\n        if (t < 0) t += 1;\n        if (t > 1) t -= 1;\n        if (t < 1/6) return p + (q - p) * 6 * t;\n        if (t < 1/2) return q;\n        if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n      }\n  \n      var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n      var p = 2 * l - q;\n  \n      r = hue2rgb(p, q, h + 1/3);\n      g = hue2rgb(p, q, h);\n      b = hue2rgb(p, q, h - 1/3);\n    }\n  \n    return [r * 255, g * 255, b * 255];\n  }\n\n  /**\n   * \n   * @param h Hue in the range 0-360\n   * @param s Saturation in the range 0-1\n   * @param v Lightness in the range 0-1\n   * @returns HSV, hue in 0-360, saturation and value in 0-1\n   */\n  export function hslToHSV(h: number, s: number, l: number): [number, number, number] {\n    var v = l + s * Math.min(l, 1 - l);\n    var s = v === 0 ? 0 : 2 - 2 * l / v;\n    return [h, s, v];\n  }\n\n  /**\n   * \n   * @param h Hue in the range 0-360\n   * @param s Saturation in the range 0-1\n   * @param v Value in the range 0-1\n   * @returns HSL, hue in 0-360, saturation and lightness in 0-1\n   */\n  export function hsvToHSL(h: number, s: number, v: number): [number, number, number] {\n    var l = v - v * s / 2;\n    var s = l === 0 ? 0 : (v - l) / Math.min(2 - 2 * l / v);\n    return [h, s, l];\n  }\n\n  /**\n   * Clamps a number within a range\n   * @param number The number\n   * @param min Minimum, inclusive\n   * @param max Maximum, inclusive\n   */\n  export function clamp(number: number, min: number, max: number) {\n    return Math.min(max, Math.max(min, number));\n  }\n\n  /*\n   * Creates a promise that resolves when the original promise resolves or fails.\n   */\n  export function settled(promise: Promise<any>): Promise<void> {\n    return new Promise((resolve, _reject) => {\n      promise\n        .then(() => resolve())\n        .catch(() => resolve());\n    });\n  }\n\n  /**\n   * Create a promise that will resolve after `ms` milliseconds.\n   */\n  export function sleep(ms: number) {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n  }\n\n  export function parseColor(color: any): number {\n    if (typeof color === 'number') {\n      return color;\n    }\n    if (typeof color === 'string') {\n      const nValue = +color;\n      if (!isNaN(nValue)) {\n        return nValue;\n      }\n      if (color.startsWith('#')) {\n        const hex = color.substr(1);\n        const parsedHex = parseInt(hex, 16);\n        if (hex.length === 6) {\n          return parsedHex;\n        } else if (hex.length === 3) {\n          const r = parsedHex >> 8 & 0xf;\n          const g = parsedHex >> 4 & 0xf;\n          const b = parsedHex & 0xf;\n          return (\n            ((r << 4) | r) << 16 |\n            ((g << 4) | g) << 8 |\n            ((b << 4) | b)\n          );\n        }\n      }\n    }\n    return 0;\n  };\n}\n","/// <reference path=\"phosphorus.ts\" />\n/// <reference path=\"utils.ts\" />\n/// <reference path=\"i18n.ts\" />\n\n// We need to add some declarations for old browser APIs that we use.\n\ninterface Document {\n  webkitIsFullScreen?: boolean;\n  webkitFullscreenElement?: HTMLElement;\n  mozCancelFullScreen?(): void;\n  webkitCancelFullScreen?(): void;\n  webkitExitFullscreen?(): void;\n}\n\ninterface HTMLElement {\n  webkitRequestFullScreen?(e: any): void;\n  requestFullScreenWithKeys?(): void;\n}\n\n/**\n * Player is an interface and wrapper around the Forkphorus core classes.\n */\nnamespace P.player {\n  /**\n   * PlayerError is a special type of error where the Player has special handling for this class of error.\n   * For example, it may display a help message instead of the error message in certain conditions such as unsupported project types.\n   */\n  export class PlayerError extends Error {\n    public readonly handledByPlayer: boolean = true;\n  }\n\n  /**\n   * An error that indicates that this project does not exist.\n   */\n  export class ProjectDoesNotExistError extends PlayerError {\n    constructor(public id: string) {\n      super('Project with ID ' + id + ' does not exist');\n      this.name = 'ProjectDoesNotExistError';\n    }\n  }\n\n  export class CannotAccessProjectError extends PlayerError {\n    constructor(public id: string) {\n      super(`Cannot access project with ID ${id}`);\n      this.name = 'CannotAccessProjectError';\n    }\n  }\n\n  type ProjectType = 'sb' | 'sb2' | 'sb3';\n\n  interface ProjectPlayer {\n    /** Emitted when there has been an update on loading progress. */\n    onprogress: Slot<number>;\n    /** Emitted when a Stage has loaded and been added to the player. */\n    onload: Slot<P.core.Stage>;\n    /** Emitted when a project begins loading. */\n    onstartload: Slot<never>;\n    /** Emitted when the current stage is removed. */\n    oncleanup: Slot<never>;\n    /** Emitted when the theme of the player is changed. */\n    onthemechange: Slot<Theme>;\n    /** Emitted when there is an error. */\n    onerror: Slot<any>;\n    /** Emitted when a stage is started or resumed. */\n    onresume: Slot<never>;\n    /** Emitted when the stage is paused. */\n    onpause: Slot<never>;\n    /** Emitted when options change. The payload only includes the parts that changed. */\n    onoptionschange: Slot<Partial<PlayerOptions>>;\n\n    root: HTMLElement;\n    controlsContainer: HTMLElement;\n    playerContainer: HTMLElement;\n\n    setOptions(options: Partial<PlayerOptions>): void;\n    getOptions(): PlayerOptions;\n\n    addControls(options: ControlsOptions): void;\n\n    /** Remove the stage and cancel the loader */\n    cleanup(): void;\n\n    /** Resume or start the project's frame loop. */\n    resume(): void;\n    /** Pause the project's frame loop */\n    pause(): void;\n    /** Stop the project and the frame loop, akin to the stop sign in Scratch */\n    stopAll(): void;\n    /** Start the project's scripts and the frame loop, akin to the green flag in Scratch */\n    triggerGreenFlag(): void;\n    /** Whether the project's frame loop is running. */\n    isRunning(): boolean;\n    /** Toggle the project's frame loop status. */\n    toggleRunning(): void;\n\n    loadProjectById(id: string): Promise<void>;\n    loadProjectFromFile(file: File): Promise<void>;\n    loadProjectFromBuffer(buffer: ArrayBuffer, type: ProjectType): Promise<void>;\n\n    hasStage(): boolean;\n    getStage(): P.core.Stage;\n\n    focus(): void;\n\n    enterFullscreen(): void;\n    exitFullscreen(): void;\n\n    hasProjectMeta(): boolean;\n    getProjectMeta(): ProjectMeta;\n  }\n\n  type Theme = 'light' | 'dark';\n  type AutoplayPolicy = 'always' | 'if-audio-playable' | 'never';\n  type CloudVariables = 'once' | 'ws' | 'localStorage' | 'off';\n  type FullscreenMode = 'full' | 'window';\n  interface PlayerOptions {\n    theme: Theme;\n    autoplayPolicy: AutoplayPolicy;\n    turbo: boolean;\n    fps: number;\n    cloudVariables: CloudVariables;\n    username: string;\n    fullscreenMode: FullscreenMode;\n    fullscreenPadding: number;\n    fullscreenMaxWidth: number;\n    imageSmoothing: boolean;\n    focusOnLoad: boolean;\n    spriteFencing: boolean;\n    removeLimits: boolean;\n    // $id is replaced with project ID\n    projectHost: string;\n    cloudHost: string[] | string;\n  }\n\n  interface ControlsOptions {\n    enableFullscreen?: boolean;\n    enableFlag?: boolean;\n    enableTurbo?: boolean;\n    enablePause?: boolean;\n    enableStop?: boolean;\n  }\n\n  interface ProjectMeta {\n    /**\n     * Load the metadata. This may involve network requests, so the result is not immediately available.\n     */\n    load(): Promise<ProjectMeta>;\n    /**\n     * Returns the cached title loaded by loadMetadata(), if any\n     */\n    getTitle(): string | null;\n    /**\n     * Returns the project ID, if any.\n     * A project ID is a unique identifier for a project.\n     * Usually this is a project ID from scratch.mit.edu, but it could be anything, such as a filename.\n     */\n    getId(): string;\n    /**\n     * Whether this project was loaded from scratch.mit.edu\n     */\n    isFromScratch(): boolean;\n    /**\n     * A token to be used for downloading the project, if any.\n     */\n    getToken(): string | null;\n    /**\n     * Returns true if this is a project from scratch.mit.edu and it is probably unshared.\n     */\n    isUnshared(): boolean;\n  }\n\n  class LoaderIdentifier {\n    private active: boolean = true;\n    private loader: P.io.Loader | null = null;\n\n    cancel() {\n      if (!this.active) {\n        throw new Error('cannot cancel: already cancelled');\n      }\n      this.active = false;\n      if (this.loader) {\n        this.loader.abort();\n      }\n    }\n\n    setLoader(loader: P.io.Loader) {\n      if (!this.active) {\n        throw new Error('Loading aborted');\n      }\n      this.loader = loader;\n    }\n\n    isActive() {\n      return this.active;\n    }\n  }\n\n  type SlotFn<T> = (t: T) => void;\n  class Slot<T> {\n    private _listeners: SlotFn<T>[] = [];\n\n    subscribe(fn: SlotFn<T>) {\n      this._listeners.push(fn);\n    }\n\n    emit(value?: T) {\n      for (const listener of this._listeners) {\n        listener(value!);\n      }\n    }\n  }\n\n  class LocalProjectMeta implements ProjectMeta {\n    constructor(private filename: string) {\n\n    }\n\n    load() {\n      // No data to load\n      return Promise.resolve(this);\n    }\n\n    getTitle() {\n      return this.filename;\n    }\n\n    getId() {\n      return this.filename;\n    }\n\n    isFromScratch() {\n      return false;\n    }\n\n    getToken() {\n      return null;\n    }\n\n    isUnshared() {\n      return false;\n    }\n  }\n\n  class BinaryProjectMeta implements ProjectMeta {\n    load() {\n      // No data to load\n      return Promise.resolve(this);\n    }\n\n    getTitle() {\n      return null;\n    }\n\n    getId() {\n      // do not change -- that could break cloud variables for some projects in the packager.\n      return '#buffer#';\n    }\n\n    isFromScratch() {\n      return false;\n    }\n    \n    getToken() {\n      return null;\n    }\n\n    isUnshared() {\n      return false;\n    }\n  }\n\n  class RemoteProjectMeta implements ProjectMeta {\n    private title: string | null = null;\n    private token: string | null = null;\n    private unshared: boolean = false;\n    private loadCallbacks: Array<(meta: ProjectMeta) => void> = [];\n    private startedLoading: boolean = false;\n\n    constructor(private id: string) {\n\n    }\n\n    load() {\n      if (!this.startedLoading) {\n        this.startedLoading = true;\n        const request = new P.io.Request([\n          // Some school filters block turbowarp.org, so we'll try a few URLs. Hopefully one will work.\n          'https://trampoline.turbowarp.org/proxy/projects/$id'.replace('$id', this.id),\n          'https://trampoline.turbowarp.xyz/proxy/projects/$id'.replace('$id', this.id),\n          // TODO: see whether this experiment has worked after a few months\n          'https://t.unsandboxed.org/proxy/projects/$id'.replace('$id', this.id),\n        ]);\n        request\n          .setMaxAttempts(1)\n          .ignoreErrors()\n          .load('json')\n          .then((data) => {\n            if (request.getStatus() === 404) {\n              this.unshared = true;\n            } else {\n              if (data.title) {\n                this.title = data.title;\n              }\n              if (data.project_token) {\n                this.token = data.project_token;\n              }\n            }\n            for (const callback of this.loadCallbacks) {\n              callback(this);\n            }\n            this.loadCallbacks.length = 0;\n          })\n          .catch((err) => {\n            console.error(err);\n            this.unshared = true;\n            for (const callback of this.loadCallbacks) {\n              callback(this);\n            }\n            this.loadCallbacks.length = 0;\n          });\n      }\n      return new Promise<ProjectMeta>((resolve) => {\n        this.loadCallbacks.push(resolve);\n      })\n    }\n\n    getTitle() {\n      return this.title;\n    }\n\n    getId() {\n      return this.id;\n    }\n\n    isFromScratch() {\n      return true;\n    }\n\n    getToken() {\n      return this.token;\n    }\n\n    isUnshared() {\n      return this.unshared;\n    }\n  }\n\n  /**\n   * Project player that makes using the forkphorus API less miserable.\n   * You MUST ALWAYS use Player.* instead of Player.stage.* when possible to avoid UI desyncs and other weird behavior.\n   */\n  export class Player implements ProjectPlayer {\n    public static readonly DEFAULT_OPTIONS: PlayerOptions = {\n      autoplayPolicy: 'always',\n      cloudVariables: 'ws',\n      fps: 30,\n      theme: 'light',\n      turbo: false,\n      username: '',\n      fullscreenMode: 'full',\n      fullscreenPadding: 8,\n      fullscreenMaxWidth: Infinity,\n      imageSmoothing: false,\n      focusOnLoad: true,\n      spriteFencing: false,\n      removeLimits: false,\n      projectHost: 'https://projects.scratch.mit.edu/$id',\n      // cloudHost: 'ws://localhost:9080', // for cloud-server development\n      cloudHost: ['wss://stratus.turbowarp.org', 'wss://stratus.turbowarp.xyz']\n    };\n\n    public onprogress = new Slot<number>();\n    public onload = new Slot<P.core.Stage>();\n    public onstartload = new Slot<never>();\n    public oncleanup = new Slot<never>();\n    public onthemechange = new Slot<Theme>();\n    public onerror = new Slot<any>();\n    public onresume = new Slot<never>();\n    public onpause = new Slot<never>();\n    public onoptionschange = new Slot<Partial<PlayerOptions>>();\n\n    public root: HTMLElement;\n    public playerContainer: HTMLElement;\n    public controlsContainer: HTMLElement;\n\n    /** Magic values. */\n    public MAGIC = {\n      // A large z-index, used for some fullscreen modes to display on top of everything.\n      LARGE_Z_INDEX: '9999999999',\n    };\n\n    private options: Readonly<PlayerOptions>;\n    private stage: P.core.Stage = null!; // making this nullable forces some very verbose type checking\n    private projectMeta: ProjectMeta | null = null;\n    private currentLoader: LoaderIdentifier | null = null;\n    private fullscreenEnabled: boolean = false;\n    private savedTheme: Theme;\n    private clickToPlayContainer: HTMLElement | null = null;\n\n    constructor(options: Partial<PlayerOptions> = {}) {\n      this.root = document.createElement('div');\n      this.root.className = 'player-root';\n\n      this.playerContainer = document.createElement('div');\n      this.playerContainer.className = 'player-stage';\n      this.root.appendChild(this.playerContainer);\n\n      this.setOptions({ ...options, ...Player.DEFAULT_OPTIONS });\n\n      window.addEventListener('resize', () => this.updateFullscreen());\n      document.addEventListener('fullscreenchange', () => this.onfullscreenchange());\n      document.addEventListener('mozfullscreenchange', () => this.onfullscreenchange());\n      document.addEventListener('webkitfullscreenchange', () => this.onfullscreenchange());\n\n      this.handleError = this.handleError.bind(this);\n    }\n\n    // UI HELPERS\n\n    private enableAttribute(name: string): void {\n      this.root.setAttribute(name, '');\n    }\n\n    private disableAttribute(name: string): void {\n      this.root.removeAttribute(name);\n    }\n\n    private setAttribute(name: string, enabled: boolean): void {\n      if (enabled) {\n        this.enableAttribute(name);\n      } else {\n        this.disableAttribute(name);\n      }\n    }\n\n    // OPTIONS\n\n    setOptions(changedOptions: Partial<PlayerOptions>): void {\n      this.options = { ...this.options, ...changedOptions };\n\n      // Sync some option values\n      if (typeof changedOptions.turbo !== 'undefined') {\n        this.setAttribute('turbo', changedOptions.turbo);\n      }\n      if (typeof changedOptions.theme !== 'undefined') {\n        this.root.setAttribute('theme', changedOptions.theme);\n        this.onthemechange.emit(changedOptions.theme);\n      }\n      if (this.hasStage()) {\n        this.applyOptionsToStage();\n      }\n\n      this.onoptionschange.emit(changedOptions);\n    }\n\n    getOptions(): PlayerOptions {\n      return this.options;\n    }\n\n    addControls(options: ControlsOptions = {}): void {\n      if (this.controlsContainer) {\n        throw new Error('This player already has controls.');\n      }\n\n      let flagTouchTimeout: number | null | undefined = undefined;\n\n      const clickStop = (e: MouseEvent) => {\n        this.throwWithoutStage();\n        this.stopAll();\n        this.stage.draw();\n        e.preventDefault();\n      };\n\n      const clickPause = (e: MouseEvent) => {\n        this.toggleRunning();\n      };\n\n      const clickFullscreen = (e: MouseEvent) => {\n        this.throwWithoutStage();\n        this.setOptions({ fullscreenMode: e.shiftKey ? 'window' : 'full' });\n        if (this.fullscreenEnabled) {\n          this.exitFullscreen();\n        } else {\n          this.enterFullscreen();\n        }\n      };\n\n      const clickFlag = (e: MouseEvent) => {\n        if (flagTouchTimeout === null) {\n          return;\n        }\n        if (flagTouchTimeout) {\n          clearTimeout(flagTouchTimeout);\n        }\n        this.throwWithoutStage();\n        if (e.shiftKey) {\n          this.setOptions({ turbo: !this.options.turbo });\n        } else {\n          this.triggerGreenFlag();\n        }\n        this.focus();\n        e.preventDefault();\n      };\n\n      const startTouchFlag = (e: MouseEvent) => {\n        flagTouchTimeout = setTimeout(() => {\n          flagTouchTimeout = null;\n          this.setOptions({ turbo: !this.options.turbo });\n        }, 500);\n      };\n\n      const preventDefault = (e: Event) => {\n        e.preventDefault();\n      };\n\n      this.controlsContainer = document.createElement('div');\n      this.controlsContainer.className = 'player-controls';\n\n      // prevent click events from firing on the project when using controls\n      // only prevent if clicking on a button and not empty space\n      this.controlsContainer.onmousedown = (e) => {\n        if (e.target !== this.controlsContainer) {\n          e.stopPropagation();\n        }\n      };\n      this.controlsContainer.ontouchstart = (e) => {\n        if (e.target !== this.controlsContainer) {\n          e.stopPropagation();\n        }\n      };\n\n      if (options.enableStop !== false) {\n        var stopButton = document.createElement('span');\n        stopButton.className = 'player-button player-stop';\n        this.controlsContainer.appendChild(stopButton);\n        stopButton.addEventListener('click', clickStop);\n        stopButton.addEventListener('touchend', clickStop);\n        stopButton.addEventListener('touchstart', preventDefault);\n      }\n\n      if (options.enablePause !== false) {\n        var pauseButton = document.createElement('span');\n        pauseButton.className = 'player-button player-pause';\n        this.controlsContainer.appendChild(pauseButton);\n        pauseButton.addEventListener('click', clickPause);\n        pauseButton.addEventListener('touchend', clickPause);\n        pauseButton.addEventListener('touchstart', preventDefault);\n      }\n\n      if (options.enableFlag !== false) {\n        var flagButton = document.createElement('span');\n        flagButton.className = 'player-button player-flag';\n        flagButton.title = P.i18n.translate('player.controls.flag.title');\n        this.controlsContainer.appendChild(flagButton);\n        flagButton.addEventListener('click', clickFlag);\n        flagButton.addEventListener('touchend', clickFlag)\n        flagButton.addEventListener('touchstart', startTouchFlag);\n        flagButton.addEventListener('touchstart', preventDefault);\n      }\n\n      if (options.enableTurbo !== false) {\n        var turboText = document.createElement('span');\n        turboText.innerText = P.i18n.translate('player.controls.turboIndicator');\n        turboText.className = 'player-label player-turbo';\n        this.controlsContainer.appendChild(turboText);\n\n        this.onoptionschange.subscribe((options) => {\n          if (flagButton && typeof options.turbo === 'boolean') {\n            if (options.turbo) {\n              flagButton.title = P.i18n.translate('player.controls.flag.title.enabled');\n            } else {\n              flagButton.title = P.i18n.translate('player.controls.flag.title.disabled');\n            }\n          }\n        });\n      }\n\n      if (options.enableFullscreen !== false) {\n        var fullscreenButton = document.createElement('span');\n        fullscreenButton.className = 'player-button player-fullscreen-btn';\n        fullscreenButton.title = P.i18n.translate('player.controls.fullscreen.title');\n        this.controlsContainer.appendChild(fullscreenButton);\n        fullscreenButton.addEventListener('click', clickFullscreen);\n        fullscreenButton.addEventListener('touchend', clickFullscreen);\n        fullscreenButton.addEventListener('touchstart', preventDefault);\n      }\n\n      this.root.addEventListener('touchmove', (e) => {\n        if (this.fullscreenEnabled) {\n          e.preventDefault();\n        }\n      });\n\n      this.root.insertBefore(this.controlsContainer, this.root.firstChild);\n    }\n\n    /**\n     * Apply local options to a stage\n     */\n    private applyOptionsToStage(): void {\n      // Changing FPS involves restarting an interval, which may cause a noticeable interruption, so we only apply when necessary\n      if (this.stage.runtime.framerate !== this.options.fps) {\n        this.stage.runtime.framerate = this.options.fps;\n        if (this.isRunning()) {\n          this.stage.runtime.resetInterval();\n        }\n      }\n      this.stage.username = this.options.username;\n      this.stage.runtime.isTurbo = this.options.turbo;\n      this.stage.useSpriteFencing = this.options.spriteFencing;\n      this.stage.removeLimits = this.options.removeLimits;\n      (this.stage.renderer as P.renderer.canvas2d.ProjectRenderer2D).imageSmoothingEnabled = this.options.imageSmoothing;\n    }\n\n    generateUsernameIfMissing() {\n      if (!this.options.username) {\n        this.setOptions({\n          username: 'player' + Math.random().toFixed(10).substr(2, 6)\n        });\n      }\n    }\n\n    // COMMON OPERATIONS\n\n    /**\n     * Throw an error if there is no stage available.\n     */\n    private throwWithoutStage() {\n      if (!this.stage) {\n        throw new Error('Missing stage.');\n      }\n    }\n\n    resume(): void {\n      this.throwWithoutStage();\n      if (this.isRunning()) {\n        throw new Error('cannot resume: project is already running');\n      }\n      this.stage.runtime.start();\n      this.enableAttribute('running');\n      this.onresume.emit();\n    }\n\n    pause(): void {\n      this.throwWithoutStage();\n      if (!this.isRunning()) {\n        throw new Error('cannot pause: project is already paused');\n      }\n      this.stage.runtime.pause();\n      this.disableAttribute('running');\n      this.onpause.emit();\n    }\n\n    isRunning() {\n      if (!this.hasStage()) {\n        return false;\n      }\n      return this.stage.runtime.isRunning;\n    }\n\n    toggleRunning(): void {\n      this.throwWithoutStage();\n      if (this.stage.runtime.isRunning) {\n        this.pause();\n      } else {\n        this.resume();\n      }\n    }\n\n    stopAll(): void {\n      this.throwWithoutStage();\n      this.pause();\n      this.stage.runtime.stopAll();\n    }\n\n    triggerGreenFlag(): void {\n      this.throwWithoutStage();\n      if (!this.isRunning()) {\n        this.resume();\n      }\n      this.stage.runtime.stopAll();\n      this.stage.runtime.triggerGreenFlag();\n      if (this.clickToPlayContainer) {\n        this.removeClickToPlayContainer();\n      }\n    }\n\n    cleanup() {\n      // Stop any loader\n      if (this.currentLoader) {\n        this.currentLoader.cancel();\n        this.currentLoader = null;\n      }\n      // Reset interface\n      if (this.clickToPlayContainer) {\n        this.removeClickToPlayContainer();\n      }\n      if (this.fullscreenEnabled) {\n        this.exitFullscreen();\n      }\n      // Remove stage\n      if (this.stage) {\n        this.stage.destroy();\n        this.stage = null!;\n      }\n      // Clear some additional data\n      this.projectMeta = null;\n      while (this.playerContainer.firstChild) {\n        this.playerContainer.removeChild(this.playerContainer.firstChild);\n      }\n      this.oncleanup.emit();\n    }\n\n    focus() {\n      this.stage.focus();\n    }\n\n    hasStage(): boolean {\n      return !!this.stage;\n    }\n\n    getStage(): core.Stage {\n      this.throwWithoutStage();\n      return this.stage;\n    }\n\n    hasProjectMeta() {\n      return !!this.projectMeta;\n    }\n\n    getProjectMeta() {\n      if (!this.projectMeta) {\n        throw new Error('no project meta');\n      }\n      return this.projectMeta;\n    }\n\n    private handleError(error: any) {\n      console.error(error);\n      this.onerror.emit(error);\n    }\n\n    // FULLSCREEN\n\n    enterFullscreen() {\n      // fullscreen requires dark theme\n      this.savedTheme = this.root.getAttribute('theme') as Theme;\n      this.setOptions({ theme: 'dark' });\n\n      if (this.options.fullscreenMode === 'full') {\n        if (this.root.requestFullScreenWithKeys) {\n          this.root.requestFullScreenWithKeys();\n        } else if (this.root.webkitRequestFullScreen) {\n          this.root.webkitRequestFullScreen((Element as any).ALLOW_KEYBOARD_INPUT);\n        } else if (this.root.requestFullscreen) {\n          this.root.requestFullscreen();\n        }\n      }\n\n      document.body.classList.add('player-body-fullscreen');\n      this.root.style.zIndex = this.MAGIC.LARGE_Z_INDEX;\n      this.enableAttribute('fullscreen');\n      this.fullscreenEnabled = true;\n\n      if (this.hasStage()) {\n        if (!this.isRunning()) {\n          this.stage.draw();\n        }\n        // TODO: remove this temporary fix for #192\n        if (this.options.focusOnLoad) {\n          this.focus();\n        }\n      }\n\n      this.updateFullscreen();\n    }\n\n    exitFullscreen() {\n      this.setOptions({ theme: this.savedTheme });\n      this.disableAttribute('fullscreen');\n      this.fullscreenEnabled = false;\n\n      if (document.fullscreenElement === this.root || document.webkitFullscreenElement === this.root) {\n        if (document.exitFullscreen) {\n          document.exitFullscreen();\n        } else if (document.mozCancelFullScreen) {\n          document.mozCancelFullScreen();\n        } else if (document.webkitCancelFullScreen) {\n          document.webkitCancelFullScreen();\n        } else if (document.webkitExitFullscreen) {\n          document.webkitExitFullscreen();\n        }\n      }\n\n      this.root.style.paddingLeft = '';\n      this.root.style.paddingTop = '';\n      this.root.style.zIndex = '';\n      if (this.controlsContainer) {\n        this.controlsContainer.style.width = '';\n      }\n      document.body.classList.remove('player-body-fullscreen');\n\n      if (this.stage) {\n        this.stage.setZoom(1);\n        this.focus();\n      }\n    }\n\n    /**\n     * Updates the stage in fullscreen mode to ensure proper dimensions.\n     */\n    private updateFullscreen() {\n      if (!this.fullscreenEnabled) {\n        return;\n      }\n      this.throwWithoutStage();\n      const controlsHeight = this.controlsContainer ? this.controlsContainer.offsetHeight : 0;\n      window.scrollTo(0, 0);\n\n      let w = window.innerWidth - this.options.fullscreenPadding * 2;\n      let h = window.innerHeight - this.options.fullscreenPadding - controlsHeight;\n      w = Math.min(w, h / 0.75);\n      w = Math.min(w, this.options.fullscreenMaxWidth);\n      h = w * 0.75 + controlsHeight;\n\n      if (this.controlsContainer) {\n        this.controlsContainer.style.width = w + 'px';\n      }\n\n      this.root.style.paddingLeft = (window.innerWidth - w) / 2 + 'px';\n      this.root.style.paddingTop = (window.innerHeight - h - this.options.fullscreenPadding) / 2 + 'px';\n      this.stage.setZoom(w / 480);\n    }\n\n    /**\n     * Responds to changes in the browser's fullscreen state.\n     */\n    private onfullscreenchange() {\n      // If the user closes fullscreen through some external method (probably pressing escape),\n      // we will want to cleanup and go back to the normal display mode.\n      if (typeof document.fullscreen === 'boolean' && document.fullscreen !== this.fullscreenEnabled) {\n        this.exitFullscreen();\n      } else if (typeof document.webkitIsFullScreen === 'boolean' && document.webkitIsFullScreen !== this.fullscreenEnabled) {\n        this.exitFullscreen();\n      }\n    }\n\n    // CLOUD VARIABLES\n\n    private applyCloudVariablesSocket(stage: P.core.Stage, id: string) {\n      this.generateUsernameIfMissing();\n      const handler = new P.ext.cloud.WebSocketCloudHandler(stage, this.options.cloudHost, id);\n      stage.setCloudHandler(handler);\n    }\n\n    private applyCloudVariablesLocalStorage(stage: P.core.Stage, id: string) {\n      const handler = new P.ext.cloud.LocalStorageCloudHandler(stage, id);\n      stage.setCloudHandler(handler);\n    }\n\n    private applyCloudVariables(policy: CloudVariables) {\n      const stage = this.stage;\n      const meta = this.projectMeta;\n      if (!meta) {\n        throw new Error('cannot apply cloud variable settings without projectMeta');\n      }\n\n      const hasCloudVariables = stage.cloudVariables.length > 0;\n      if (!hasCloudVariables) {\n        // if there are no cloud variables, none of the handlers will do anything anyways\n        return;\n      }\n\n      switch (policy) {\n        case 'ws':\n          if (meta.isFromScratch()) {\n            this.applyCloudVariablesSocket(stage, meta.getId());\n          }\n          break;\n        case 'localStorage':\n          this.applyCloudVariablesLocalStorage(stage, meta.getId());\n          break;\n      }\n    }\n\n    // AUTOPLAY POLICY\n\n    /**\n     * Apply an autoplay policy to the current stage.\n     */\n    private applyAutoplayPolicy(policy: AutoplayPolicy) {\n      switch (policy) {\n        case 'always': {\n          this.triggerGreenFlag();\n          break;\n        }\n        case 'if-audio-playable': {\n          if (!P.audio.context || P.audio.context.state === 'running') {\n            this.triggerGreenFlag();\n          } else {\n            this.showClickToPlayContainer();\n          }\n          break;\n        }\n        case 'never': {\n          this.showClickToPlayContainer();\n          break;\n        }\n      }\n    }\n\n    private showClickToPlayContainer() {\n      if (this.clickToPlayContainer) {\n        throw new Error('cannot show click-to-play interface: already shown');\n      }\n      this.clickToPlayContainer = document.createElement('div');\n      this.clickToPlayContainer.className = 'player-click-to-play-container';\n      this.clickToPlayContainer.onclick = () => {\n        // As we are in a user gesture handler, we may as well try to resume the AudioContext.\n        if (P.audio.context && P.audio.context.state !== 'running') {\n          P.audio.context.resume();\n        }\n        this.removeClickToPlayContainer();\n        this.triggerGreenFlag();\n        this.focus();\n      };\n\n      const content = document.createElement('div');\n      content.className = 'player-click-to-play-icon';\n      this.clickToPlayContainer.appendChild(content);\n\n      this.stage.ui.appendChild(this.clickToPlayContainer);\n    }\n\n    private removeClickToPlayContainer() {\n      if (this.clickToPlayContainer === null) {\n        throw new Error('cannot hide click-to-play interface: already hidden');\n      }\n      this.stage.ui.removeChild(this.clickToPlayContainer);\n      this.clickToPlayContainer = null;\n    }\n\n    // PROJECT LOADERS & HELPERS\n\n    /**\n     * Begin loading a new project.\n     * This gives you a LoaderIdentifier to use for identification and cancellation.\n     * It also removes any existing stage to make room for the new one.\n     */\n    private beginLoadingProject(): { loaderId: LoaderIdentifier } {\n      this.cleanup();\n      this.onstartload.emit();\n      const loaderId = new LoaderIdentifier();\n      this.currentLoader = loaderId;\n      return { loaderId };\n    }\n\n    /**\n     * Determine project type by its data.\n     * @param data The project's data (project.json)\n     */\n    private determineProjectType(data: any): 'sb2' | 'sb3' {\n      if ('objName' in data) return 'sb2';\n      if ('targets' in data) return 'sb3';\n      throw new Error('Unknown project type');\n    }\n\n    /**\n     * Determine if a project file is a Scratch 1 project.\n     */\n    private isScratch1Project(buffer: ArrayBuffer): boolean {\n      const MAGIC = 'ScratchV0';\n      const array = new Uint8Array(buffer);\n      for (var i = 0; i < MAGIC.length; i++) {\n        if (String.fromCharCode(array[i]) !== MAGIC[i]) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Convert a Scratch 1 project to a Scratch 2 project.\n     * @param buffer The binary data of the Scratch 1 project.\n     * @returns The binary data of the Scratch 2 project.\n     */\n    private convertScratch1Project(buffer: ArrayBuffer): Promise<ArrayBuffer> {\n      const sb1 = new ScratchSB1Converter.SB1File(buffer);\n      const projectData = sb1.json;\n      const zipFiles = sb1.zip.files;\n\n      const zip = new JSZip();\n      zip.file('project.json', JSON.stringify(projectData));\n      for (const fileName of Object.keys(zipFiles)) {\n        zip.file(fileName, zipFiles[fileName].bytes);\n      }\n      return zip.generateAsync({ type: 'arraybuffer' });\n    }\n\n    /**\n     * Download a project from the scratch.mit.edu using its ID.\n     */\n    private fetchProject(id: string, token: string | null): Promise<Blob> {\n      let url = this.options.projectHost.replace('$id', id);\n      if (token) {\n        url += `?token=${token}`;\n      }\n      const request = new P.io.Request(url);\n      return request\n        .ignoreErrors()\n        .load('blob')\n        .then(function(response) {\n          if (request.getStatus() === 404) {\n            throw new ProjectDoesNotExistError(id);\n          }\n          if (request.getStatus() === 403) {\n            throw new Error('Obtained token but permission was denied anyways. Try refreshing.');\n          }\n          return response;\n        });\n    }\n\n    /**\n     * Set the stage of this loader. Applies options to the stage, among other things.\n     */\n    private setStage(stage: P.core.Stage) {\n      this.stage = stage;\n      this.stage.runtime.handleError = this.handleError;\n      this.applyOptionsToStage();\n\n      this.playerContainer.appendChild(stage.root);\n      if (this.options.focusOnLoad) {\n        this.focus();\n      }\n      this.onload.emit(stage);\n\n      this.stage.draw();\n\n      this.applyCloudVariables(this.options.cloudVariables);\n      this.applyAutoplayPolicy(this.options.autoplayPolicy);\n    }\n\n    /**\n     * Sets the active loader of this stage.\n     * @param loaderId LoaderIdentifier as given by startLoadingProject()\n     * @param loader The new loader\n     */\n    private async loadLoader(loaderId: LoaderIdentifier, loader: P.io.Loader<P.core.Stage>): Promise<P.core.Stage> {\n      loaderId.setLoader(loader);\n      loader.onprogress = (progress) => {\n        if (loaderId.isActive()) {\n          this.onprogress.emit(progress);\n        }\n      };\n      const stage = await loader.load();\n      this.setStage(stage);\n      this.currentLoader = null;\n      loader.cleanup();\n      return stage;\n    }\n\n    async loadProjectById(id: string): Promise<void> {\n      const { loaderId } = this.beginLoadingProject();\n\n      const getLoader = async (blob: Blob): Promise<P.io.Loader<P.core.Stage>> => {\n        // When downloaded from scratch.mit.edu, there are two types of projects:\n        // 1. \"JSON projects\" which are only the project.json of a sb2 or sb3 file.\n        //    This is most projects, especially as this is the only format of Scratch 3 projects.\n        // 2. \"Binary projects\" which are full binary .sb, .sb2, or .sb3 files. Examples:\n        //    https://scratch.mit.edu/projects/250740608/ (sb2)\n        //    https://scratch.mit.edu/projects/418795494/ (sb3)\n\n        try {\n          // We will try to read the project as JSON text.\n          // This will error if this is not a JSON project.\n          const projectText = await P.io.readers.toText(blob);\n          const projectJson = P.json.parse(projectText);\n\n          switch (this.determineProjectType(projectJson)) {\n            case 'sb2': return new P.sb2.Scratch2Loader(projectJson);\n            case 'sb3': return new P.sb3.Scratch3Loader(projectJson);\n          }\n        } catch (e) {\n          // if the project cannot be loaded as JSON, it may be a binary project.\n          let buffer = await P.io.readers.toArrayBuffer(blob);\n\n          // Scratch 1 is converted to Scratch 2.\n          if (this.isScratch1Project(buffer)) {\n            buffer = await this.convertScratch1Project(buffer);\n          } else {\n              try {\n              // Examine project.json to determine project type.\n              const zip = await JSZip.loadAsync(buffer);\n              const projectJSON = zip.file('project.json');\n              if (!projectJSON) {\n                throw new Error('zip is missing project.json');\n              }\n              const projectDataText = await projectJSON.async('text');\n              const projectData = JSON.parse(projectDataText);\n              if (this.determineProjectType(projectData) === 'sb3') {\n                return new P.sb3.SB3FileLoader(buffer);\n              }\n            } catch (e) {\n              // ignore\n            }\n          }\n\n          return new P.sb2.SB2FileLoader(buffer);\n        }\n      };\n\n      try {\n        const meta = new RemoteProjectMeta(id);\n        this.projectMeta = meta;\n\n        const needsToken = this.options.projectHost.startsWith('https://projects.scratch.mit.edu/');\n        let token: string | null = null;\n        if (needsToken) {\n          await meta.load();\n          if (meta.isUnshared()) {\n            throw new CannotAccessProjectError(id);\n          }\n          token = meta.getToken();\n        }\n\n        const blob = await this.fetchProject(id, token);\n        const loader = await getLoader(blob);\n        await this.loadLoader(loaderId, loader);\n      } catch (e) {\n        if (loaderId.isActive()) {\n          this.handleError(e);\n        }\n      }\n    }\n\n    private async loadProjectFromBufferWithType(loaderId: LoaderIdentifier, buffer: ArrayBuffer, type: ProjectType): Promise<void> {\n      let loader: P.io.Loader<P.core.Stage>;\n\n      // Scratch 1 is converted to Scratch 2.\n      if (type === 'sb') {\n        buffer = await this.convertScratch1Project(buffer);\n        type = 'sb2';\n      }\n\n      switch (type) {\n        case 'sb2': loader = new P.sb2.SB2FileLoader(buffer); break;\n        case 'sb3': loader = new P.sb3.SB3FileLoader(buffer); break;\n        default: throw new Error('Unknown type: ' + type);\n      }\n      await this.loadLoader(loaderId, loader);\n    }\n\n    async loadProjectFromFile(file: File): Promise<void> {\n      const { loaderId } = this.beginLoadingProject();\n\n      try {\n        this.projectMeta = new LocalProjectMeta(file.name);\n        const extension = file.name.split('.').pop() || '';\n        const buffer = await P.io.readers.toArrayBuffer(file);\n\n        switch (extension) {\n          case 'sb': return await this.loadProjectFromBufferWithType(loaderId, buffer, 'sb');\n          case 'sb2': return await this.loadProjectFromBufferWithType(loaderId, buffer, 'sb2');\n          case 'sb3': return await this.loadProjectFromBufferWithType(loaderId, buffer, 'sb3');\n          default: throw new Error('Unrecognized file extension: ' + extension);\n        }\n      } catch (e) {\n        if (loaderId.isActive()) {\n          this.handleError(e);\n        }\n      }\n    }\n\n    async loadProjectFromBuffer(buffer: ArrayBuffer, type: ProjectType): Promise<void> {\n      const { loaderId } = this.beginLoadingProject();\n\n      try {\n        this.projectMeta = new BinaryProjectMeta();\n        return await this.loadProjectFromBufferWithType(loaderId, buffer, type);\n      } catch (e) {\n        if (loaderId.isActive()) {\n          this.handleError(e);\n        }\n      }\n    }\n  }\n\n  interface ErrorHandlerOptions {\n    container?: HTMLElement;\n  }\n\n  /**\n   * Error handler UI for Player\n   */\n  export class ErrorHandler {\n    /**\n     * The URL to report bugs to.\n     * $title is replaced with the project title (encoded)\n     * $body is replaced with the bug report body (encoded)\n     */\n    public static BUG_REPORT_LINK = 'https://github.com/forkphorus/forkphorus/issues/new?template=bug_report.md&labels=bug&title=$title&body=$body&';\n\n    private errorEl: HTMLElement | null = null;\n    private errorContainer: HTMLElement | null = null;\n    public generatedErrorLink: string | null = null;\n\n    constructor(public player: ProjectPlayer, options: ErrorHandlerOptions = {}) {\n      this.player = player;\n      player.onerror.subscribe(this.onerror.bind(this));\n      player.oncleanup.subscribe(this.oncleanup.bind(this));\n      this.errorEl = null;\n      if (options.container) {\n        this.errorContainer = options.container;\n      } else {\n        this.errorContainer = null;\n      }\n    }\n\n    /**\n     * Create a string representation of an error.\n     */\n    private stringifyError(error: any): string {\n      if (!error) {\n        return 'unknown error';\n      }\n      if (error.stack) {\n        return 'Message: ' + error.message + '\\nStack:\\n' + error.stack;\n      }\n      return '' + error;\n    }\n\n    /**\n     * Generate the link to report a bug to, including project and device information.\n     * @param error An error to include in the bug report\n     */\n    createBugReportLink(error?: any): string {\n      const type = error ? '[Error]' : '[Bug]';\n      const title = `${type} ${this.getBugReportTitle()}`;\n      const body = this.getBugReportBody(error);\n\n      return ErrorHandler.BUG_REPORT_LINK\n        .replace('$title', encodeURIComponent(title))\n        .replace('$body', encodeURIComponent(body));\n    }\n\n    /**\n     * Get the title for bug reports.\n     */\n    private getBugReportTitle(): string {\n      if (!this.player.hasProjectMeta()) {\n        return 'Unknown Project';\n      }\n      const meta = this.player.getProjectMeta();\n      const title = meta.getTitle();\n      const id = meta.getId();\n      if (title) {\n        return title;\n      }\n      if (id) {\n        return id;\n      }\n      return 'Unknown Project';\n    }\n\n    /**\n     * Generate the body of an error report.\n     * @param error An error to include, if any.\n     */\n    private getBugReportBody(error: any): string {\n      const sections: {title: string; body: string;}[] = [];\n\n      sections.push({\n        title: 'Describe the bug, including any steps to reproduce it',\n        body: '',\n      });\n\n      sections.push({\n        title: 'Project ID, URL, or file',\n        body: this.getProjectInformation(),\n      });\n\n      let debug = '';\n      debug += location.href + '\\n';\n      debug += navigator.userAgent + '\\n';\n      if (error) {\n        debug += '```\\n' + this.stringifyError(error) + '\\n```';\n      }\n      sections.push({\n        title: 'Debug information <!-- DO NOT EDIT -->',\n        body: debug,\n      });\n\n      return sections\n        .map((i) => `**${i.title}**\\n${i.body}\\n`)\n        .join('\\n')\n        .trim();\n    }\n\n    /**\n     * Get the information to display to describe where to find the project.\n     */\n    private getProjectInformation(): string {\n      if (!this.player.hasProjectMeta()) {\n        return 'no project meta loaded';\n      }\n      const projectMeta = this.player.getProjectMeta();\n      if (projectMeta.isFromScratch()) {\n        if (projectMeta.getTitle()) {\n          return 'https://scratch.mit.edu/projects/' + projectMeta.getId();\n        } else {\n          return 'https://scratch.mit.edu/projects/' + projectMeta.getId() + ' (probably unshared)';\n        }\n      }\n      return 'Not from Scratch: ' + projectMeta.getId();\n    }\n\n    private oncleanup(): void {\n      if (this.errorEl && this.errorEl.parentNode) {\n        this.errorEl.parentNode.removeChild(this.errorEl);\n        this.errorEl = null;\n      }\n      this.generatedErrorLink = null;\n    }\n\n    /**\n     * Create an error element indicating that forkphorus has crashed, and where to report the bug.\n     */\n    handleError(error: any): HTMLElement {\n      const el = document.createElement('div');\n      const errorLink = this.createBugReportLink(error);\n      this.generatedErrorLink = errorLink;\n      const attributes = 'href=\"' + errorLink + '\" target=\"_blank\" ref=\"noopener\"';\n      // use of innerHTML intentional\n      el.innerHTML = P.i18n.translate('player.errorhandler.error').replace('$attrs', attributes);\n      return el;\n    }\n\n    private handleCannotAccessProjectError(error: CannotAccessProjectError): HTMLElement {\n      const el = document.createElement('div');\n\n      const section1 = document.createElement('div');\n      section1.textContent = \"Can't access project token. This usually means the project is unshared, never existed, or the ID is invalid.\";\n      section1.style.marginBottom = '4px';\n      el.appendChild(section1);\n\n      const section2 = document.createElement('div');\n      section2.textContent = \"Unshared projects are no longer accessible using their project ID due to Scratch API changes. \";\n      section2.appendChild(Object.assign(document.createElement('a'), {\n        textContent: 'More information',\n        href: 'https://docs.turbowarp.org/unshared-projects',\n      }));\n      section2.style.marginBottom = '4px';\n      section2.appendChild(document.createTextNode('.'));\n      el.appendChild(section2);\n\n      const section3 = document.createElement('div');\n      section3.textContent = 'If the project was shared recently, it may take a few minutes for this message to go away. If the project is actually shared, please report a bug.';\n      el.appendChild(section3);\n\n      return el;\n    }\n\n    /**\n     * Create an error element indicating this project does not exist.\n     */\n    private handleDoesNotExistError(error: ProjectDoesNotExistError): HTMLElement {\n      const el = document.createElement('div');\n      const LEGACY_HOST = 'https://projects.scratch.mit.edu/internalapi/project/$id/get/';\n      if (this.player.getOptions().projectHost === LEGACY_HOST) {\n        el.textContent = P.i18n.translate('player.errorhandler.error.doesnotexistlegacy').replace('$id', error.id);\n      } else {\n        el.textContent = P.i18n.translate('player.errorhandler.error.doesnotexist').replace('$id', error.id);\n      }\n      return el;\n    }\n\n    private onerror(error: any): void {\n      const el = document.createElement('div');\n      el.className = 'player-error';\n      // Special handling for certain errors to provide a better error message\n      if (error instanceof CannotAccessProjectError) {\n        el.appendChild(this.handleCannotAccessProjectError(error))\n      } else if (error instanceof ProjectDoesNotExistError) {\n        el.appendChild(this.handleDoesNotExistError(error));\n      } else {\n        el.appendChild(this.handleError(error));\n      }\n      if (this.errorContainer) {\n        this.errorContainer.appendChild(el);\n      } else if (this.player.hasStage()) {\n        this.player.getStage().ui.appendChild(el);\n      } else {\n        this.player.playerContainer.appendChild(el);\n      }\n      this.errorEl = el;\n    }\n  }\n\n  interface ProgressBarOptions {\n    position?: 'controls' | HTMLElement;\n  }\n\n  /**\n   * Loading progress bar for Player\n   */\n  export class ProgressBar {\n    private el: HTMLElement;\n    private bar: HTMLElement;\n\n    constructor(player: ProjectPlayer, options: ProgressBarOptions = {}) {\n      this.el = document.createElement('div');\n      this.el.className = 'player-progress';\n\n      this.bar = document.createElement('div');\n      this.bar.className = 'player-progress-fill';\n      this.el.appendChild(this.bar);\n\n      this.setTheme(player.getOptions().theme);\n\n      player.onthemechange.subscribe((theme) => this.setTheme(theme));\n      player.onprogress.subscribe((progress) => this.setProgress(progress));\n      player.onstartload.subscribe(() => {\n        this.el.setAttribute('state', 'loading');\n        this.setProgress(0);\n      });\n      player.onload.subscribe(() => {\n        this.el.setAttribute('state', 'loaded');\n      });\n      player.oncleanup.subscribe(() => {\n        this.el.setAttribute('state', '');\n        this.bar.style.width = '0%';\n      });\n      player.onerror.subscribe(() => {\n        this.el.setAttribute('state', 'error');\n        this.bar.style.width = '100%';\n      });\n\n      if (options.position === 'controls' || options.position === undefined) {\n        if (!player.controlsContainer) {\n          throw new Error('No controls to put progess bar in.');\n        }\n        player.controlsContainer.appendChild(this.el);\n      } else {\n        options.position.appendChild(this.el);\n      }\n    }\n\n    private setTheme(theme: Theme) {\n      this.el.setAttribute('theme', theme);\n    }\n\n    setProgress(progress: number) {\n      this.bar.style.width = 10 + progress * 90 + '%';\n    }\n  }\n}\n","/// <reference path=\"phosphorus.ts\" />\n/// <reference path=\"core.ts\" />\n/// <reference path=\"audio.ts\" />\n\n// The phosphorus runtime for Scratch\n// Provides methods expected at runtime by scripts created by the compiler and an environment for Scratch scripts to run\nnamespace P.runtime {\n  export type Fn = () => void;\n\n  // Current runtime\n  var runtime: Runtime;\n  // Current stage\n  var self: P.core.Stage;\n  // Current sprite or stage\n  var S: P.core.Base;\n  // Current thread state.\n  var R;\n  // Stack of states (R) for this thread\n  var STACK;\n  // Current procedure call, if any. Contains arguments.\n  var C: ThreadCall;\n  // This thread's call (C) stack\n  var CALLS;\n  // If level of layers of \"Run without screen refresh\" we are in\n  // Each level (usually procedures) of depth will increment and decrement as they start and stop.\n  // As long as this is greater than 0, functions will run without waiting for the screen.\n  var WARP: number;\n  // BASE is the first ran function of a thread, used as an identifier\n  var BASE;\n  // The ID of the active thread in the Runtime's queue\n  var THREAD: number;\n  // The next function to run immediately after this one.\n  var IMMEDIATE: Fn | null | undefined;\n  // Has a \"visual change\" been made in this frame?\n  var VISUAL: boolean;\n  // Have the current thread been stopped (by either itself or another thread before it)?\n  var STOPPED: boolean;\n\n  // Note:\n  // Your editor might warn you about \"unused variables\" or things like that.\n  // Due to the nature of the runtime you should ignore these warnings.\n\n  const epoch = Date.UTC(2000, 0, 1);\n  const INSTRUMENTS = P.audio.instruments;\n  const DRUMS = P.audio.drums;\n  const DIGIT = /\\d/;\n\n  var bool = function(v) {\n    return +v !== 0 && v !== '' && v !== 'false' && v !== false;\n  };\n\n  var compare = function(x, y) {\n    if ((typeof x !== 'string' || DIGIT.test(x)) && (typeof y !== 'string' || DIGIT.test(y))) {\n      var nx = +x;\n      var ny = +y;\n      if (nx === nx && ny === ny) {\n        return nx < ny ? -1 : nx === ny ? 0 : 1;\n      }\n    }\n    var xs = ('' + x).toLowerCase();\n    var ys = ('' + y).toLowerCase();\n    return xs < ys ? -1 : xs === ys ? 0 : 1;\n  };\n\n  var numLess = function(nx, y) {\n    if (typeof y === 'number' || DIGIT.test(y)) {\n      var ny = +y;\n      if (ny === ny) {\n        return nx < ny;\n      }\n    }\n    var ys = ('' + y).toLowerCase();\n    return '' + nx < ys;\n  };\n\n  var numGreater = function(nx, y) {\n    if (typeof y === 'number' || DIGIT.test(y)) {\n      var ny = +y;\n      if (ny === ny) {\n        return nx > ny;\n      }\n    }\n    var ys = ('' + y).toLowerCase();\n    return '' + nx > ys;\n  };\n\n  var equal = function(x: any, y: any) {\n    if ((typeof x === 'number' || typeof x === 'boolean' || DIGIT.test(x)) && (typeof y === 'number' || typeof x === 'boolean' || DIGIT.test(y))) {\n      var nx = +x;\n      var ny = +y;\n      if (nx === nx && ny === ny) {\n        return nx === ny;\n      }\n    }\n    var xs = ('' + x).toLowerCase();\n    var ys = ('' + y).toLowerCase();\n    return xs === ys;\n  };\n\n  // Equality testing optimized for the first argument always being a number.\n  var numEqual = function(nx: number, y: any) {\n    if (typeof y === 'number' || DIGIT.test(y)) {\n      var ny = +y;\n      return ny === ny && nx === ny;\n    }\n    return false;\n  };\n\n  var numEqualExperimental = function(nx: number, y: any) {\n    var ny = +y;\n    return ny === ny && nx === ny;\n  };\n\n  var numLessExperimental = function(nx: number, y: any) {\n    var ny = +y;\n    return ny === ny && nx < y;\n  };\n\n  var numGreaterExperimental = function(nx: number, y: any) {\n    var ny = +y;\n    return ny === ny && nx > y;\n  };\n\n  // Equality testing optimized for either argument never being number-like.\n  var strEqual = function(a: any, b: any) {\n    return (a + '').toLowerCase() === (b + '').toLowerCase();\n  };\n\n  var stringContains = function(baseString: string, needle: string) {\n    return baseString.toLowerCase().indexOf(needle.toLowerCase()) > -1;\n  };\n\n  var mod = function(x, y) {\n    var r = x % y;\n    // need special behavior for handling negatives\n    if (r / y < 0) {\n      r += y;\n    }\n    return r;\n  };\n\n  var random = function(x, y) {\n    var fractional =\n      (typeof x === 'string' && !isNaN(+x) && x.indexOf('.') > -1) ||\n      (typeof y === 'string' && !isNaN(+y) && y.indexOf('.') > -1);\n    x = +x || 0;\n    y = +y || 0;\n    if (x > y) {\n      var tmp = y;\n      y = x;\n      x = tmp;\n    }\n    if (!fractional && (x % 1 === 0 && y % 1 === 0)) {\n      return Math.floor(Math.random() * (y - x + 1)) + x;\n    }\n    return Math.random() * (y - x) + x;\n  };\n\n  var random3 = function(x, y) {\n    var fractional =\n      (typeof x === 'string' && x.indexOf('.') > -1) ||\n      (typeof y === 'string' && y.indexOf('.') > -1);\n    x = +x || 0;\n    y = +y || 0;\n    if (x > y) {\n      var tmp = y;\n      y = x;\n      x = tmp;\n    }\n    if (!fractional && (x % 1 === 0 && y % 1 === 0)) {\n      return Math.floor(Math.random() * (y - x + 1)) + x;\n    }\n    return Math.random() * (y - x) + x;\n  };\n\n  // Clone a sprite\n  var clone = function(name) {\n    const parent = name === '_myself_' ? S : self.getObject(name);\n    if (!parent || !P.core.isSprite(parent)) {\n      // sprites that do not exist and stages cannot be cloned\n      return;\n    }\n    const c = parent.clone();\n    self.children.splice(self.children.indexOf(parent), 0, c);\n    runtime.triggerFor(c, 'whenCloned');\n    if (c.visible) {\n      VISUAL = true;\n    }\n  };\n\n  var getVars = function(name) {\n    return self.vars[name] !== undefined ? self.vars : S.vars;\n  };\n\n  var getLists = function(name) {\n    if (self.lists[name] !== undefined) return self.lists;\n    if (S.lists[name] === undefined) {\n      S.lists[name] = [];\n    }\n    return S.lists;\n  };\n\n  var listIndex = function(list, index, length) {\n    var i = index | 0;\n    if (i === index) return i > 0 && i <= length ? i - 1 : -1;\n    if (index === 'random' || index === 'any') {\n      return Math.random() * length | 0;\n    }\n    if (index === 'last') {\n      return length - 1;\n    }\n    return i > 0 && i <= length ? i - 1 : -1;\n  };\n\n  var contentsOfList = function(list) {\n    var isSingle = true;\n    for (var i = list.length; i--;) {\n      if (list[i].length !== 1) {\n        isSingle = false;\n        break;\n      }\n    }\n    return list.join(isSingle ? '' : ' ');\n  };\n  var getLineOfList = function(list, index) {\n    var i = listIndex(list, index, list.length);\n    return i !== -1 ? list[i] : '';\n  };\n  var listContains = function(list, value) {\n    for (var i = list.length; i--;) {\n      if (equal(list[i], value)) return true;\n    }\n    return false;\n  };\n  var listIndexOf = function(list, value) {\n    for (var i = 0; i < list.length; i++) {\n      if (equal(list[i], value)) return i + 1;\n    }\n    return 0;\n  };\n  var appendToList = function(list, value) {\n    list.push(value);\n  };\n  var deleteLineOfList = function(list, index) {\n    if (index === 'all') {\n      list.length = 0;\n    } else {\n      var i = listIndex(list, index, list.length);\n      if (i === list.length - 1) {\n        list.pop();\n      } else if (i !== -1) {\n        list.splice(i, 1);\n      }\n    }\n  };\n  var insertInList = function(list, index, value) {\n    var i = listIndex(list, index, list.length + 1);\n    if (i === list.length) {\n      list.push(value);\n    } else if (i !== -1) {\n      list.splice(i, 0, value);\n    }\n  };\n  var setLineOfList = function(list, index, value) {\n    var i = listIndex(list, index, list.length);\n    if (i !== -1) {\n      list[i] = value;\n    }\n  };\n\n  // \"Watched\" variants of the above that set modified=true\n  var watchedAppendToList = function(list, value) {\n    appendToList(list, value);\n    if (!list.modified) list.modified = true;\n  };\n  var watchedDeleteLineOfList = function(list, index) {\n    deleteLineOfList(list, index);\n    if (!list.modified) list.modified = true;\n  };\n  var watchedDeleteAllOfList = function(list) {\n    list.length = 0;\n    if (!list.modified) list.modified = true;\n  };\n  var watchedInsertInList = function(list, index, value) {\n    insertInList(list, index, value);\n    if (!list.modified) list.modified = true;\n  };\n  var watchedSetLineOfList = function(list, index, value) {\n    setLineOfList(list, index, value);\n    if (!list.modified) list.modified = true;\n  };\n\n  var mathFunc = function(f, x) {\n    switch (f) {\n      case 'abs':\n        return Math.abs(x);\n      case 'floor':\n        return Math.floor(x);\n      case 'sqrt':\n        return Math.sqrt(x);\n      case 'ceiling':\n        return Math.ceil(x);\n      case 'cos':\n        return Math.cos(x * Math.PI / 180);\n      case 'sin':\n        return Math.sin(x * Math.PI / 180);\n      case 'tan':\n        return Math.tan(x * Math.PI / 180);\n      case 'asin':\n        return Math.asin(x) * 180 / Math.PI;\n      case 'acos':\n        return Math.acos(x) * 180 / Math.PI;\n      case 'atan':\n        return Math.atan(x) * 180 / Math.PI;\n      case 'ln':\n        return Math.log(x);\n      case 'log':\n        return Math.log(x) / Math.LN10;\n      case 'e ^':\n        return Math.exp(x);\n      case '10 ^':\n        return Math.exp(x * Math.LN10);\n    }\n    return 0;\n  };\n\n  // https://github.com/LLK/scratch-vm/blob/3fcbc005d17ae1d09121cf63a678127c227c8b86/src/util/math-util.js#L48-L65\n  var tan3 = function(angle) {\n    angle = angle - Math.floor(angle / 360) * 360;\n    if (angle === 90) return Infinity;\n    if (angle === 270) return -Infinity;\n    return Math.round(Math.tan(angle * Math.PI / 180) * 1e10) / 1e10;\n  };\n\n  var attribute = function(attr, objName) {\n    // https://github.com/LLK/scratch-vm/blob/e236d29ff5e03f7c4d77a614751da860521771fd/src/blocks/scratch3_sensing.js#L280\n    const o = self.getObject(objName);\n    if (!o) return 0;\n    if (P.core.isSprite(o)) {\n      switch (attr) {\n        case 'x position': return o.scratchX;\n        case 'y position': return o.scratchY;\n        case 'direction': return o.direction;\n        case 'costume #': return o.currentCostumeIndex + 1;\n        case 'costume name': return o.costumes[o.currentCostumeIndex].name;\n        case 'size': return o.scale * 100;\n        case 'volume': return o.volume * 100;\n      }\n    } else {\n      switch (attr) {\n        case 'background #':\n        case 'backdrop #': return o.currentCostumeIndex + 1;\n        case 'backdrop name': return o.costumes[o.currentCostumeIndex].name;\n        case 'volume': return o.volume * 100;\n      }\n    }\n    const value = o.vars[attr];\n    if (value !== undefined) {\n      return value;\n    }\n    return 0;\n  };\n\n  var timeAndDate = function(format: any): number {\n    switch (format) {\n      case 'year':\n        return new Date().getFullYear();\n      case 'month':\n        return new Date().getMonth() + 1;\n      case 'date':\n        return new Date().getDate();\n      case 'day of week':\n        return new Date().getDay() + 1;\n      case 'hour':\n        return new Date().getHours();\n      case 'minute':\n        return new Date().getMinutes();\n      case 'second':\n        return new Date().getSeconds();\n    }\n    return 0;\n  }\n\n  /**\n   * Converts the name of a key to its code\n   */\n  export function getKeyCode(keyName: any): string {\n    keyName = keyName + '';\n    switch (keyName.toLowerCase()) {\n      case 'space': case '\\x20': return P.core.SpecialKeys.Space;\n      case 'left arrow': case '\\x1C': return P.core.SpecialKeys.Left;\n      case 'up arrow': case '\\x1E': return P.core.SpecialKeys.Up;\n      case 'right arrow': case '\\x1D': return P.core.SpecialKeys.Right;\n      case 'down arrow': case '\\x1F': return P.core.SpecialKeys.Down;\n      case 'any': return 'any';\n      case '\\x0D': return P.core.SpecialKeys.Enter;\n      case '\\x1B': return P.core.SpecialKeys.Escape;\n      case '\\x09': return P.core.SpecialKeys.Tab;\n      case '\\x08': return P.core.SpecialKeys.Backspace;\n      case '\\x7F': return P.core.SpecialKeys.Delete;\n      case '': return P.core.SpecialKeys.Shift;\n    }\n    return '' + keyName.charCodeAt(0);\n  }\n\n  var getKeyCode3 = function(keyName: any): string {\n    switch (keyName.toLowerCase()) {\n      case 'space': case '\\x20': return P.core.SpecialKeys.Space;\n      case 'left arrow': return P.core.SpecialKeys.Left;\n      case 'up arrow': return P.core.SpecialKeys.Up;\n      case 'right arrow': return P.core.SpecialKeys.Right;\n      case 'down arrow': return P.core.SpecialKeys.Down;\n      case 'any': return 'any';\n      // Scratch 3 added support for 'enter'\n      case 'enter': return P.core.SpecialKeys.Enter;\n      // Incomplete parity with TurboWarp\n      case 'escape': return P.core.SpecialKeys.Escape;\n      case 'backspace': return P.core.SpecialKeys.Backspace;\n      case 'delete': return P.core.SpecialKeys.Delete;\n      case 'insert': return P.core.SpecialKeys.Insert;\n      case 'home': return P.core.SpecialKeys.Home;\n      case 'end': return P.core.SpecialKeys.End;\n      case 'page up': return P.core.SpecialKeys.PageUp;\n      case 'page down': return P.core.SpecialKeys.PageDown;\n      case 'control': return P.core.SpecialKeys.Control;\n      case 'shift': return P.core.SpecialKeys.Shift;\n    }\n    return '' + keyName.toLowerCase().charCodeAt(0);\n  };\n\n  // Load audio methods if audio is supported\n  const audioContext = P.audio.context;\n  if (audioContext) {\n    var playNote = function(key, duration) {\n      var span;\n      var spans = INSTRUMENTS[S.instrument];\n      for (var i = 0, l = spans.length; i < l; i++) {\n        span = spans[i];\n        if (span.top >= key || span.top === 128) break;\n      }\n      return playSpan(span, key, duration);\n    };\n\n    var playSpan = function(span, key, duration) {\n      const node = P.audio.playSpan(span, key, duration, S.getAudioNode());\n      return {\n        stopped: false,\n        node,\n        base: BASE,\n      };\n    };\n\n    var applySoundEffects = function(node: AudioBufferSourceNode) {\n      node.playbackRate.value = Math.pow(2, (S.soundFilters.pitch / 10 / 12));\n    };\n\n    var updateSoundEffectsOnAllSounds = function() {\n      for (const sound of S.activeSounds) {\n        if (sound.node) {\n          applySoundEffects(sound.node as AudioBufferSourceNode);\n        }\n      }\n    };\n\n    var playSound = function(sound: P.core.Sound): P.core.ActiveSound {\n      const node = sound.createSourceNode();\n      applySoundEffects(node);\n      node.connect(S.getAudioNode());\n      return {\n        stopped: false,\n        node,\n        base: BASE,\n      };\n    };\n\n    var startSound = function(sound: P.core.Sound) {\n      // todo: this is a hack, won't work with clones\n      // https://github.com/forkphorus/forkphorus/issues/298\n      for (const s of S.activeSounds) {\n        if (s.node === sound.source) {\n          s.stopped = true;\n          break;\n        }\n      }\n      const node = sound.createSourceNode();\n      applySoundEffects(node);\n      node.connect(S.getAudioNode());\n    };\n  }\n\n  var save = function() {\n    STACK.push(R);\n    R = {};\n  };\n\n  var restore = function() {\n    R = STACK.pop();\n  };\n\n  var call = function(procedure: P.core.Procedure, id, values) {\n    if (procedure) {\n      STACK.push(R);\n      CALLS.push(C);\n      C = {\n        base: procedure.fn,\n        fn: S.fns[id],\n        args: procedure.call(values),\n        numargs: [],\n        boolargs: [],\n        stack: STACK = [],\n        warp: procedure.warp,\n      };\n      R = {};\n      if (C.warp || WARP) {\n        WARP++;\n        IMMEDIATE = procedure.fn;\n      } else {\n        if (VISUAL) {\n          // Look through the call stack and determine if this procedure has already been called once.\n          // If so, we'll delay this thread until the next iteration instead of setting IMMEDIATE\n          // See https://scratch.mit.edu/projects/337681947/ for an example\n          // 5 is an arbitrary number that works good enough and limits the possible performance impact\n          for (var i = CALLS.length, j = 5; i-- && j--;) {\n            if (CALLS[i].base === procedure.fn) {\n              runtime.queue[THREAD] = {\n                sprite: S,\n                base: BASE,\n                fn: procedure.fn,\n                calls: CALLS,\n                warp: WARP,\n                stopped: false\n              };\n              return;\n            }\n          }\n        }\n        IMMEDIATE = procedure.fn;\n      }\n    } else {\n      IMMEDIATE = S.fns[id];\n    }\n  };\n\n  var endCall = function() {\n    if (CALLS.length) {\n      if (WARP) WARP--;\n      IMMEDIATE = C.fn;\n      C = CALLS.pop();\n      STACK = C.stack;\n      R = STACK.pop();\n    }\n  };\n\n  var cloudVariableChanged = function(name) {\n    if (self.cloudHandler) {\n      self.cloudHandler.variableChanged(name);\n    }\n  };\n\n  var parseColor = function(color: any): number {\n    return P.utils.parseColor(color);\n  };\n\n  var sceneChange = function() {\n    return runtime.trigger('whenSceneStarts', self.getCostumeName());\n  };\n\n  var broadcast = function(name) {\n    return runtime.trigger('whenIReceive', name);\n  };\n\n  var running = function(bases) {\n    for (var j = 0; j < runtime.queue.length; j++) {\n      if (runtime.queue[j] && bases.indexOf(runtime.queue[j]!.base) !== -1) return true;\n    }\n    return false;\n  };\n\n  var queue = function(id) {\n    if (WARP) {\n      IMMEDIATE = S.fns[id];\n    } else {\n      forceQueue(id);\n    }\n  };\n\n  var forceQueue = function(id) {\n    if (STOPPED) return;\n    runtime.queue[THREAD] = {\n      sprite: S,\n      base: BASE,\n      fn: S.fns[id],\n      calls: CALLS,\n      warp: WARP,\n      stopped: false\n    };\n  };\n\n  type ThreadResume = any;\n\n  interface ThreadCall {\n    fn?: Fn;\n    stack: ThreadResume[];\n    [s: string]: any;\n  }\n\n  interface Thread {\n    sprite: P.core.Base;\n    base: Fn;\n    fn?: Fn;\n    calls: ThreadCall[];\n    warp: number;\n    stopped: boolean;\n  }\n\n  export class Runtime {\n    public queue: Array<Thread | undefined> = [];\n    public isRunning: boolean = false;\n    public timerStart: number = 0;\n    public baseTime: number = 0;\n    public baseNow: number = 0;\n    public interval: number;\n    public isTurbo: boolean = false;\n    public framerate: number = 30;\n    public currentMSecs: number = 0;\n    public whenTimerMSecs: number = 0;\n\n    constructor(public stage: P.core.Stage) {\n      // Fix scoping\n      this.onError = this.onError.bind(this);\n      this.step = this.step.bind(this);\n    }\n\n    startThread(sprite: core.Base, base: Fn, replaceExisting: boolean) {\n      const thread: Thread = {\n        sprite: sprite,\n        base: base,\n        fn: base,\n        calls: [{\n          args: [],\n          stack: [{}],\n        }],\n        warp: 0,\n        stopped: false\n      };\n\n      // Find if this spread is already being executed.\n      for (let i = 0; i < this.queue.length; i++) {\n        const q = this.queue[i];\n        if (q && q.sprite === sprite && q.base === base) {\n          if (replaceExisting) {\n            this.queue[i] = thread;\n          }\n          return;\n        }\n      }\n\n      this.queue.push(thread);\n    }\n\n    /**\n     * Triggers an event for a single sprite.\n     */\n    triggerFor(sprite: P.core.Base, event: string, arg?: any): Fn[] {\n      let threads: Fn[];\n      let replaceExisting = true;\n      switch (event) {\n        case 'whenClicked': threads = sprite.listeners.whenClicked; break;\n        case 'whenCloned': threads = sprite.listeners.whenCloned; break;\n        case 'whenGreenFlag': threads = sprite.listeners.whenGreenFlag; break;\n        case 'whenKeyPressed':\n          replaceExisting = false;\n          threads = sprite.listeners.whenKeyPressed[arg] || [];\n          if (arg !== 'any') {\n            const anyThreads = sprite.listeners.whenKeyPressed.any;\n            if (anyThreads) {\n              threads = threads.concat(anyThreads);\n            }\n          }\n          break;\n        case 'whenSceneStarts': threads = sprite.listeners.whenSceneStarts[('' + arg).toLowerCase()]; break;\n        case 'whenIReceive':\n          arg = '' + arg;\n          // TODO: remove toLowerCase() check?\n          threads = sprite.listeners.whenIReceive[arg] || sprite.listeners.whenIReceive[arg.toLowerCase()];\n          break;\n        case 'edgeActivated': threads = sprite.listeners.edgeActivated; break;\n        default: throw new Error('Unknown trigger event: ' + event);\n      }\n      if (threads) {\n        for (let i = 0; i < threads.length; i++) {\n          this.startThread(sprite, threads[i], replaceExisting);\n        }\n      }\n      return threads || [];\n    }\n\n    /**\n     * Triggers an event on all sprites.\n     */\n    trigger(event: string, arg?: any) {\n      let threads: Fn[] = [];\n      for (let i = this.stage.children.length; i--;) {\n        threads = threads.concat(this.triggerFor(this.stage.children[i], event, arg));\n      }\n      return threads.concat(this.triggerFor(this.stage, event, arg));\n    }\n\n    /**\n     * Trigger's the project's green flag.\n     */\n    triggerGreenFlag() {\n      this.timerStart = this.now();\n      this.trigger('whenGreenFlag');\n      this.trigger('edgeActivated');\n    }\n\n    /**\n     * Begins the runtime's event loop.\n     * Does not start any scripts.\n     */\n    start() {\n      this.isRunning = true;\n      if (this.interval) return;\n      window.addEventListener('error', this.onError);\n      this.baseTime = Date.now();\n      this.interval = setInterval(this.step, 1000 / this.framerate);\n      if (audioContext) audioContext.resume();\n      this.stage.startExtensions();\n    }\n\n    /**\n     * Pauses the event loop\n     */\n    pause() {\n      if (this.interval) {\n        this.baseNow = this.now();\n        clearInterval(this.interval);\n        this.interval = 0;\n        window.removeEventListener('error', this.onError);\n        if (audioContext) audioContext.suspend();\n        this.stage.pauseExtensions();\n      }\n      this.isRunning = false;\n    }\n\n    /**\n     * Resets the interval loop without the effects of pausing/starting\n     */\n    resetInterval() {\n      if (!this.isRunning) {\n        throw new Error('Cannot restart interval when paused');\n      }\n      if (this.interval) {\n        clearInterval(this.interval);\n      }\n      this.interval = setInterval(this.step, 1000 / this.framerate);\n    }\n\n    /**\n     * Stops this runtime.\n     * - marks all threads as stopped, to let them finish running within this step before they get removed\n     * - removes all clones\n     * - resets filters, speech bubbles, sounds\n     * - Does *NOT* stop the event loop. Use pause() for that.\n     */\n    stopAll() {\n      this.stage.hidePrompt = false;\n      this.stage.prompter.style.display = 'none';\n      this.stage.promptId = this.stage.nextPromptId = 0;\n      for (var i = 0; i < this.queue.length; i++) {\n        const thread = this.queue[i];\n        if (thread) {\n          thread.stopped = true;\n        }\n      }\n      STOPPED = true;\n      this.stage.resetFilters();\n      this.stage.stopSounds();\n      for (var i = 0; i < this.stage.children.length; i++) {\n        const c = this.stage.children[i];\n        if (c.isClone) {\n          c.remove();\n          this.stage.children.splice(i, 1);\n          i -= 1;\n        } else {\n          c.resetFilters();\n          if (c.saying && P.core.isSprite(c)) c.say('');\n          c.stopSounds();\n        }\n      }\n    }\n\n    /**\n     * The current time in the project\n     */\n    now(): number {\n      return this.baseNow + Date.now() - this.baseTime;\n    }\n\n    resetTimer() {\n      this.timerStart = this.now();\n      this.whenTimerMSecs = 0;\n    }\n\n    evaluateExpression(sprite: P.core.Base, fn: () => any) {\n      // We will load a few runtime values for this.\n      // These are the values that are most commonly used in expressions, in addition the runtime methods.\n      self = this.stage;\n      runtime = this;\n      S = sprite;\n      try {\n        return fn();\n      } catch (e) {\n        return undefined;\n      }\n    }\n\n    /**\n     * Advances one frame into the future.\n     */\n    step() {\n      // Reset runtime variables\n      self = this.stage;\n      runtime = this;\n      VISUAL = false;\n\n      // TODO: instead of looping through all sprites, maintain a separate list of draggable sprites?\n      for (var i = 0; i < this.stage.children.length; i++) {\n        const c = this.stage.children[i];\n        if (c.isDragging) {\n          c.moveTo(c.dragOffsetX + c.stage.mouseX, c.dragOffsetY + c.stage.mouseY);\n        }\n      }\n\n      if (audioContext && audioContext.state === 'suspended') {\n        audioContext.resume();\n      }\n\n      const start = Date.now();\n      this.currentMSecs = this.whenTimerMSecs = this.now();\n      const queue = this.queue;\n      do {\n        for (THREAD = 0; THREAD < queue.length; THREAD++) {\n          const thread = queue[THREAD];\n          if (thread) {\n            // Load thread data\n            S = thread.sprite;\n            IMMEDIATE = thread.fn;\n            BASE = thread.base;\n            CALLS = thread.calls;\n            C = CALLS.pop();\n            STACK = C.stack;\n            R = STACK.pop();\n            WARP = thread.warp;\n            STOPPED = thread.stopped;\n            thread.stopped = true;\n\n            while (IMMEDIATE) {\n              const fn = IMMEDIATE;\n              IMMEDIATE = null;\n              fn();\n            }\n\n            STACK.push(R);\n            CALLS.push(C);\n          }\n        }\n\n        // Remove empty and stopped elements in the queue list\n        for (let i = queue.length; i--;) {\n          const thread = queue[i];\n          if (!thread || thread.stopped) {\n            queue.splice(i, 1);\n          }\n        }\n      } while ((this.isTurbo || !VISUAL) && Date.now() - start < 1000 / this.framerate && queue.length);\n\n      this.stage.updateExtensions();\n\n      this.stage.draw();\n    }\n\n    onError(e) {\n      clearInterval(this.interval);\n      this.handleError(e.error);\n    }\n\n    handleError(e) {\n      // Default error handler\n      console.error(e);\n    }\n  }\n\n  export function createContinuation(source: string): P.runtime.Fn {\n    // TODO: make understandable\n    var result = '(function() {\\n';\n    var brackets = 0;\n    var delBrackets = 0;\n    var shouldDelete = false;\n    var here = 0;\n    var length = source.length;\n    while (here < length) {\n      var i = source.indexOf('{', here);\n      var j = source.indexOf('}', here);\n      var k = source.indexOf('return;', here);\n      if (k === -1) k = length;\n      if (i === -1 && j === -1) {\n        if (!shouldDelete) {\n          result += source.slice(here, k);\n        }\n        break;\n      }\n      if (i === -1) i = length;\n      if (j === -1) j = length;\n      if (shouldDelete) {\n        if (i < j) {\n          delBrackets++;\n          here = i + 1;\n        } else {\n          delBrackets--;\n          if (!delBrackets) {\n            shouldDelete = false;\n          }\n          here = j + 1;\n        }\n      } else {\n        if (brackets === 0 && k < i && k < j) {\n          result += source.slice(here, k);\n          break;\n        }\n        if (i < j) {\n          result += source.slice(here, i + 1);\n          brackets++;\n          here = i + 1;\n        } else {\n          result += source.slice(here, j);\n          here = j + 1;\n          if (source.substr(j, 8) === '} else {') {\n            if (brackets > 0) {\n              result += '} else {';\n              here = j + 8;\n            } else {\n              shouldDelete = true;\n              delBrackets = 0;\n            }\n          } else {\n            if (brackets > 0) {\n              result += '}';\n              brackets--;\n            }\n          }\n        }\n      }\n    }\n    result += '})';\n    return scopedEval(result);\n  }\n\n  // Evaluate JavaScript within the scope of the runtime.\n  export function scopedEval(source: string): any {\n    return eval(source);\n  }\n}\n","/// <reference path=\"phosphorus.ts\" />\n/// <reference path=\"utils.ts\" />\n/// <reference path=\"core.ts\" />\n/// <reference path=\"fonts.ts\" />\n/// <reference path=\"config.ts\" />\n\nnamespace P.sb2 {\n  const ASSET_URL = 'https://cdn.assets.scratch.mit.edu/internalapi/asset/';\n\n  export class Scratch2VariableWatcher extends P.core.Watcher {\n    private cmd: string;\n    private type: string;\n    private color: string;\n    public isDiscrete: boolean;\n    private label: string;\n    private mode: number;\n    public param: string;\n    public sliderMax: number;\n    public sliderMin: number;\n\n    private el: HTMLElement;\n    private labelEl: HTMLElement;\n    private readout: HTMLElement;\n    public slider: HTMLElement;\n    public button: HTMLElement;\n    private buttonWrap: HTMLElement;\n\n    constructor(stage, targetName, data) {\n      super(stage, targetName);\n\n      this.cmd = data.cmd;\n      this.type = data.type || 'var';\n      if (data.color) {\n        var c = (data.color < 0 ? data.color + 0x1000000 : data.color).toString(16);\n        this.color = '#000000'.slice(0, -c.length) + c;\n      } else {\n        this.color = '#ee7d16';\n      }\n\n      this.isDiscrete = data.isDiscrete == null ? true : data.isDiscrete;\n      this.label = data.label || '';\n      this.mode = data.mode || 1;\n      this.param = data.param;\n      this.sliderMax = data.sliderMax == null ? 100 : data.sliderMax;\n      this.sliderMin = data.sliderMin || 0;\n      this.targetName = data.target;\n      this.visible = data.visible == null ? false : data.visible;\n      this.x = data.x || 0;\n      this.y = data.y || 0;\n    }\n\n    init() {\n      super.init();\n      if (this.target && this.cmd === 'getVar:') {\n        this.target.watchers[this.param] = this;\n      }\n      if (!this.label) {\n        this.label = this.getLabel();\n        if (this.target.isSprite) this.label = this.target.name + ': ' + this.label;\n      }\n      this.layout();\n    }\n\n    getLabel(): string {\n      var WATCHER_LABELS = {\n        'costumeIndex': 'costume #',\n        'xpos': 'x position',\n        'ypos': 'y position',\n        'heading': 'direction',\n        'scale': 'size',\n        'backgroundIndex': 'background #',\n        'sceneName': 'background name',\n        'tempo': 'tempo',\n        'volume': 'volume',\n        'answer': 'answer',\n        'timer': 'timer',\n        'soundLevel': 'loudness',\n        'isLoud': 'loud?',\n        'xScroll': 'x scroll',\n        'yScroll': 'y scroll'\n      };\n      switch (this.cmd) {\n        case 'getVar:': return this.param;\n        case 'sensor:': return this.param + ' sensor value';\n        case 'sensorPressed': return 'sensor ' + this.param + '?';\n        case 'timeAndDate': return this.param;\n        case 'senseVideoMotion': return 'video ' + this.param;\n      }\n      return WATCHER_LABELS[this.cmd] || '';\n    }\n\n    setVisible(visible: boolean) {\n      super.setVisible(visible);\n      this.layout();\n    }\n\n    update() {\n      var value: string | number = 0;\n      if (!this.target) return;\n      switch (this.cmd) {\n        case 'answer':\n          value = this.stage.answer;\n          break;\n        case 'backgroundIndex':\n          value = this.stage.currentCostumeIndex + 1;\n          break;\n        case 'costumeIndex':\n          value = this.target.currentCostumeIndex + 1;\n          break;\n        case 'getVar:':\n          value = this.target.vars[this.param];\n          break;\n        case 'heading':\n          value = (this.target as P.core.Sprite).direction;\n          break;\n        case 'scale':\n          if (this.target.isSprite) {\n            value = (this.target as P.core.Sprite).scale * 100;\n          }\n          break;\n        case 'sceneName':\n          value = this.stage.getCostumeName();\n          break;\n        case 'senseVideoMotion':\n          // TODO\n          break;\n        case 'soundLevel':\n          if (this.stage.microphone) {\n            value = this.stage.microphone.getLoudness();\n          } else {\n            value = -1;\n          }\n          break;\n        case 'tempo':\n          value = this.stage.tempoBPM;\n          break;\n        case 'timeAndDate':\n          value = this.timeAndDate(this.param);\n          break;\n        case 'timer':\n          value = Math.round((this.stage.runtime.now() - this.stage.runtime.timerStart) / 100) / 10;\n          break;\n        case 'volume':\n          value = this.target.volume * 100;\n          break;\n        case 'xpos':\n          value = this.target.scratchX;\n          break;\n        case 'ypos':\n          value = this.target.scratchY;\n          break;\n      }\n      if (typeof value === 'number' && (value < 0.001 || value > 0.001)) {\n        value = Math.round(value * 1000) / 1000;\n      }\n      this.readout.textContent = '' + value;\n      if (this.slider) {\n        this.buttonWrap.style.transform = 'translate('+((+value || 0) - this.sliderMin) / (this.sliderMax - this.sliderMin)*100+'%,0)';\n      }\n    }\n\n    timeAndDate(format: any): number {\n      switch (format) {\n        case 'year':\n          return new Date().getFullYear();\n        case 'month':\n          return new Date().getMonth() + 1;\n        case 'date':\n          return new Date().getDate();\n        case 'day of week':\n          return new Date().getDay() + 1;\n        case 'hour':\n          return new Date().getHours();\n        case 'minute':\n          return new Date().getMinutes();\n        case 'second':\n          return new Date().getSeconds();\n      }\n      return 0;\n    }\n\n    layout() {\n      if (this.el) {\n        this.el.style.display = this.visible ? 'block' : 'none';\n        return;\n      }\n      if (!this.visible) return;\n\n      this.el = document.createElement('div');\n      this.el.dataset.watcher = '' + this.stage.allWatchers.indexOf(this);\n      this.el.style.whiteSpace = 'pre';\n      this.el.style.position = 'absolute';\n      this.el.style.left = this.el.style.top = '0';\n      this.el.style.transform = 'translate('+(this.x|0)/10+'em,'+(this.y|0)/10+'em)';\n      this.el.style.cursor = 'default';\n\n      if (this.mode === 2) {\n        this.el.appendChild(this.readout = document.createElement('div'));\n        this.readout.style.minWidth = (38/15)+'em';\n        this.readout.style.font = 'bold 1.5em/'+(19/15)+' sans-serif';\n        this.readout.style.height = (19/15)+'em';\n        this.readout.style.borderRadius = (4/15)+'em';\n        this.readout.style.margin = (3/15)+'em 0 0 0';\n        this.readout.style.padding = '0 '+(3/10)+'em';\n      } else {\n        this.el.appendChild(this.labelEl = document.createElement('div'));\n        this.el.appendChild(this.readout = document.createElement('div'));\n\n        this.el.style.border = '.1em solid rgb(148,145,145)';\n        this.el.style.borderRadius = '.4em';\n        this.el.style.background = 'rgb(193,196,199)';\n        this.el.style.padding = '.2em .6em .3em .5em';\n\n        this.labelEl.textContent = this.label;\n        // this.labelEl.style.marginTop = (1/11)+'em';\n        this.labelEl.style.font = 'bold 1.1em/1 sans-serif';\n        this.labelEl.style.display = 'inline-block';\n\n        this.labelEl.style.verticalAlign =\n        this.readout.style.verticalAlign = 'middle';\n\n        this.readout.style.minWidth = (37/10)+'em';\n        this.readout.style.padding = '0 '+(1/10)+'em';\n        this.readout.style.font = 'bold 1.0em/'+(13/10)+' sans-serif';\n        this.readout.style.height = (13/10)+'em';\n        this.readout.style.borderRadius = (4/10)+'em';\n        this.readout.style.marginLeft = (6/10)+'em';\n      }\n      this.readout.style.color = '#fff';\n      var f = 1 / (this.mode === 2 ? 15 : 10);\n      this.readout.style.border = f+'em solid #fff';\n      this.readout.style.boxShadow = 'inset '+f+'em '+f+'em '+f+'em rgba(0,0,0,.5), inset -'+f+'em -'+f+'em '+f+'em rgba(255,255,255,.5)';\n      this.readout.style.textAlign = 'center';\n      this.readout.style.background = this.color;\n      this.readout.style.display = 'inline-block';\n\n      if (this.mode === 3) {\n        this.el.appendChild(this.slider = document.createElement('div'));\n        this.slider.appendChild(this.buttonWrap = document.createElement('div'));\n        this.buttonWrap.appendChild(this.button = document.createElement('div'));\n\n        this.slider.style.height =\n        this.slider.style.borderRadius = '.5em';\n        this.slider.style.background = 'rgb(192,192,192)';\n        this.slider.style.margin = '.4em 0 .1em';\n        this.slider.style.boxShadow = 'inset .125em .125em .125em rgba(0,0,0,.5), inset -.125em -.125em .125em rgba(255,255,255,.5)';\n        this.slider.style.position = 'relative';\n        this.slider.style.pointerEvents = 'auto';\n        this.slider.dataset.slider = '';\n\n        this.slider.style.paddingRight =\n        this.button.style.width =\n        this.button.style.height =\n        this.button.style.borderRadius = '1.1em';\n        this.button.style.position = 'absolute';\n        this.button.style.left = '0';\n        this.button.style.top = '-.3em';\n        this.button.style.background = '#fff';\n        this.button.style.boxShadow = 'inset .3em .3em .2em -.2em rgba(255,255,255,.9), inset -.3em -.3em .2em -.2em rgba(0,0,0,.9), inset 0 0 0 .1em #777';\n        this.button.dataset.button = '';\n      }\n\n      this.stage.ui.appendChild(this.el);\n    }\n  }\n\n  export class Scratch2Stage extends P.core.Stage {\n    // Used to tell the compiler what scripts this sprite uses.\n    // TODO: should the compiler delete after use?\n    public scripts: any;\n\n    private dragging: any = {};\n    private defaultWatcherX = 10;\n    private defaultWatcherY = 10;\n\n    createVariableWatcher(target: P.core.Base, variableName: string) {\n      const x = this.defaultWatcherX;\n      const y = this.defaultWatcherY;\n\n      this.defaultWatcherY += 26;\n      if (this.defaultWatcherY >= 450) {\n        this.defaultWatcherY = 10;\n        this.defaultWatcherX += 150;\n      }\n\n      return new P.sb2.Scratch2VariableWatcher(this, target.name, {\n        cmd: 'getVar:',\n        param: variableName,\n        x,\n        y,\n      });\n    }\n\n    say(text: string, thinking?: boolean) {\n      // Stage cannot say things in Scratch 2.\n      return ++this.sayId;\n    }\n\n    updateBubble() {\n      // Stage cannot say things in Scratch 2.\n    }\n\n    watcherStart(id, t, e) {\n      var p = e.target;\n      while (p && p.dataset.watcher == null) p = p.parentElement;\n      if (!p) return;\n      var w = this.allWatchers[p.dataset.watcher] as P.sb2.Scratch2VariableWatcher;\n      this.dragging[id] = {\n        watcher: w,\n        offset: (e.target.dataset.button == null ? -w.button.offsetWidth / 2 | 0 : w.button.getBoundingClientRect().left - t.clientX) - w.slider.getBoundingClientRect().left\n      };\n    }\n    watcherMove(id, t, e) {\n      var d = this.dragging[id];\n      if (!d) return;\n      var w = d.watcher as P.sb2.Scratch2VariableWatcher;\n      var sw = w.slider.offsetWidth;\n      var bw = w.button.offsetWidth;\n      var value = w.sliderMin + Math.max(0, Math.min(1, (t.clientX + d.offset) / (sw - bw))) * (w.sliderMax - w.sliderMin);\n      w.target.vars[w.param] = w.isDiscrete ? Math.round(value) : Math.round(value * 100) / 100;\n      w.update();\n      e.preventDefault();\n    }\n    watcherEnd(id, t, e) {\n      this.watcherMove(id, t, e);\n      delete this.dragging[id];\n    }\n\n    ontouch(event: TouchEvent, touch: Touch) {\n      const target = event.target as HTMLElement;\n      if (target.dataset.button != null || target.dataset.slider != null) {\n        this.watcherStart(touch.identifier, touch, event);\n      }\n    }\n    onmousedown(e: MouseEvent) {\n      const target = e.target as HTMLElement;\n      if (target.dataset.button != null || target.dataset.slider != null) {\n        this.watcherStart('mouse', e, e);\n      }\n    }\n    onmousemove(e: MouseEvent) {\n      this.watcherMove('mouse', e, e);\n    }\n    onmouseup(e: MouseEvent) {\n      this.watcherEnd('mouse', e, e);\n    }\n  }\n\n  export class Scratch2Sprite extends P.core.Sprite {\n    public scripts: any;\n\n    _clone() {\n      return new Scratch2Sprite(this.stage);\n    }\n  }\n\n  type SB2Base = any;\n  type SB2Project = any;\n  type SB2Costume = any;\n  type SB2Sound = any;\n\n  export abstract class BaseSB2Loader extends P.io.Loader<P.core.Stage> {\n    protected projectData: SB2Project;\n\n    loadImage(url: string): Promise<HTMLImageElement> {\n      return this.addTask(new P.io.Img(url)).load();\n    }\n\n    loadFonts(): Promise<void> {\n      return Promise.all([\n        this.addTask(new P.io.PromiseTask((P.utils.settled(P.fonts.loadWebFont('Donegal One'))))),\n        this.addTask(new P.io.PromiseTask((P.utils.settled(P.fonts.loadWebFont('Gloria Hallelujah'))))),\n        this.addTask(new P.io.PromiseTask((P.utils.settled(P.fonts.loadWebFont('Mystery Quest'))))),\n        this.addTask(new P.io.PromiseTask((P.utils.settled(P.fonts.loadWebFont('Permanent Marker'))))),\n      ]).then(() => undefined);\n    }\n\n    loadBase(data: any, isStage: boolean) {\n      var costumes;\n      var sounds;\n\n      return Promise.all([\n        this.loadArray(data.costumes, this.loadCostume.bind(this)).then((c) => costumes = c),\n        this.loadArray(data.sounds, this.loadSound.bind(this)).then((s) => sounds = s),\n      ]).then(() => {\n        // Dirty hack to construct a target with a null stage\n        const object = new (isStage ? Scratch2Stage : Scratch2Sprite)(null!);\n\n        if (data.variables) {\n          for (const variable of data.variables) {\n            if (variable.isPersistent) {\n              if (object.isStage) {\n                (object as Scratch2Stage).cloudVariables.push(variable.name);\n              } else {\n                console.warn('Cloud variable found on a non-stage object. Skipping.');\n              }\n            }\n            object.vars[variable.name] = variable.value;\n          }\n        }\n\n        if (data.lists) {\n          for (const list of data.lists) {\n            if (list.isPersistent) {\n              console.warn('Cloud lists are not supported');\n            }\n            object.lists[list.listName] = list.contents;\n          }\n        }\n\n        object.name = data.objName;\n        object.costumes = costumes;\n        object.currentCostumeIndex = Math.floor(data.currentCostumeIndex);\n        sounds.forEach((sound) => sound && object.addSound(sound));\n\n        if (isStage) {\n\n        } else {\n          const sprite = object as Scratch2Sprite;\n          sprite.scratchX = data.scratchX;\n          sprite.scratchY = data.scratchY;\n          sprite.direction = data.direction;\n          sprite.isDraggable = data.isDraggable;\n          sprite.rotationStyle = P.utils.parseRotationStyle(data.rotationStyle);\n          sprite.scale = data.scale;\n          sprite.visible = data.visible;\n        }\n\n        // Store the scripts on the Sprite so the compiler can access them\n        object.scripts = data.scripts || [];\n\n        return object;\n      });\n    }\n\n    loadArray(data: any[], process: any) {\n      return Promise.all((data || []).map((i, ind) => process(i, ind)));\n    }\n\n    loadObject(data: SB2Base) {\n      if (data.cmd) {\n        return this.loadVariableWatcher(data);\n      } else if (data.listName) {\n        // TODO: list watcher\n      } else {\n        return this.loadBase(data, false);\n      }\n    }\n\n    loadVariableWatcher(data: SB2Base) {\n      const targetName = data.target;\n      const watcher = new Scratch2VariableWatcher(null, targetName, data);\n      return watcher;\n    }\n\n    loadCostume(data: SB2Costume) {\n      const promises = [\n        this.loadMD5(data.baseLayerMD5, data.baseLayerID)\n          .then((asset) => data.$image = asset)\n      ];\n      if (data.textLayerMD5) {\n        promises.push(this.loadMD5(data.textLayerMD5, data.textLayerID)\n          .then((asset) => data.$text = asset));\n      }\n      return Promise.all(promises)\n        .then((layers: any[]) => {\n          var image;\n          if (layers.length > 1) {\n            image = document.createElement('canvas');\n            const ctx = image.getContext('2d');\n            if (!ctx) {\n              throw new Error('Cannot get 2d rendering context loading costume ' + data.costumeName);\n            }\n            image.width = Math.max(layers[0].width, 1);\n            image.height = Math.max(layers[0].height, 1);\n            for (const layer of layers) {\n              ctx.drawImage(layer, 0, 0);\n            }\n          } else {\n            image = layers[0];\n          }\n\n          return new P.core.BitmapCostume(image, {\n            name: data.costumeName,\n            bitmapResolution: data.bitmapResolution,\n            rotationCenterX: data.rotationCenterX,\n            rotationCenterY: data.rotationCenterY,\n          });\n        });\n    }\n\n    loadSound(data: SB2Sound): Promise<P.core.Sound | null> {\n      return new Promise((resolve, reject) => {\n        this.loadMD5(data.md5, data.soundID, true)\n          .then((buffer) => {\n            resolve(new P.core.Sound({\n              name: data.soundName,\n              buffer,\n            }));\n          })\n          .catch((err) => {\n            resolve(null);\n            console.warn('Could not load sound: ' + err);\n          });\n      });\n    }\n\n    loadSVG(source: string): Promise<HTMLCanvasElement | HTMLImageElement> {\n      const parser = new DOMParser();\n      var doc = parser.parseFromString(source, 'image/svg+xml');\n      var svg = doc.documentElement as any;\n      if (!svg.style) {\n        doc = parser.parseFromString('<body>' + source, 'text/html');\n        svg = doc.querySelector('svg');\n      }\n      DOMPurify.sanitize(svg, {\n        IN_PLACE: true,\n        USE_PROFILES: { svg: true }\n      });\n      svg.style.visibility = 'hidden';\n      svg.style.position = 'absolute';\n      svg.style.left = '-10000px';\n      svg.style.top = '-10000px';\n      document.body.appendChild(svg);\n      const viewBox = svg.viewBox.baseVal;\n      if (viewBox && (viewBox.x || viewBox.y)) {\n        svg.width.baseVal.value = viewBox.width - viewBox.x;\n        svg.height.baseVal.value = viewBox.height - viewBox.y;\n        viewBox.x = 0;\n        viewBox.y = 0;\n        viewBox.width = 0;\n        viewBox.height = 0;\n      }\n      patchSVG(svg, svg);\n      document.body.removeChild(svg);\n      svg.style.visibility = svg.style.position = svg.style.left = svg.style.top = '';\n\n      const canvas = document.createElement('canvas');\n      const ctx = canvas.getContext('2d');\n      if (!ctx) {\n        throw new Error('unable to get rendering context for drawing svg');\n      }\n      return canvg.Canvg.from(ctx, new XMLSerializer().serializeToString(svg), {\n        ignoreMouse: true,\n        ignoreAnimation: true,\n        ignoreClear: true,\n      })\n        .then((v) => {\n          return v.render();\n        }).then(() => {\n          return canvas;\n        });\n    }\n\n    abstract loadMD5(hash: string, id: string, isAudio?: true): Promise<AudioBuffer>;\n    abstract loadMD5(hash: string, id: string, isAudio?: false): Promise<HTMLImageElement | HTMLCanvasElement | null>;\n    abstract loadMD5(hash: string, id: string, isAudio?: boolean): Promise<HTMLImageElement | HTMLCanvasElement | AudioBuffer | null>;\n\n    load() {\n      var children: any[];\n      var stage: P.core.Stage;\n\n      return this.loadFonts()\n        .then(() => Promise.all<any>([\n          P.audio.loadSoundbankSB2(this),\n          this.loadArray(this.projectData.children, this.loadObject.bind(this)).then((c) => children = c),\n          this.loadBase(this.projectData, true).then((s) => stage = s as P.core.Stage),\n        ]))\n        .then(() => {\n          if (this.aborted) {\n            throw new Error('Loading aborting.');\n          }\n\n          children = children.filter((i) => i);\n          children.forEach((c) => c.stage = stage);\n          const sprites: Scratch2Sprite[] = children.filter((i) => i instanceof Scratch2Sprite);\n          const watchers: Scratch2VariableWatcher[] = children.filter((i) => i instanceof Scratch2VariableWatcher);\n\n          stage.children = sprites;\n          stage.allWatchers = watchers;\n          stage.allWatchers.forEach((w) => w.init());\n\n          P.sb2.compiler.compile(stage);\n          return stage;\n        });\n    }\n  }\n\n  export class SB2FileLoader extends BaseSB2Loader {\n    private buffer: ArrayBuffer;\n    private zip: JSZip;\n\n    constructor(buffer: ArrayBuffer) {\n      super();\n      this.buffer = buffer;\n    }\n\n    loadMD5(hash: string, id: string, isAudio?: true): Promise<AudioBuffer>;\n    loadMD5(hash: string, id: string, isAudio?: false): Promise<HTMLImageElement | HTMLCanvasElement | null>;\n    loadMD5(hash: string, id: string, isAudio: boolean = false): Promise<HTMLImageElement | HTMLCanvasElement | AudioBuffer | null> {\n      const f = isAudio ? (this.zip.file(id + '.wav') || this.zip.file(id + '.mp3')) : this.zip.file(id + '.gif') || (this.zip.file(id + '.png') || this.zip.file(id + '.jpg') || this.zip.file(id + '.svg'));\n      if (!f) {\n        throw new Error('cannot find md5: ' + hash + ' (isAudio=' + isAudio + ')');\n      }\n      hash = f.name;\n\n      if (isAudio) {\n        return f.async('arraybuffer')\n          .then((buffer) => P.audio.decodeAudio(buffer));\n      }\n\n      const ext = hash.split('.').pop();\n      if (ext === 'svg') {\n        return f.async('text')\n          .then((text) => this.loadSVG(text));\n      } else {\n        return new Promise((resolve, reject) => {\n          var image = new Image();\n          image.onload = function() {\n            resolve(image);\n          };\n          image.onerror = function() {\n            reject(new Error('Failed to load image: ' + hash + '/' + id));\n          };\n          f.async('binarystring')\n            .then((data: string) => {\n              image.src = 'data:image/' + (ext === 'jpg' ? 'jpeg' : ext) + ';base64,' + btoa(data);\n            });\n        });\n      }\n    }\n\n    load() {\n      return JSZip.loadAsync(this.buffer)\n        .then((data) => {\n          this.zip = data;\n          const project = this.zip.file('project.json');\n          if (!project) {\n            throw new Error('project.json is missing');\n          }\n          return project.async('text');\n        })\n        .then((project) => {\n          this.projectData = P.json.parse(project);\n        })\n        .then(() => super.load());\n    }\n  }\n\n  export class Scratch2Loader extends BaseSB2Loader {\n    private projectId: number | null;\n\n    constructor(idOrData: number | SB2Project) {\n      super();\n      if (typeof idOrData === 'object') {\n        this.projectData = idOrData;\n        this.projectId = null;\n      } else {\n        this.projectId = idOrData;\n      }\n    }\n\n    loadMD5(hash: string, id: string, isAudio?: true): Promise<AudioBuffer>;\n    loadMD5(hash: string, id: string, isAudio?: false): Promise<HTMLImageElement | HTMLCanvasElement | null>;\n    loadMD5(hash: string, id: string, isAudio: boolean = false): Promise<HTMLImageElement | HTMLCanvasElement | AudioBuffer | null> {\n      const ext = hash.split('.').pop();\n\n      if (ext === 'svg') {\n        return this.addTask(new P.io.Request(ASSET_URL + hash + '/get/')).load('text')\n          .then((text) => this.loadSVG(text));\n      } else if (ext === 'wav') {\n        return this.addTask(new P.io.Request(ASSET_URL + hash + '/get/')).load('arraybuffer')\n          .then((buffer) => P.audio.decodeAudio(buffer));\n      } else {\n        return this.loadImage(ASSET_URL + hash + '/get/');\n      }\n    }\n\n    load() {\n      if (this.projectId) {\n        return this.addTask(new P.io.Request(P.config.PROJECT_API.replace('$id', '' + this.projectId))).load('json')\n          .then((data) => {\n            this.projectData = data;\n            return super.load();\n          });\n      } else {\n        return super.load();\n      }\n    }\n  }\n\n  function patchSVG(svg, element) {\n    const FONTS: ObjectMap<string> = {\n      '': 'Helvetica',\n      Donegal: 'Donegal One',\n      Gloria: 'Gloria Hallelujah',\n      Marker: 'Permanent Marker',\n      Mystery: 'Mystery Quest'\n    };\n\n    const LINE_HEIGHTS: ObjectMap<number> = {\n      Helvetica: 1.13,\n      'Donegal One': 1.25,\n      'Gloria Hallelujah': 1.97,\n      'Permanent Marker': 1.43,\n      'Mystery Quest': 1.37\n    };\n\n    if (element.nodeType !== 1) return;\n    if (element.nodeName === 'text') {\n      // Correct fonts\n      var font = element.getAttribute('font-family') || '';\n      font = FONTS[font] || font;\n      if (font) {\n        element.setAttribute('font-family', font);\n        if (font === 'Helvetica') element.style.fontWeight = 'bold';\n      }\n      var size = +element.getAttribute('font-size');\n      if (!size) {\n        element.setAttribute('font-size', size = 18);\n      }\n      var bb = element.getBBox();\n      var transform = element.transform.baseVal.consolidate();\n      if (transform) {\n        var x = 4 - .6 * transform.matrix.a;\n        var y = (element.getAttribute('y') - bb.y) * 1.1;\n        element.setAttribute('x', x);\n        element.setAttribute('y', y);\n        var lines = element.textContent.split('\\n');\n        if (lines.length > 1) {\n          element.textContent = lines[0];\n          var lineHeight = LINE_HEIGHTS[font] || 1;\n          for (var i = 1, l = lines.length; i < l; i++) {\n            var tspan = document.createElementNS(null, 'tspan');\n            tspan.textContent = lines[i];\n            tspan.setAttribute('x', '' + x);\n            tspan.setAttribute('y', '' + (y + size * i * lineHeight));\n            element.appendChild(tspan);\n          }\n        }\n      }\n    } else if ((element.hasAttribute('x') || element.hasAttribute('y')) && element.hasAttribute('transform')) {\n      element.setAttribute('x', 0);\n      element.setAttribute('y', 0);\n    }\n    [].forEach.call(element.childNodes, patchSVG.bind(null, svg));\n  }\n}\n\n// Compiler for .sb2 projects\nnamespace P.sb2.compiler {\n  const CLOUD = ' ';\n\n  var LOG_PRIMITIVES;\n\n  // Implements a Scratch 2 procedure.\n  // Scratch 2 argument references just go by index, so its very simple.\n  export class Scratch2Procedure extends P.core.Procedure {\n    call(inputs) {\n      return inputs;\n    }\n  }\n\n  var EVENT_SELECTORS = [\n    'procDef',\n    'whenClicked',\n    'whenCloned',\n    'whenGreenFlag',\n    'whenIReceive',\n    'whenKeyPressed',\n    'whenSceneStarts',\n    'whenSensorGreaterThan' // TODO\n  ];\n\n  var compileScripts = function(object) {\n    for (var i = 0; i < object.scripts.length; i++) {\n      compileListener(object, object.scripts[i][2]);\n    }\n  };\n\n  var warnings;\n  var warn = function(message) {\n    warnings[message] = (warnings[message] || 0) + 1;\n  };\n\n  export var compileListener = function(object: P.core.Base, script) {\n    if (!script[0] || EVENT_SELECTORS.indexOf(script[0][0]) === -1) return;\n\n    var nextLabel = function() {\n      return object.fns.length + fns.length;\n    };\n\n    var label = function() {\n      var id = nextLabel();\n      fns.push(source.length);\n      visual = 0;\n      return id;\n    };\n\n    var delay = function() {\n      source += 'return;\\n';\n      label();\n    };\n\n    var queue = function(id) {\n      source += 'queue(' + id + ');\\n';\n      source += 'return;\\n';\n    };\n\n    var forceQueue = function(id) {\n      source += 'forceQueue(' + id + ');\\n';\n      source += 'return;\\n';\n    };\n\n    var seq = function(script) {\n      if (!script) return;\n      for (var i = 0; i < script.length; i++) {\n        compile(script[i]);\n      }\n    };\n\n    var varRef = function(name) {\n      if (typeof name !== 'string') {\n        return 'getVars(' + val(name) + ')[' + val(name) + ']';\n      }\n      var o = object.stage.vars[name] !== undefined ? 'self' : 'S';\n      return o + '.vars[' + val(name) + ']';\n    };\n\n    var isCloudVar = function(name) {\n      if (typeof name !== 'string') {\n        // a dynamic variable could be a cloud variable, but we will ignore this.\n        return false;\n      }\n      return name.startsWith(CLOUD) && object.stage.vars[name] !== undefined && object.stage.cloudVariables.indexOf(name) > -1;\n    };\n\n    var listRef = function(name) {\n      if (typeof name !== 'string') {\n        return 'getLists(' + val(name) + ')[' + val(name) + ']';\n      }\n      var o = object.stage.lists[name] !== undefined ? 'self' : 'S';\n      if (o === 'S' && !object.lists[name]) {\n        object.lists[name] = [];\n      }\n      return o + '.lists[' + val(name) + ']';\n    };\n\n    var param = function(name, usenum, usebool) {\n      if (typeof name !== 'string') {\n        throw new Error('Dynamic parameters are not supported');\n      }\n\n      if (!inputs) return '0';\n\n      var i = inputs.indexOf(name);\n      if (i === -1) {\n        return '0';\n      }\n\n      var t = types[i];\n      var kind =\n        t === '%n' || t === '%d' || t === '%c' ? 'num' :\n        t === '%b' ? 'bool' : '';\n\n      if (kind === 'num' && usenum) {\n        used[i] = true;\n        return 'C.numargs[' + i + ']';\n      }\n      if (kind === 'bool' && usebool) {\n        used[i] = true;\n        return 'C.boolargs[' + i + ']';\n      }\n\n      var v = 'C.args[' + i + ']';\n      if (usenum) return '(+' + v + ' || 0)';\n      if (usebool) return 'bool(' + v + ')';\n      return v;\n    };\n\n    var val2 = function(e) {\n      var v;\n      if (e[0] === 'costumeName') {\n\n        return 'S.getCostumeName()';\n\n      } else if (e[0] === 'sceneName') {\n\n        return 'self.getCostumeName()';\n\n      } else if (e[0] === 'readVariable') {\n\n        return varRef(e[1]);\n\n      } else if (e[0] === 'contentsOfList:') {\n\n        return 'contentsOfList(' + listRef(e[1]) + ')';\n\n      } else if (e[0] === 'getLine:ofList:') {\n\n        return 'getLineOfList(' + listRef(e[2]) + ', ' + val(e[1]) + ')';\n\n      } else if (e[0] === 'concatenate:with:') {\n\n        return '(\"\" + ' + val(e[1]) + ' + ' + val(e[2]) + ')';\n\n      } else if (e[0] === 'letter:of:') {\n\n        return '((\"\" + ' + val(e[2]) + ')[(' + num(e[1]) + ' | 0) - 1] || \"\")';\n\n      } else if (e[0] === 'answer') { /* Sensing */\n\n        return 'self.answer';\n\n      } else if (e[0] === 'getAttribute:of:') {\n\n        return 'attribute(' + val(e[1]) + ', ' + val(e[2]) + ')';\n\n      } else if (e[0] === 'getUserId') {\n\n        return '0';\n\n      } else if (e[0] === 'getUserName') {\n\n        return 'self.username';\n\n      } else {\n\n        warn('Undefined val: ' + e[0]);\n\n      }\n    };\n\n    var val = function(e, usenum?, usebool?) {\n      var v;\n\n      if (typeof e === 'number' || typeof e === 'boolean' || e === null) {\n\n        return '' + e;\n\n      } else if (typeof e === 'string') {\n\n        return '\"' + e\n          .replace(/\\\\/g, '\\\\\\\\')\n          .replace(/\\n/g, '\\\\n')\n          .replace(/\\r/g, '\\\\r')\n          .replace(/\"/g, '\\\\\"')\n          .replace(/\\{/g, '\\\\x7b')\n          .replace(/\\}/g, '\\\\x7d') + '\"';\n\n      } else if (e[0] === 'getParam') {\n\n        return param(e[1], usenum, usebool);\n\n      } else if ((v = numval(e)) != null || (v = boolval(e)) != null) {\n\n        return v;\n\n      } else {\n\n        v = val2(e);\n        if (usenum) return '(+' + v + ' || 0)';\n        if (usebool) return 'bool(' + v + ')';\n        return v;\n\n      }\n    };\n\n    var numval = function(e) {\n\n      if (e[0] === 'xpos') { /* Motion */\n\n        return 'S.scratchX';\n\n      } else if (e[0] === 'ypos') {\n\n        return 'S.scratchY';\n\n      } else if (e[0] === 'heading') {\n\n        return 'S.direction';\n\n      } else if (e[0] === 'costumeIndex') { /* Looks */\n\n        return '(S.currentCostumeIndex + 1)';\n\n      } else if (e[0] === 'backgroundIndex') {\n\n        return '(self.currentCostumeIndex + 1)';\n\n      } else if (e[0] === 'scale') {\n\n        return 'Math.round(S.scale * 100)';\n\n      } else if (e[0] === 'volume') { /* Sound */\n\n        return '(S.volume * 100)';\n\n      } else if (e[0] === 'tempo') {\n\n        return 'self.tempoBPM';\n\n      } else if (e[0] === 'lineCountOfList:') { /* Data */\n\n        return listRef(e[1]) + '.length';\n\n      } else if (e[0] === '+') { /* Operators */\n\n        return '(' + num(e[1]) + ' + ' + num(e[2]) + ')';\n\n      } else if (e[0] === '-') {\n\n        return '(' + num(e[1]) + ' - ' + num(e[2]) + ')';\n\n      } else if (e[0] === '*') {\n\n        return '(' + num(e[1]) + ' * ' + num(e[2]) + ')';\n\n      } else if (e[0] === '/') {\n\n        return '(' + num(e[1]) + ' / ' + num(e[2]) + ')';\n\n      } else if (e[0] === 'randomFrom:to:') {\n\n        return 'random(' + num(e[1]) + ', ' + num(e[2]) + ')';\n\n      } else if (e[0] === 'abs') {\n\n        return 'Math.abs(' + num(e[1]) + ')';\n\n      } else if (e[0] === 'sqrt') {\n\n        return 'Math.sqrt(' + num(e[1]) + ')';\n\n      } else if (e[0] === 'stringLength:') {\n\n        return '(\"\" + ' + val(e[1]) + ').length';\n\n      } else if (e[0] === '%' || e[0] === '\\\\\\\\') {\n\n        return 'mod(' + num(e[1]) + ', ' + num(e[2]) + ')';\n\n      } else if (e[0] === 'rounded') {\n\n        return 'Math.round(' + num(e[1]) + ')';\n\n      } else if (e[0] === 'computeFunction:of:') {\n\n        if (typeof e[1] !== 'object') {\n          switch ('' + e[1]) {\n            case 'abs':\n              return 'Math.abs(' + num(e[2]) + ')';\n            case 'floor':\n              return 'Math.floor(' + num(e[2]) + ')';\n            case 'sqrt':\n              return 'Math.sqrt(' + num(e[2]) + ')';\n            case 'ceiling':\n              return 'Math.ceil(' + num(e[2]) + ')';\n            case 'cos':\n              return 'Math.cos(' + num(e[2]) + ' * Math.PI / 180)';\n            case 'sin':\n              return 'Math.sin(' + num(e[2]) + ' * Math.PI / 180)';\n            case 'tan':\n              return 'Math.tan(' + num(e[2]) + ' * Math.PI / 180)';\n            case 'asin':\n              return '(Math.asin(' + num(e[2]) + ') * 180 / Math.PI)';\n            case 'acos':\n              return '(Math.acos(' + num(e[2]) + ') * 180 / Math.PI)';\n            case 'atan':\n              return '(Math.atan(' + num(e[2]) + ') * 180 / Math.PI)';\n            case 'ln':\n              return 'Math.log(' + num(e[2]) + ')';\n            case 'log':\n              return '(Math.log(' + num(e[2]) + ') / Math.LN10)';\n            case 'e ^':\n              return 'Math.exp(' + num(e[2]) + ')';\n            case '10 ^':\n              return 'Math.exp(' + num(e[2]) + ' * Math.LN10)';\n          }\n          return '0';\n        }\n        return 'mathFunc(' + val(e[1]) + ', ' + num(e[2]) + ')';\n\n      } else if (e[0] === 'mouseX') { /* Sensing */\n\n        return 'self.mouseX';\n\n      } else if (e[0] === 'mouseY') {\n\n        return 'self.mouseY';\n\n      } else if (e[0] === 'timer') {\n\n        return '((runtime.now() - runtime.timerStart) / 1000)';\n\n      } else if (e[0] === 'distanceTo:') {\n\n        return 'S.distanceTo(' + val(e[1]) + ')';\n\n      } else if (e[0] === 'soundLevel') {\n\n        object.stage.initMicrophone();\n        return 'self.microphone.getLoudness()';\n\n      } else if (e[0] === 'timestamp') {\n\n        return '((Date.now() - epoch) / 86400000)';\n\n      } else if (e[0] === 'timeAndDate') {\n\n        return 'timeAndDate(' + val(e[1]) + ')';\n\n      // } else if (e[0] === 'sensor:') {\n\n      }\n    };\n\n    var DIGIT = /\\d/;\n    var boolval = function(e) {\n\n      if (e[0] === 'list:contains:') { /* Data */\n\n        return 'listContains(' + listRef(e[1]) + ', ' + val(e[2]) + ')';\n\n      } else if (e[0] === '<' || e[0] === '>') { /* Operators */\n\n        var less: boolean;\n        let x;\n        let y;\n\n        if (typeof e[1] === 'string' && DIGIT.test(e[1]) || typeof e[1] === 'number') {\n          less = e[0] === '<';\n          x = e[1];\n          y = e[2];\n        } else if (typeof e[2] === 'string' && DIGIT.test(e[2]) || typeof e[2] === 'number') {\n          less = e[0] === '>';\n          x = e[2];\n          y = e[1];\n        }\n        var nx = +x;\n        if (x == null || nx !== nx) {\n          return '(compare(' + val(e[1]) + ', ' + val(e[2]) + ') === ' + (e[0] === '<' ? -1 : 1) + ')';\n        }\n        return (less! ? 'numLess' : 'numGreater') + '(' + nx + ', ' + val(y) + ')';\n\n      } else if (e[0] === '=') {\n\n        let x;\n        let y;\n        if (typeof e[1] === 'string' && DIGIT.test(e[1]) || typeof e[1] === 'number') {\n          x = e[1];\n          y = e[2];\n        } else if (typeof e[2] === 'string' && DIGIT.test(e[2]) || typeof e[2] === 'number') {\n          x = e[2];\n          y = e[1];\n        }\n        var nx = +x;\n        if (x == null || nx !== nx) {\n          return '(equal(' + val(e[1]) + ', ' + val(e[2]) + '))';\n        }\n        return '(numEqual(' + nx + ', ' + val(y) + '))';\n\n      } else if (e[0] === '&') {\n\n        return '(' + bool(e[1]) + ' && ' + bool(e[2]) + ')';\n\n      } else if (e[0] === '|') {\n\n        return '(' + bool(e[1]) + ' || ' + bool(e[2]) + ')';\n\n      } else if (e[0] === 'not') {\n\n        return '!' + bool(e[1]) + '';\n\n      } else if (e[0] === 'mousePressed') { /* Sensing */\n\n        return 'self.mousePressed';\n\n      } else if (e[0] === 'touching:') {\n\n        return 'S.touching(' + val(e[1]) + ')';\n\n      } else if (e[0] === 'touchingColor:') {\n\n        return 'S.touchingColor(' + val(e[1]) + ')';\n\n      } else if (e[0] === 'color:sees:') {\n\n        return 'S.colorTouchingColor(' + val(e[1]) + ', ' + val(e[2]) + ')';\n\n      } else if (e[0] === 'keyPressed:') {\n\n        var v = typeof e[1] === 'object' ?\n          'getKeyCode(' + val(e[1]) + ')' : val(P.runtime.getKeyCode(e[1]));\n        return '!!self.keys[' + v + ']';\n\n      // } else if (e[0] === 'isLoud') {\n\n      // } else if (e[0] === 'sensorPressed:') {\n\n      }\n    };\n\n    var bool = function(e) {\n      if (typeof e === 'boolean') {\n        return e;\n      }\n      if (typeof e === 'number' || typeof e === 'string') {\n        return +e !== 0 && e !== '' && e !== 'false';\n      }\n      var v = boolval(e);\n      return v != null ? v : val(e, false, true);\n    };\n\n    var num = function(e) {\n      if (typeof e === 'number') {\n        return e || 0;\n      }\n      if (typeof e === 'boolean' || typeof e === 'string') {\n        return +e || 0;\n      }\n      var v = numval(e);\n      return v != null ? v : val(e, true);\n    };\n\n    var beatHead = function(dur) {\n      source += 'save();\\n';\n      source += 'R.start = runtime.now();\\n';\n      source += 'R.duration = ' + num(dur) + ' * 60 / self.tempoBPM;\\n';\n      source += 'var first = !WARP;\\n';\n    };\n\n    var beatTail = function() {\n      var id = label();\n      source += 'if (!R.sound) R.sound = { stopped: false };';\n      source += 'S.activeSounds.add(R.sound);\\n'\n      source += 'if ((runtime.now() - R.start < R.duration * 1000 || first) && !R.sound.stopped) {\\n';\n      source += '  var first;\\n';\n      forceQueue(id);\n      source += '}\\n';\n      source += 'S.activeSounds.delete(R.sound);';\n      source += 'restore();\\n';\n    };\n\n    var wait = function(dur) {\n      source += 'save();\\n';\n      source += 'R.start = runtime.now();\\n';\n      source += 'R.duration = ' + dur + ';\\n';\n      source += 'var first = !WARP;\\n';\n\n      var id = label();\n      source += 'if (runtime.now() - R.start < R.duration * 1000 || first) {\\n';\n      source += '  var first;\\n';\n      forceQueue(id);\n      source += '}\\n';\n\n      source += 'restore();\\n';\n    };\n\n    var toHSLA = 'S.penColor.toHSLA();\\n';\n    toHSLA += 'S.penColor.a = 1;\\n';\n\n    var visual = 0;\n    var compile = function(block) {\n      if (LOG_PRIMITIVES) {\n        source += 'console.log(' + val(block[0]) + ');\\n';\n      }\n\n      if (['turnRight:', 'turnLeft:', 'heading:', 'pointTowards:', 'setRotationStyle', 'lookLike:', 'nextCostume', 'say:duration:elapsed:from:', 'say:', 'think:duration:elapsed:from:', 'think:', 'changeGraphicEffect:by:', 'setGraphicEffect:to:', 'filterReset', 'changeSizeBy:', 'setSizeTo:', 'comeToFront', 'goBackByLayers:'].indexOf(block[0]) !== -1) {\n        if (visual < 2) {\n          source += 'if (S.visible) VISUAL = true;\\n';\n          visual = 2;\n        } else if (P.config.debug) source += '/* visual: 2 */\\n';\n      } else if (['forward:', 'gotoX:y:', 'gotoSpriteOrMouse:', 'changeXposBy:', 'xpos:', 'changeYposBy:', 'ypos:', 'bounceOffEdge', 'glideSecs:toX:y:elapsed:from:'].indexOf(block[0]) !== -1) {\n        if (visual < 1) {\n          source += 'if (S.visible || S.isPenDown) VISUAL = true;\\n';\n          visual = 1;\n        } else if (P.config.debug) source += '/* visual: 1 */\\n';\n      } else if (['showBackground:', 'startScene', 'nextBackground', 'nextScene', 'startSceneAndWait', 'show', 'hide', 'putPenDown', 'stampCostume', 'showVariable:', 'hideVariable:', 'doAsk', 'setVolumeTo:', 'changeVolumeBy:', 'setTempoTo:', 'changeTempoBy:'].indexOf(block[0]) !== -1) {\n        if (visual < 3) {\n          source += 'VISUAL = true;\\n';\n          visual = 3;\n        } else if (P.config.debug) source += '/* visual: 3 */\\n';\n      }\n\n      if (block[0] === 'forward:') { /* Motion */\n\n        source += 'S.forward(' + num(block[1]) + ');\\n';\n\n      } else if (block[0] === 'turnRight:') {\n\n        source += 'S.setDirection(S.direction + ' + num(block[1]) + ');\\n';\n\n      } else if (block[0] === 'turnLeft:') {\n\n        source += 'S.setDirection(S.direction - ' + num(block[1]) + ');\\n';\n\n      } else if (block[0] === 'heading:') {\n\n        source += 'S.setDirection(' + num(block[1]) + ');\\n';\n\n      } else if (block[0] === 'pointTowards:') {\n\n        source += 'S.pointTowards(' + val(block[1]) + ');\\n';\n\n      } else if (block[0] === 'gotoX:y:') {\n\n        source += 'S.moveTo(' + num(block[1]) + ', ' + num(block[2]) + ');\\n';\n\n      } else if (block[0] === 'gotoSpriteOrMouse:') {\n\n        source += 'S.gotoObject(' + val(block[1]) + ');\\n';\n\n      } else if (block[0] === 'changeXposBy:') {\n\n        source += 'S.moveTo(S.scratchX + ' + num(block[1]) + ', S.scratchY);\\n';\n\n      } else if (block[0] === 'xpos:') {\n\n        source += 'S.moveTo(' + num(block[1]) + ', S.scratchY);\\n';\n\n      } else if (block[0] === 'changeYposBy:') {\n\n        source += 'S.moveTo(S.scratchX, S.scratchY + ' + num(block[1]) + ');\\n';\n\n      } else if (block[0] === 'ypos:') {\n\n        source += 'S.moveTo(S.scratchX, ' + num(block[1]) + ');\\n';\n\n      } else if (block[0] === 'bounceOffEdge') {\n\n        source += 'S.bounceOffEdge();\\n';\n\n      } else if (block[0] === 'setRotationStyle') {\n\n        source += 'S.rotationStyle = P.utils.parseRotationStyle(' + val(block[1]) + ');\\n';\n\n      } else if (block[0] === 'lookLike:') { /* Looks */\n\n        source += 'S.setCostume(' + val(block[1]) + ');\\n';\n\n      } else if (block[0] === 'nextCostume') {\n\n        source += 'S.showNextCostume();\\n';\n\n      } else if (block[0] === 'showBackground:' ||\n                 block[0] === 'startScene') {\n\n        source += 'self.setCostume(' + val(block[1]) + ');\\n';\n        source += 'var threads = sceneChange();\\n';\n        source += 'if (threads.indexOf(BASE) !== -1) {return;}\\n';\n\n      } else if (block[0] === 'nextBackground' ||\n                 block[0] === 'nextScene') {\n\n        source += 'S.showNextCostume();\\n';\n        source += 'var threads = sceneChange();\\n';\n        source += 'if (threads.indexOf(BASE) !== -1) {return;}\\n';\n\n      } else if (block[0] === 'startSceneAndWait') {\n\n        source += 'save();\\n';\n        source += 'self.setCostume(' + val(block[1]) + ');\\n';\n        source += 'R.threads = sceneChange();\\n';\n        source += 'if (R.threads.indexOf(BASE) !== -1) {return;}\\n';\n        var id = label();\n        source += 'if (!running(R.threads)) {\\n';\n        forceQueue(id);\n        source += '}\\n';\n        source += 'restore();\\n';\n\n      } else if (block[0] === 'say:duration:elapsed:from:') {\n\n        source += 'save();\\n';\n        source += 'R.id = S.say(' + val(block[1]) + ', false);\\n';\n        source += 'R.start = runtime.now();\\n';\n        source += 'R.duration = ' + num(block[2]) + ';\\n';\n        source += 'var first = !WARP;\\n';\n\n        var id = label();\n        source += 'if (runtime.now() - R.start < R.duration * 1000 || first) {\\n';\n        source += '  var first;\\n';\n        forceQueue(id);\n        source += '}\\n';\n\n        source += 'if (S.sayId === R.id) {\\n';\n        source += '  S.say(\"\");\\n';\n        source += '}\\n';\n        source += 'restore();\\n';\n\n      } else if (block[0] === 'say:') {\n\n        source += 'S.say(' + val(block[1]) + ', false);\\n';\n\n      } else if (block[0] === 'think:duration:elapsed:from:') {\n\n        source += 'save();\\n';\n        source += 'R.id = S.say(' + val(block[1]) + ', true);\\n';\n        source += 'R.start = runtime.now();\\n';\n        source += 'R.duration = ' + num(block[2]) + ';\\n';\n        source += 'var first = !WARP;\\n';\n\n        var id = label();\n        source += 'if (runtime.now() - R.start < R.duration * 1000 || first) {\\n';\n        source += '  var first;\\n';\n        forceQueue(id);\n        source += '}\\n';\n\n        source += 'if (S.sayId === R.id) {\\n';\n        source += '  S.say(\"\");\\n';\n        source += '}\\n';\n        source += 'restore();\\n';\n\n      } else if (block[0] === 'think:') {\n\n        source += 'S.say(' + val(block[1]) + ', true);\\n';\n\n      } else if (block[0] === 'changeGraphicEffect:by:') {\n\n        source += 'S.changeFilter(' + val(block[1]) + ', ' + num(block[2]) + ');\\n';\n\n      } else if (block[0] === 'setGraphicEffect:to:') {\n\n        source += 'S.setFilter(' + val(block[1]) + ', ' + num(block[2]) + ');\\n';\n\n      } else if (block[0] === 'filterReset') {\n\n        source += 'S.resetFilters();\\n';\n\n      } else if (block[0] === 'changeSizeBy:') {\n\n        source += 'var f = S.scale + ' + num(block[1]) + ' / 100;\\n';\n        source += 'S.scale = f < 0 ? 0 : f;\\n';\n\n      } else if (block[0] === 'setSizeTo:') {\n\n        source += 'var f = ' + num(block[1]) + ' / 100;\\n';\n        source += 'S.scale = f < 0 ? 0 : f;\\n';\n\n      } else if (block[0] === 'show') {\n\n        source += 'S.visible = true;\\n';\n        source += 'if (S.saying) S.updateBubble();\\n';\n\n      } else if (block[0] === 'hide') {\n\n        source += 'S.visible = false;\\n';\n        source += 'if (S.saying) S.updateBubble();\\n';\n\n      } else if (block[0] === 'comeToFront') {\n\n        source += 'var i = self.children.indexOf(S);\\n';\n        source += 'if (i !== -1) self.children.splice(i, 1);\\n';\n        source += 'self.children.push(S);\\n';\n\n      } else if (block[0] === 'goBackByLayers:') {\n\n        source += 'var i = self.children.indexOf(S);\\n';\n        source += 'if (i !== -1) {\\n';\n        source += '  self.children.splice(i, 1);\\n';\n        source += '  self.children.splice(Math.max(0, i - ' + num(block[1]) + '), 0, S);\\n';\n        source += '}\\n';\n\n      } else if (block[0] === 'setVideoState') {\n\n        source += 'switch (' + val(block[1]) + ') {';\n        source += '  case \"off\": self.showVideo(false); break;';\n        source += '  case \"on\": self.showVideo(true); break;';\n        source += '}';\n\n      // } else if (block[0] === 'setVideoTransparency') {\n\n      } else if (block[0] === 'playSound:') { /* Sound */\n\n        if (P.audio.context) {\n          source += 'var sound = S.getSound(' + val(block[1]) + ');\\n';\n          source += 'if (sound) startSound(sound);\\n';\n        }\n\n      } else if (block[0] === 'doPlaySoundAndWait') {\n\n        if (P.audio.context) {\n          source += 'var sound = S.getSound(' + val(block[1]) + ');\\n';\n          source += 'if (sound) {\\n';\n          source += '  save();\\n';\n          source += '  R.sound = playSound(sound);\\n';\n          source += '  S.activeSounds.add(R.sound);\\n';\n          source += '  R.start = runtime.now();\\n';\n          source += '  R.duration = sound.duration;\\n';\n          source += '  var first = true;\\n';\n          var id = label();\n          source += '  if ((runtime.now() - R.start < R.duration * 1000 || first) && !R.sound.stopped) {\\n';\n          source += '    var first;\\n';\n          forceQueue(id);\n          source += '  }\\n';\n          source += '  S.activeSounds.delete(R.sound);\\n';\n          source += '  restore();\\n';\n          source += '}\\n';\n        }\n\n      } else if (block[0] === 'stopAllSounds') {\n\n        if (P.audio.context) {\n          source += 'self.stopAllSounds();\\n';\n        }\n\n      // } else if (block[0] === 'drum:duration:elapsed:from:') {\n\n      } else if (block[0] === 'playDrum') {\n\n        beatHead(block[2]);\n        if (P.audio.context) {\n          source += 'R.sound = playSpan(DRUMS[Math.round(' + num(block[1]) + ') - 1] || DRUMS[2], 60, 10);\\n';\n        }\n        beatTail();\n\n      } else if (block[0] === 'rest:elapsed:from:') {\n\n        beatHead(block[1]);\n        beatTail();\n\n      } else if (block[0] === 'noteOn:duration:elapsed:from:') {\n\n        beatHead(block[2]);\n        if (P.audio.context) {\n          source += 'R.sound = playNote(' + num(block[1]) + ', R.duration);\\n';\n        }\n        beatTail();\n\n      // } else if (block[0] === 'midiInstrument:') {\n\n      } else if (block[0] === 'instrument:') {\n\n        source += 'S.instrument = Math.max(0, Math.min(INSTRUMENTS.length - 1, ' + num(block[1]) + ' - 1)) | 0;';\n\n      } else if (block[0] === 'changeVolumeBy:' || block[0] === 'setVolumeTo:') {\n\n        source += 'S.volume = Math.min(1, Math.max(0, ' + (block[0] === 'changeVolumeBy:' ? 'S.volume + ' : '') + num(block[1]) + ' / 100));\\n';\n        source += 'if (S.node) S.node.gain.value = S.volume;\\n';\n\n      } else if (block[0] === 'changeTempoBy:') {\n\n        source += 'self.tempoBPM += ' + num(block[1]) + ';\\n';\n\n      } else if (block[0] === 'setTempoTo:') {\n\n        source += 'self.tempoBPM = ' + num(block[1]) + ';\\n';\n\n      } else if (block[0] === 'clearPenTrails') { /* Pen */\n\n        source += 'self.clearPen();\\n';\n\n      } else if (block[0] === 'putPenDown') {\n\n        source += 'S.isPenDown = true;\\n';\n        source += 'S.dotPen();\\n';\n\n      } else if (block[0] === 'putPenUp') {\n\n        source += 'S.isPenDown = false;\\n';\n\n      } else if (block[0] === 'penColor:') {\n\n        source += 'S.penColor.setRGBA(' + num(block[1]) + ');\\n';\n\n      } else if (block[0] === 'setPenHueTo:') {\n\n        source += toHSLA;\n        source += 'S.penColor.x = ' + num(block[1]) + ' * 360 / 200;\\n';\n        source += 'S.penColor.y = 100;\\n';\n\n      } else if (block[0] === 'changePenHueBy:') {\n\n        source += toHSLA;\n        source += 'S.penColor.x += ' + num(block[1]) + ' * 360 / 200;\\n';\n        source += 'S.penColor.y = 100;\\n';\n\n      } else if (block[0] === 'setPenShadeTo:') {\n\n        source += toHSLA;\n        source += 'S.penColor.z = ' + num(block[1]) + ' % 200;\\n';\n        source += 'if (S.penColor.z < 0) S.penColor.z += 200;\\n';\n        source += 'S.penColor.y = 100;\\n';\n\n      } else if (block[0] === 'changePenShadeBy:') {\n\n        source += toHSLA;\n        source += 'S.penColor.z = (S.penColor.z + ' + num(block[1]) + ') % 200;\\n';\n        source += 'if (S.penColor.z < 0) S.penColor.z += 200;\\n';\n        source += 'S.penColor.y = 100;\\n';\n\n      } else if (block[0] === 'penSize:') {\n\n        source += 'var f = ' + num(block[1]) + ';\\n';\n        source += 'S.penSize = f < 1 ? 1 : f;\\n';\n\n      } else if (block[0] === 'changePenSizeBy:') {\n\n        source += 'var f = S.penSize + ' + num(block[1]) + ';\\n';\n        source += 'S.penSize = f < 1 ? 1 : f;\\n';\n\n      } else if (block[0] === 'stampCostume') {\n\n        source += 'S.stamp();\\n';\n\n      } else if (block[0] === 'setVar:to:') { /* Data */\n\n        source += varRef(block[1]) + ' = ' + val(block[2]) + ';\\n';\n        if (isCloudVar(block[1])) {\n          source += 'cloudVariableChanged(' + val(block[1]) + ');\\n';\n        }\n\n      } else if (block[0] === 'changeVar:by:') {\n\n        var ref = varRef(block[1]);\n        source += ref + ' = (+' + ref + ' || 0) + ' + num(block[2]) + ';\\n';\n        if (isCloudVar(block[1])) {\n          source += 'cloudVariableChanged(' + val(block[1]) + ');\\n';\n        }\n\n      } else if (block[0] === 'append:toList:') {\n\n        source += 'appendToList(' + listRef(block[2]) + ', ' + val(block[1]) + ');\\n';\n\n      } else if (block[0] === 'deleteLine:ofList:') {\n\n        source += 'deleteLineOfList(' + listRef(block[2]) + ', ' + val(block[1]) + ');\\n';\n\n      } else if (block[0] === 'insert:at:ofList:') {\n\n        source += 'insertInList(' + listRef(block[3]) + ', ' + val(block[2]) + ', '+ val(block[1]) + ');\\n';\n\n      } else if (block[0] === 'setLine:ofList:to:') {\n\n        source += 'setLineOfList(' + listRef(block[2]) + ', ' + val(block[1]) + ', '+ val(block[3]) + ');\\n';\n\n      } else if (block[0] === 'showVariable:' || block[0] === 'hideVariable:') {\n\n        var isShow = block[0] === 'showVariable:';\n        if (typeof block[1] === 'string') {\n          var o = object.vars[block[1]] !== undefined ? 'S' : 'self';\n          source += o + '.showVariable(' + val(block[1]) + ', ' + isShow + ');\\n';\n        } else {\n          warn('ignoring dynamic variable');\n        }\n\n      // } else if (block[0] === 'showList:') {\n\n      // } else if (block[0] === 'hideList:') {\n\n      } else if (block[0] === 'broadcast:') { /* Control */\n\n        source += 'var threads = broadcast(' + val(block[1]) + ');\\n';\n        source += 'if (threads.indexOf(BASE) !== -1) {STOPPED = true;}\\n';\n\n      } else if (block[0] === 'call') {\n\n        if (P.config.debug && block[1] === 'phosphorus: debug') {\n          source += 'debugger;\\n';\n        } else {\n          source += 'call(S.procedures[' + val(block[1]) + '], ' + nextLabel() + ', [';\n          for (var i = 2; i < block.length; i++) {\n            if (i > 2) {\n              source += ', ';\n            }\n            source += val(block[i]);\n          }\n          source += ']);\\n';\n          delay();\n        }\n\n      } else if (block[0] === 'doBroadcastAndWait') {\n\n        source += 'save();\\n';\n        source += 'R.threads = broadcast(' + val(block[1]) + ');\\n';\n        source += 'if (R.threads.indexOf(BASE) !== -1) {return;}\\n';\n        var id = label();\n        source += 'if (running(R.threads)) {\\n';\n        forceQueue(id);\n        source += '}\\n';\n        source += 'restore();\\n';\n\n      } else if (block[0] === 'doForever') {\n\n        var id = label();\n        seq(block[1]);\n        forceQueue(id);\n\n      } else if (block[0] === 'doForeverIf') {\n\n        var id = label();\n\n        source += 'if (' + bool(block[1]) + ') {\\n';\n        seq(block[2]);\n        source += '}\\n';\n\n        forceQueue(id);\n\n      // } else if (block[0] === 'doForLoop') {\n\n      } else if (block[0] === 'doIf') {\n\n        source += 'if (' + bool(block[1]) + ') {\\n';\n        seq(block[2]);\n        source += '}\\n';\n\n      } else if (block[0] === 'doIfElse') {\n\n        source += 'if (' + bool(block[1]) + ') {\\n';\n        seq(block[2]);\n        source += '} else {\\n';\n        seq(block[3]);\n        source += '}\\n';\n\n      } else if (block[0] === 'doRepeat') {\n\n        source += 'save();\\n';\n        source += 'R.count = ' + num(block[1]) + ';\\n';\n\n        var id = label();\n\n        source += 'if (R.count >= 0.5) {\\n';\n        source += '  R.count -= 1;\\n';\n        seq(block[2]);\n        queue(id);\n        source += '} else {\\n';\n        source += '  restore();\\n';\n        source += '}\\n';\n\n      } else if (block[0] === 'doReturn') {\n\n        source += 'endCall();\\n';\n        source += 'return;\\n';\n\n      } else if (block[0] === 'doUntil') {\n\n        var id = label();\n        source += 'if (!' + bool(block[1]) + ') {\\n';\n        seq(block[2]);\n        queue(id);\n        source += '}\\n';\n\n      } else if (block[0] === 'doWhile') {\n\n        var id = label();\n        source += 'if (' + bool(block[1]) + ') {\\n';\n        seq(block[2]);\n        queue(id);\n        source += '}\\n';\n\n      } else if (block[0] === 'doWaitUntil') {\n\n        var id = label();\n        source += 'if (!' + bool(block[1]) + ') {\\n';\n        forceQueue(id);\n        source += '}\\n';\n\n      } else if (block[0] === 'glideSecs:toX:y:elapsed:from:') {\n\n        source += 'save();\\n';\n        source += 'R.start = runtime.now();\\n';\n        source += 'R.duration = ' + num(block[1]) + ';\\n';\n        source += 'R.baseX = S.scratchX;\\n';\n        source += 'R.baseY = S.scratchY;\\n';\n        source += 'R.deltaX = ' + num(block[2]) + ' - S.scratchX;\\n';\n        source += 'R.deltaY = ' + num(block[3]) + ' - S.scratchY;\\n';\n\n        var id = label();\n        source += 'var f = (runtime.now() - R.start) / (R.duration * 1000);\\n';\n        source += 'if (f > 1 || isNaN(f)) f = 1;\\n';\n        source += 'S.moveTo(R.baseX + f * R.deltaX, R.baseY + f * R.deltaY);\\n';\n\n        source += 'if (f < 1) {\\n';\n        forceQueue(id);\n        source += '}\\n';\n        source += 'restore();\\n';\n\n      } else if (block[0] === 'stopAll') {\n\n        source += 'runtime.stopAll();\\n';\n        source += 'return;\\n';\n\n      } else if (block[0] === 'stopScripts') {\n\n        source += 'switch (' + val(block[1]) + ') {\\n';\n        source += '  case \"all\":\\n';\n        source += '    runtime.stopAll();\\n';\n        source += '    return;\\n';\n        source += '  case \"this script\":\\n';\n        source += '    endCall();\\n';\n        source += '    return;\\n';\n        source += '  case \"other scripts in sprite\":\\n';\n        source += '  case \"other scripts in stage\":\\n';\n        source += '    S.stopSoundsExcept(BASE);\\n';\n        source += '    for (var i = 0; i < runtime.queue.length; i++) {\\n';\n        source += '      if (i !== THREAD && runtime.queue[i] && runtime.queue[i].sprite === S) {\\n';\n        source += '        runtime.queue[i].stopped = true;\\n';\n        source += '        runtime.queue[i].fn = undefined;\\n';\n        source += '      }\\n';\n        source += '    }\\n';\n        source += '    break;\\n';\n        source += '}\\n';\n\n      } else if (block[0] === 'wait:elapsed:from:') {\n\n        wait(num(block[1]));\n\n      } else if (block[0] === 'warpSpeed') {\n\n        source += 'WARP++;\\n';\n        seq(block[1]);\n        source += 'WARP--;\\n';\n\n      } else if (block[0] === 'createCloneOf') {\n\n        source += 'clone(' + val(block[1]) + ');\\n';\n\n      } else if (block[0] === 'deleteClone') {\n\n        source += 'if (S.isClone) {\\n';\n        source += '  S.remove();\\n';\n        source += '  var i = self.children.indexOf(S);\\n';\n        source += '  if (i !== -1) self.children.splice(i, 1);\\n';\n        source += '  for (var i = 0; i < runtime.queue.length; i++) {\\n';\n        source += '    if (runtime.queue[i] && runtime.queue[i].sprite === S) {\\n';\n        source += '      runtime.queue[i] = undefined;\\n';\n        source += '    }\\n';\n        source += '  }\\n';\n        source += '  return;\\n';\n        source += '}\\n';\n\n      } else if (block[0] === 'doAsk') { /* Sensing */\n\n        source += 'R.id = self.nextPromptId++;\\n';\n\n        var id = label();\n        source += 'if (self.promptId < R.id) {\\n';\n        forceQueue(id);\n        source += '}\\n';\n\n        source += 'S.ask(' + val(block[1]) + ');\\n';\n\n        var id = label();\n        source += 'if (self.promptId === R.id) {\\n';\n        forceQueue(id);\n        source += '}\\n';\n\n      } else if (block[0] === 'timerReset') {\n\n        source += 'runtime.timerStart = runtime.now();\\n';\n\n      } else {\n\n        warn('Undefined command: ' + block[0]);\n\n      }\n    };\n\n    var source = '';\n    var startfn = object.fns.length;\n    var fns = [0];\n\n    if (script[0][0] === 'procDef') {\n      var inputs = script[0][2];\n      var types = script[0][1].match(/%[snmdcb]/g) || [];\n      var used: boolean[] = [];\n    }\n\n    for (let i = 1; i < script.length; i++) {\n      compile(script[i]);\n    }\n\n    if (script[0][0] === 'procDef') {\n      let pre = '';\n      for (let i = types.length; i--;) {\n        // We know `used` is defined at this point, but typescript doesn't.\n        if (used![i]) {\n          const t = types[i];\n          if (t === '%d' || t === '%n' || t === '%c') {\n            pre += 'C.numargs[' + i + '] = +C.args[' + i + '] || 0;\\n';\n          } else if (t === '%b') {\n            pre += 'C.boolargs[' + i + '] = bool(C.args[' + i + ']);\\n';\n          }\n        }\n      }\n      source = pre + source;\n      for (let i = 1, l = fns.length; i < l; ++i) {\n        fns[i] += pre.length;\n      }\n      source += 'endCall();\\n';\n      source += 'return;\\n';\n    }\n\n    for (let i = 0; i < fns.length; i++) {\n      object.fns.push(P.runtime.createContinuation(source.slice(fns[i])));\n    }\n\n    var f = object.fns[startfn];\n\n    if (script[0][0] === 'whenClicked') {\n      object.listeners.whenClicked.push(f);\n    } else if (script[0][0] === 'whenGreenFlag') {\n      object.listeners.whenGreenFlag.push(f);\n    } else if (script[0][0] === 'whenCloned') {\n      object.listeners.whenCloned.push(f);\n    } else if (script[0][0] === 'whenIReceive') {\n      var key = script[0][1].toLowerCase();\n      (object.listeners.whenIReceive[key] || (object.listeners.whenIReceive[key] = [])).push(f);\n    } else if (script[0][0] === 'whenKeyPressed') {\n      const key = P.runtime.getKeyCode(script[0][1]);\n      object.addWhenKeyPressedHandler(key, f);\n    } else if (script[0][0] === 'whenSceneStarts') {\n      var key = script[0][1].toLowerCase();\n      (object.listeners.whenSceneStarts[key] || (object.listeners.whenSceneStarts[key] = [])).push(f);\n    } else if (script[0][0] === 'procDef') {\n      const warp = script[0][4];\n      const name = script[0][1];\n      // don't define procedure if it already exists\n      // https://github.com/forkphorus/forkphorus/issues/186\n      if (!object.procedures[name]) {\n        object.procedures[name] = new Scratch2Procedure(f, warp, inputs);\n      } else {\n        warn('procedure already exists: ' + name);\n      }\n    } else {\n      warn('Undefined event: ' + script[0][0]);\n    }\n\n    if (P.config.debug) {\n      var variant = script[0][0];\n      if (variant === 'procDef') {\n        variant += ':' + script[0][1];\n      }\n      console.log('compiled sb2 script', variant, source);\n    }\n  };\n\n  export function compile(stage) {\n    warnings = Object.create(null);\n\n    compileScripts(stage);\n    for (var i = 0; i < stage.children.length; i++) {\n      compileScripts(stage.children[i]);\n    }\n\n    for (var key in warnings) {\n      console.warn(key + (warnings[key] > 1 ? ' (repeated ' + warnings[key] + ' times)' : ''));\n    }\n  }\n}\n","/// <reference path=\"phosphorus.ts\" />\n/// <reference path=\"utils.ts\" />\n/// <reference path=\"core.ts\" />\n/// <reference path=\"fonts.ts\" />\n/// <reference path=\"config.ts\" />\n/// <reference path=\"runtime.ts\" />\n\n// Scratch 3 project loader and runtime objects\nnamespace P.sb3 {\n  // \"Scratch3*\" classes implement some part of the Scratch 3 runtime.\n  // \"SB3*\" interfaces are just types for Scratch 3 projects\n\n  /**\n   * The path to fetch remote assets from.\n   * Replace $md5ext with the md5sum and the format of the asset.\n   */\n  export const ASSETS_API = 'https://assets.scratch.mit.edu/internalapi/asset/$md5ext/get/';\n\n  interface SB3Project {\n    targets: SB3Target[];\n    monitors: SB3Watcher[];\n    meta: any;\n  }\n\n  export interface SB3Target {\n    name: string;\n    isStage: boolean;\n    sounds: SB3Sound[];\n    costumes: SB3Costume[];\n    draggable: boolean;\n    size: number;\n    direction: number;\n    visible: boolean;\n    x: number;\n    y: number;\n    currentCostume: number;\n    rotationStyle: string;\n    layerOrder: number;\n    lists: ObjectMap<SB3List>;\n    variables: ObjectMap<SB3Variable>;\n    blocks: ObjectMap<SB3Block>;\n    broadcasts: ObjectMap<string>;\n    volume: number;\n  }\n\n  interface SB3Costume {\n    /**\n     * The ID of the asset. Should be its md5sum.\n     * Example: \"b61b1077b0ea1931abee9dbbfa7903ff\"\n     */\n    assetId: string;\n    name: string;\n    /**\n     * \"Real pixels per image pixel\"\n     */\n    bitmapResolution: number;\n    /**\n     * The ID of the asset with its extension.\n     * Example: \"b61b1077b0ea1931abee9dbbfa7903ff.png\"\n     */\n    md5ext: string;\n    /**\n     * The format of the image.\n     * Usually \"png\" or \"svg\"\n     */\n    dataFormat: string;\n    rotationCenterX: number;\n    rotationCenterY: number;\n  }\n\n  interface SB3Sound {\n    assetId: string,\n    name: string;\n    dataFormat: string;\n    format: string;\n    rate: number;\n    sampleCount: number;\n    md5ext: string;\n  }\n\n  export interface SB3Block {\n    opcode: string;\n    topLevel: boolean;\n    inputs: ObjectMap<any>;\n    fields: ObjectMap<any>;\n    mutation: any;\n    parent: string | null;\n    next: string | null;\n  }\n\n  interface SB3Watcher {\n    spriteName: string | null;\n    visible: boolean;\n    id: string;\n    opcode: string;\n    mode: string;\n    params: any;\n    x: number;\n    y: number;\n    sliderMin?: number;\n    sliderMax?: number;\n    width?: number;\n    height?: number;\n    isDiscrete: boolean;\n  }\n\n  /**\n   * Tuple of name, value\n   */\n  type SB3List = [string, any[]];\n\n  /**\n   * Tuple of name, value, and sometimes cloud.\n   */\n  type SB3Variable = [string, any, boolean?];\n\n  // Implements a Scratch 3 Stage.\n  export class Scratch3Stage extends P.core.Stage {\n    public sb3data: SB3Target;\n    public listIds: ObjectMap<string> = {};\n    public varIds: ObjectMap<string> = {};\n  }\n\n  // Implements a Scratch 3 Sprite.\n  export class Scratch3Sprite extends P.core.Sprite {\n    public sb3data: SB3Target;\n    public listIds: ObjectMap<string> = {};\n    public varIds: ObjectMap<string> = {};\n\n    _clone() {\n      return new Scratch3Sprite(this.stage);\n    }\n  }\n\n  export type Target = Scratch3Stage | Scratch3Sprite;\n\n  // Implements a Scratch 3 VariableWatcher.\n  // Adds Scratch 3-like styling\n  export class Scratch3VariableWatcher extends P.core.Watcher {\n    public id: string;\n    public opcode: string;\n    private mode: string;\n    public params: any;\n    private libraryEntry: P.sb3.compiler.WatchedValue;\n    private sliderMin: number;\n    private sliderMax: number;\n    private sliderStep: number;\n    private sliderInput: HTMLInputElement;\n    private containerEl: HTMLElement;\n    private valueEl: HTMLElement;\n\n    constructor(stage: Scratch3Stage, data: SB3Watcher) {\n      super(stage, data.spriteName || '');\n\n      // Unique ID\n      this.id = data.id;\n      // Operation code, similar to other parts of Scratch 3\n      this.opcode = data.opcode;\n      this.mode = data.mode;\n      // Watcher options, varies by opcode.\n      this.params = data.params;\n      // This opcode's watcherLibrary entry.\n      this.libraryEntry = P.sb3.compiler.watcherLibrary[this.opcode];\n\n      this.x = data.x;\n      this.y = data.y;\n      this.visible = typeof data.visible === 'boolean' ? data.visible : true;\n\n      this.sliderMin = data.sliderMin || 0;\n      this.sliderMax = data.sliderMax || 0;\n      // isDiscrete doesn't always exist\n      if (typeof data.isDiscrete !== 'undefined') {\n        this.sliderStep = data.isDiscrete ? 1 : 0.01;\n      } else {\n        this.sliderStep = 1;\n      }\n\n      // Mark ourselves as invalid if the opcode is not recognized.\n      if (!this.libraryEntry) {\n        console.warn('unknown watcher', this.opcode, this);\n        this.valid = false;\n      }\n    }\n\n    update() {\n      if (this.visible) {\n        const value = this.getValue();\n        // Value is only updated when the value has changed to reduce useless paints/reflows in some browsers.\n        if (this.valueEl.textContent !== value) {\n          this.valueEl.textContent = value;\n        }\n        if (this.sliderInput) {\n          this.sliderInput.value = value;\n        }\n      }\n    }\n\n    init() {\n      super.init();\n\n      // call init() if it exists\n      if (this.libraryEntry.init) {\n        this.libraryEntry.init(this);\n      }\n\n      this.updateLayout();\n    }\n\n    setVisible(visible: boolean) {\n      super.setVisible(visible);\n      this.updateLayout();\n    }\n\n    // Gets the label of the watcher.\n    // Will include the sprite's name if any.\n    // Example results are 'Sprite1: my variable' and 'timer'\n    getLabel() {\n      const label = this.libraryEntry.getLabel(this);\n      if (!this.target.isStage) {\n        return this.targetName + ': ' + label;\n      }\n      return label;\n    }\n\n    // Gets the value of the watcher as a string.\n    getValue() {\n      const value = this.libraryEntry.evaluate(this);\n      // Round off numbers to the 6th decimal\n      if (typeof value === 'number') {\n        return '' + (Math.round(value * 1e6) / 1e6);\n      }\n      return '' + value;\n    }\n\n    // Attempts to set the value of the watcher.\n    // Will silently fail if this watcher cannot be set.\n    setValue(value: number) {\n      // Not all opcodes have a set()\n      if (this.libraryEntry.set) {\n        this.libraryEntry.set(this, value);\n        this.update();\n      }\n    }\n\n    // Updates or creates the layout of the watcher.\n    updateLayout() {\n      // If the HTML element has already been created, them simply update the CSS display property.\n      if (this.containerEl) {\n        this.containerEl.style.display = this.visible ? 'flex' : 'none';\n        return;\n      }\n\n      if (!this.visible) {\n        return;\n      }\n\n      const container = document.createElement('div');\n      container.classList.add('s3-watcher-container');\n      container.dataset.opcode = this.opcode;\n      container.style.top = (this.y / 10) + 'em';\n      container.style.left = (this.x / 10) + 'em';\n      // fix https://github.com/forkphorus/forkphorus/issues/195\n      container.onmousedown = (e) => e.stopPropagation();\n      container.ontouchstart = (e) => e.stopPropagation();\n\n      const value = document.createElement('div');\n      value.classList.add('s3-watcher-value');\n      value.textContent = this.getValue();\n\n      this.containerEl = container;\n      this.valueEl = value;\n      this.stage.ui.appendChild(container);\n\n      const mode = this.mode;\n\n      if (mode === 'large') {\n        container.classList.add('s3-watcher-large');\n        container.appendChild(value);\n      } else {\n        // mode is probably 'normal' or 'slider'\n        // if it's not, then 'normal' would be a good fallback anyways.\n\n        const row = document.createElement('div');\n        row.classList.add('s3-watcher-row');\n        row.classList.add('s3-watcher-row-normal');\n\n        const label = document.createElement('div');\n        label.classList.add('s3-watcher-label');\n        label.textContent = this.getLabel();\n\n        row.appendChild(label);\n        row.appendChild(value);\n\n        container.classList.add('s3-watcher-container-normal');\n        container.appendChild(row);\n\n        // 'slider' is a slight variation of 'normal', just with an extra slider row.\n        if (mode === 'slider') {\n          const slider = document.createElement('div');\n          slider.classList.add('s3-watcher-row-slider');\n\n          const input = document.createElement('input');\n          input.type = 'range';\n          input.min = '' + this.sliderMin;\n          input.max = '' + this.sliderMax;\n          input.step = '' + this.sliderStep;\n          input.value = this.getValue();\n          input.addEventListener('input', this.sliderChanged.bind(this));\n          this.sliderInput = input;\n\n          slider.appendChild(input);\n          container.appendChild(slider);\n        }\n      }\n    }\n\n    // Handles slider input events.\n    sliderChanged(e: Event) {\n      const value = +(e.target as HTMLInputElement).value;\n      this.setValue(value);\n    }\n  }\n\n  export class ListWatcherRow {\n    public element: HTMLElement;\n    private indexEl: HTMLElement;\n    private valueEl: HTMLElement;\n    private value: any = '';\n    private index: any = -1;\n    private y: any = 0;\n    private visible: boolean = true;\n\n    constructor() {\n      this.element = document.createElement('div');\n      this.indexEl = document.createElement('div');\n      this.valueEl = document.createElement('div');\n      this.element.className = 's3-list-row';\n      this.indexEl.className = 's3-list-index';\n      this.valueEl.className = 's3-list-value';\n      this.element.appendChild(this.indexEl);\n      this.element.appendChild(this.valueEl);\n    }\n\n    /**\n     * Set the value of this row.\n     */\n    setValue(value: any) {\n      if (value !== this.value) {\n        this.value = value;\n        this.valueEl.textContent = value;\n      }\n    }\n\n    /**\n     * Set the index of this row.\n     * @param index The *JavaScript* index of the row.\n     */\n    setIndex(index: number) {\n      if (index !== this.index) {\n        this.index = index;\n        this.indexEl.textContent = (index + 1).toString();\n      }\n    }\n\n    /**\n     * Set the Y coordinate of this row.\n     */\n    setY(y: number) {\n      if (y !== this.y) {\n        this.y = y;\n        this.element.style.transform = 'translateY(' + y + 'px)';\n      }\n    }\n\n    /**\n     * Set the visibility of this row.\n     */\n    setVisible(visible: boolean) {\n      if (this.visible !== visible) {\n        this.visible = visible;\n        this.element.style.display = visible ? '' : 'none';\n      }\n    }\n  }\n\n  const enum ScrollDirection {\n    Up, Down,\n  }\n  export class Scratch3ListWatcher extends P.core.Watcher {\n    private params: any;\n    private id: string;\n    private width: number;\n    private height: number;\n    private list: Scratch3List;\n    private containerEl: HTMLElement;\n    private topLabelEl: HTMLElement;\n    private bottomLabelEl: HTMLElement;\n    private middleContainerEl: HTMLElement;\n    private endpointEl: HTMLElement;\n    private contentEl: HTMLElement;\n    private rows: ListWatcherRow[] = [];\n    private firstUpdateComplete: boolean = false;\n    private _rowHeight: number = -1;\n    private scrollTop: number = 0;\n    private lastZoomLevel: number = 1;\n    private scrollAhead: number = 8;\n    private scrollBack: number = 3;\n    private scrollDirection: ScrollDirection = ScrollDirection.Down;\n    private _contentHeight: number = -1;\n\n    constructor(stage: Scratch3Stage, data: SB3Watcher) {\n      super(stage, data.spriteName || '');\n\n      this.id = data.id;\n      this.params = data.params;\n      this.x = data.x;\n      this.y = data.y;\n      this.visible = typeof data.visible === 'boolean' ? data.visible : true;\n      this.width = data.width || 100;\n      this.height = data.height || 200;\n    }\n\n    shouldUpdate() {\n      if (!this.visible) return false;\n      if (this.lastZoomLevel !== this.stage.zoom) return true;\n      if (!this.firstUpdateComplete) return true;\n      return this.list.modified;\n    }\n\n    update() {\n      if (!this.shouldUpdate()) {\n        return;\n      }\n\n      if (this.lastZoomLevel !== this.stage.zoom) {\n        this.contentEl.scrollTop *= this.stage.zoom / this.lastZoomLevel;\n      }\n      this.list.modified = false;\n      this.lastZoomLevel = this.stage.zoom;\n      this.firstUpdateComplete = true;\n\n      this.updateList();\n\n      const bottomLabelText = this.getBottomLabel();\n      if (this.bottomLabelEl.textContent !== bottomLabelText) {\n        this.bottomLabelEl.textContent = this.getBottomLabel();\n      }\n    }\n\n    updateList() {\n      // Temporary hack to fix setZoom() calling updateList() on invisible lists, causing _rowHeight to be invalid.\n      if (!this.visible && this._rowHeight === -1) {\n        return;\n      }\n\n      const height = this.list.length * this.getRowHeight() * this.stage.zoom;\n      this.endpointEl.style.transform = 'translateY(' + height + 'px)';\n\n      const topVisible = this.scrollTop;\n      const bottomVisible = topVisible + this.getContentHeight();\n\n      let startingIndex = Math.floor(topVisible / this.getRowHeight());\n      let endingIndex = Math.ceil(bottomVisible / this.getRowHeight());\n\n      if (this.scrollDirection === ScrollDirection.Down) {\n        startingIndex -= this.scrollBack;\n        endingIndex += this.scrollAhead;\n      } else {\n        startingIndex -= this.scrollAhead;\n        endingIndex += this.scrollBack;\n      }\n\n      if (startingIndex < 0) startingIndex = 0;\n      if (endingIndex > this.list.length - 1) endingIndex = this.list.length - 1;\n\n      // Sanity checks:\n      // Cap ourselves at 50 rows on screen.\n      if (endingIndex - startingIndex > 50) {\n        endingIndex = startingIndex + 50;\n      }\n\n      const visibleRows = endingIndex - startingIndex;\n      while (this.rows.length <= visibleRows) {\n        this.addRow();\n      }\n      for (var listIndex = startingIndex, rowIndex = 0; listIndex <= endingIndex; listIndex++, rowIndex++) {\n        let row = this.rows[rowIndex];\n        row.setIndex(listIndex);\n        row.setValue(this.list[listIndex]);\n        row.setY(listIndex * this._rowHeight * this.stage.zoom);\n        row.setVisible(true);\n      }\n      while (rowIndex < this.rows.length) {\n        this.rows[rowIndex].setVisible(false);\n        rowIndex++;\n      }\n    }\n\n    init() {\n      super.init();\n      const target = this.target as Target;\n      const listId = this.id;\n      const listName = target.listIds[listId];\n      if (!(listName in this.target.lists)) {\n        // Create the list if it doesn't exist.\n        // It might be better to mark ourselves as invalid instead, but this works just fine.\n        this.target.lists[listName] = createList();\n      }\n      this.list = this.target.lists[listName] as Scratch3List;\n      this.target.listWatchers[listName] = this;\n      if (this.visible) {\n        this.updateLayout();\n      }\n    }\n\n    getTopLabel(): string {\n      if (this.target.isStage) {\n        return this.params.LIST;\n      }\n      return this.target.name + ': ' + this.params.LIST;\n    }\n    getBottomLabel(): string {\n      return 'length ' + this.list.length;\n    }\n\n    getContentHeight(): number {\n      if (this._contentHeight === -1) {\n        this._contentHeight = this.contentEl.offsetHeight;\n      }\n      return this._contentHeight;\n    }\n\n    getRowHeight(): number {\n      if (this._rowHeight === -1) {\n        // Space between each row, in pixels.\n        const PADDING = 2;\n        if (this.rows.length === 0) {\n          this.addRow();\n        }\n        const height = this.rows[0].element.offsetHeight / this.stage.zoom;\n        if (height === 0) {\n          // happens sometimes when list is updated but not actually visible, make sure not to cache the result in this case\n          return 0;\n        }\n        this._rowHeight = height + PADDING;\n      }\n      return this._rowHeight;\n    }\n\n    addRow(): ListWatcherRow {\n      const row = new ListWatcherRow();\n      this.rows.push(row);\n      this.contentEl.appendChild(row.element);\n      return row;\n    }\n\n    updateLayout() {\n      if (!this.containerEl) {\n        if (!this.visible) {\n          // if the element doesn't exist, we have no reason to create it\n          return;\n        }\n        this.createLayout();\n      }\n      this.containerEl.style.display = this.visible ? '' : 'none';\n    }\n\n    setVisible(visible: boolean) {\n      super.setVisible(visible);\n      this.updateLayout();\n    }\n\n    createLayout() {\n      this.containerEl = document.createElement('div');\n      this.topLabelEl = document.createElement('div');\n      this.bottomLabelEl = document.createElement('div');\n      this.middleContainerEl = document.createElement('div');\n      this.contentEl = document.createElement('div');\n\n      this.containerEl.style.top = (this.y / 10) + 'em';\n      this.containerEl.style.left = (this.x / 10) + 'em';\n      this.containerEl.style.height = (this.height / 10) + 'em';\n      this.containerEl.style.width = (this.width / 10) + 'em';\n      this.containerEl.classList.add('s3-list-container');\n\n      // fix https://github.com/forkphorus/forkphorus/issues/195\n      this.containerEl.onmousedown = (e) => e.stopPropagation();\n      this.containerEl.ontouchstart = (e) => e.stopPropagation();\n\n      this.topLabelEl.textContent = this.getTopLabel();\n      this.topLabelEl.classList.add('s3-list-top-label');\n\n      this.bottomLabelEl.textContent = this.getBottomLabel();\n      this.bottomLabelEl.classList.add('s3-list-bottom-label');\n\n      this.middleContainerEl.classList.add('s3-list-content');\n\n      this.contentEl.classList.add('s3-list-rows');\n      this.contentEl.addEventListener('scroll', (e) => {\n        const scrollTop = this.contentEl.scrollTop / this.stage.zoom;\n        const scrollChange = this.scrollTop - scrollTop;\n        if (scrollChange < 0) {\n          this.scrollDirection = ScrollDirection.Down;\n        } else if (scrollChange > 0) {\n          this.scrollDirection = ScrollDirection.Up;\n        }\n        this.scrollTop = scrollTop;\n        this.updateList();\n      });\n\n      this.endpointEl = document.createElement('div');\n      this.endpointEl.className = 's3-list-endpoint';\n      this.contentEl.appendChild(this.endpointEl);\n\n      this.middleContainerEl.appendChild(this.contentEl);\n      this.containerEl.appendChild(this.topLabelEl);\n      this.containerEl.appendChild(this.middleContainerEl);\n      this.containerEl.appendChild(this.bottomLabelEl);\n      this.stage.ui.appendChild(this.containerEl);\n    }\n  }\n\n  // Implements a Scratch 3 procedure.\n  // Scratch 3 uses names as references for arguments (Scratch 2 uses indexes I believe)\n  export class Scratch3Procedure extends P.core.Procedure {\n    call(inputs: any[]) {\n      const args = {};\n      for (var i = 0; i < this.inputs.length; i++) {\n        args[this.inputs[i]] = inputs[i];\n      }\n      return args;\n    }\n  }\n\n  export interface Scratch3List extends Array<any> {\n    modified: boolean;\n  }\n\n  export function createList(): Scratch3List {\n    const list = [] as any as Scratch3List;\n    list.modified = false;\n    list.toString = function() {\n      var i = this.length;\n      while (i--) {\n        if (('' + this[i]).length !== 1) {\n          return this.join(' ');\n        }\n      }\n      return this.join('');\n    };\n    return list;\n  }\n\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n\n  /**\n   * Convert an SVG with an improper or missing namespace to a proper namespaced SVG\n   * @param svg An SVG with an improper or missing namespace\n   */\n  function fixSVGNamespace(svg: SVGSVGElement): SVGSVGElement {\n    // To fix the namespace, we create a new SVG and copy its content.\n    // Create the SVG in a new document to avoid XSS\n    const newDocument = document.implementation.createHTMLDocument();\n    const newSVG = newDocument.createElementNS(SVG_NAMESPACE, 'svg');\n    for (const attribute of svg.attributes) {\n      newSVG.setAttribute(attribute.name, attribute.value);\n    }\n    newSVG.innerHTML = svg.innerHTML;\n    return newSVG;\n  }\n\n  /**\n   * Patches and modifies an SVG element to make it function properly in the forkphorus environment.\n   */\n  function patchSVG(svg: SVGSVGElement, costumeOptions: P.core.CostumeOptions): SVGSVGElement {\n    // Fix missing namespace\n    const invalidNamespace = svg.namespaceURI !== SVG_NAMESPACE;\n    if (invalidNamespace) {\n      svg = fixSVGNamespace(svg);\n\n      // fix some edge case SVGs\n      // this could apply to any SVG with or without a namespace, but right now we only do this on projects that are missing a namespace\n      // (they tend to be more likely to be invalid)\n      // https://github.com/forkphorus/forkphorus/issues/210\n      // https://forkphorus.github.io/#374570920\n      if (svg.firstElementChild && svg.firstElementChild.tagName !== 'g') {\n        // create a new <g> (group) and transform\n        // translate the SVG to fix the center\n        const width = svg.width.baseVal;\n        const height = svg.height.baseVal;\n        if (width.unitType !== width.SVG_LENGTHTYPE_PERCENTAGE && height.unitType !== width.SVG_LENGTHTYPE_PERCENTAGE) {\n          const group = document.createElementNS(SVG_NAMESPACE, 'g');\n          const transform = svg.createSVGTransform();\n          for (const el of svg.children) {\n            group.appendChild(el);\n          }\n          transform.setTranslate(-width.value / 2, height.value / 2);\n          group.transform.baseVal.appendItem(transform);\n          costumeOptions.rotationCenterX -= width.value / 2;\n          costumeOptions.rotationCenterY += height.value / 2;\n          svg.appendChild(group);\n        }\n      }\n    }\n\n    // Special treatment for the viewBox attribute\n    if (svg.hasAttribute('viewBox')) {\n      const viewBox = svg.getAttribute('viewBox')!.split(/ |,/).map((i) => +i);\n      if (viewBox.every((i) => !isNaN(i)) && viewBox.length === 4) {\n        const [ x, y, w, h ] = viewBox;\n        // Fix width/height to include the viewBox min x/y\n        const width = Math.max(1, w + x);\n        const height = Math.max(1, h + y);\n        svg.setAttribute('width', width.toString());\n        svg.setAttribute('height', height.toString());\n      } else {\n        console.warn('weird viewBox', svg.getAttribute('viewBox'));\n      }\n      svg.removeAttribute('viewBox');\n    }\n\n    // Search for used fonts\n    const textElements = svg.querySelectorAll('text');\n    const usedFonts: string[] = [];\n    const addFont = (font: string) => {\n      if (usedFonts.indexOf(font) === -1) {\n        usedFonts.push(font);\n      }\n    };\n    for (var i = 0; i < textElements.length; i++) {\n      const el = textElements[i];\n      let fonts = (el.getAttribute('font-family') || '')\n        .split(',')\n        .map((i) => i.trim());\n      let found = false;\n      for (const family of fonts) {\n        if (P.fonts.scratch3[family]) {\n          found = true;\n          addFont(family);\n          break;\n        } else if (family === 'sans-serif') {\n          found = true;\n          // We let the system handle their respective 'sans-serif' fonts\n          // This is different from Scratch's 'Sans Serif' font.\n          // https://scratch.mit.edu/projects/319138929/\n          break;\n        }\n      }\n      if (!found) {\n        console.warn('unknown fonts', fonts);\n        const font = 'Sans Serif';\n        addFont(font);\n        el.setAttribute('font-family', font);\n      }\n    }\n    P.fonts.addFontRules(svg, usedFonts);\n\n    // Disable image interpolation\n    let style = document.createElement(\"style\");\n    let css = \"image { image-rendering: pixelated; }\";\n    style.appendChild(document.createTextNode(css));\n    svg.appendChild(style);\n\n    return svg;\n  }\n\n  // Implements base SB3 loading logic.\n  // Needs to be extended to add file loading methods.\n  // Implementations are expected to set `this.projectData` to something before calling super.load()\n  export abstract class BaseSB3Loader extends P.io.Loader<P.core.Stage> {\n    protected projectData: SB3Project;\n    private needsMusic: boolean = false;\n\n    protected abstract getAsText(path: string): Promise<string>;\n    protected abstract getAsArrayBuffer(path: string): Promise<ArrayBuffer>;\n    protected abstract getAsImage(path: string, format: string): Promise<HTMLImageElement>;\n\n    getSVG(path: string, costumeOptions: P.core.CostumeOptions): Promise<HTMLImageElement> {\n      return this.getAsText(path)\n        .then((source) => {\n          const parser = new DOMParser();\n          const doc = parser.parseFromString(source, 'image/svg+xml');\n          const svg = patchSVG(doc.documentElement as any, costumeOptions);\n\n          return new Promise((resolve, reject) => {\n            const image = new Image();\n            image.onload = (e) => {\n              resolve(image);\n            };\n            image.onerror = (e) => {\n              reject(new Error('Failed to load SVG: ' + path));\n            };\n            image.src = 'data:image/svg+xml,' + encodeURIComponent(new XMLSerializer().serializeToString(svg));\n          });\n        });\n    }\n\n    getBitmapImage(path: string, format: string): Promise<HTMLImageElement> {\n      return this.getAsImage(path, format);\n    }\n\n    loadCostume(data: SB3Costume, index: number): Promise<P.core.Costume> {\n      const path = data.assetId + '.' + data.dataFormat;\n      const costumeOptions = {\n        name: data.name,\n        bitmapResolution: data.bitmapResolution || 1,\n        rotationCenterX: data.rotationCenterX,\n        rotationCenterY: data.rotationCenterY,\n      };\n      if (data.dataFormat === 'svg') {\n        return this.getSVG(path, costumeOptions)\n          .then((svg) => new P.core.VectorCostume(svg, costumeOptions));\n      } else {\n        return this.getBitmapImage(path, data.dataFormat)\n          .then((image) => new P.core.BitmapCostume(image, costumeOptions));\n      }\n    }\n\n    getAudioBuffer(path: string) {\n      return this.getAsArrayBuffer(path)\n        .then((buffer) => P.audio.decodeAudio(buffer))\n        .catch((err) => {\n          throw new Error(`Could not load audio: ${path} (${err})`);\n        });\n    }\n\n    loadSound(data: SB3Sound): Promise<P.core.Sound | null> {\n      return new Promise((resolve, reject) => {\n        this.getAudioBuffer(data.md5ext)\n          .then((buffer) => {\n            resolve(new P.core.Sound({\n              name: data.name,\n              buffer,\n            }))\n          })\n          .catch((err) => {\n            console.warn('Could not load sound: ' + err);\n            resolve(null);\n          });\n      });\n    }\n\n    loadWatcher(data: SB3Watcher, stage: Scratch3Stage): P.core.Watcher {\n      if (data.mode === 'list') {\n        return new Scratch3ListWatcher(stage, data);\n      }\n\n      return new Scratch3VariableWatcher(stage, data);\n    }\n\n    loadTarget(data: SB3Target): Promise<Target> {\n      // dirty hack for null stage\n      const target = new (data.isStage ? Scratch3Stage : Scratch3Sprite)(null as any);\n\n      for (const id of Object.keys(data.variables)) {\n        const variable = data.variables[id];\n        const name = variable[0];\n        const value = variable[1];\n        if (variable.length > 2) {\n          const cloud = variable[2];\n          if (cloud) {\n            if (data.isStage) {\n              (target as Scratch3Stage).cloudVariables.push(name);\n            } else {\n              console.warn('Cloud variable found on a non-stage object. Skipping.');\n            }\n          }\n        }\n        target.vars[name] = value;\n        target.varIds[id] = name;\n      }\n\n      for (const id of Object.keys(data.lists)) {\n        const list = data.lists[id];\n        const name = list[0];\n        const content = list[1];\n        // There are some cases where projects has multiple lists of the same name, different ID\n        // To avoid issues caused by that, we will give the first definition precedence over later definitions.\n        if (target.lists[name]) {\n          continue;\n        }\n        const scratchList = createList();\n        for (var i = 0; i < content.length; i++) {\n          scratchList[i] = content[i];\n        }\n        target.lists[name] = scratchList;\n        target.listIds[id] = name;\n      }\n\n      target.name = data.name;\n      target.currentCostumeIndex = data.currentCostume;\n      if ('volume' in data) {\n        target.volume = data.volume / 100;\n      }\n      target.sb3data = data;\n\n      if (target.isStage) {\n\n      } else {\n        const sprite = target as Scratch3Sprite;\n        sprite.scratchX = data.x;\n        sprite.scratchY = data.y;\n        sprite.visible = data.visible;\n        sprite.direction = data.direction;\n        sprite.scale = data.size / 100;\n        sprite.isDraggable = data.draggable;\n        sprite.rotationStyle = P.utils.parseRotationStyle(data.rotationStyle);\n      }\n\n      const costumesPromise = Promise.all<P.core.Costume>(data.costumes.map((c: any, i: any) => this.loadCostume(c, i)));\n      const soundsPromise = Promise.all<P.core.Sound | null>(data.sounds.map((c) => this.loadSound(c)));\n\n      return Promise.all([costumesPromise, soundsPromise])\n        .then((result) => {\n          const costumes = result[0];\n          const sounds = result[1];\n\n          target.costumes = costumes;\n          sounds.forEach((sound) => sound && target.addSound(sound));\n\n          return target;\n        });\n    }\n\n    loadRequiredAssets() {\n      return Promise.all([\n        this.loadFonts(),\n      ]);\n    }\n\n    loadSoundbank() {\n      return P.audio.loadSoundbankSB2(this);\n    }\n\n    loadFonts() {\n      const promises: Promise<unknown>[] = [];\n      for (const family in P.fonts.scratch3) {\n        const promise = P.utils.settled(P.fonts.loadLocalFont(family, P.fonts.scratch3[family]));\n        promises.push(promise);\n        this.addTask(new P.io.PromiseTask(promise));\n      }\n      return Promise.all(promises);\n    }\n\n    compileTargets(targets: Target[], stage: P.core.Stage): void {\n      if (P.config.debug) {\n        console.time('Scratch 3 compile');\n      }\n      for (const target of targets) {\n        const compiler = new P.sb3.compiler.Compiler(target);\n        compiler.compile();\n        if (compiler.needsMusic) {\n          this.needsMusic = true;\n        }\n      }\n      if (P.config.debug) {\n        console.timeEnd('Scratch 3 compile');\n      }\n    }\n\n    async load() {\n      if (!this.projectData) {\n        throw new Error('Project data is missing or invalid');\n      }\n      if (!Array.isArray(this.projectData.targets)) {\n        throw new Error('Invalid project data: missing targets');\n      }\n\n      await this.loadRequiredAssets();\n\n      this.resetTasks();\n      const targets = await Promise.all(this.projectData.targets\n        .sort((a, b) => a.layerOrder - b.layerOrder)\n        .map((data) => this.loadTarget(data))\n      );\n\n      if (this.aborted) {\n        throw new Error('Loading aborting.');\n      }\n\n      const stage = targets.filter((i) => i.isStage)[0] as Scratch3Stage;\n      if (!stage) {\n        throw new Error('Project does not have a Stage');\n      }\n      const sprites = targets.filter((i) => i.isSprite) as Scratch3Sprite[];\n      sprites.forEach((sprite) => sprite.stage = stage);\n      stage.children = sprites;\n\n      if (this.projectData.monitors) {\n        stage.allWatchers = this.projectData.monitors\n          .map((data) => this.loadWatcher(data, stage))\n          .filter((i) => i && i.valid);\n        stage.allWatchers.forEach((watcher) => watcher.init());\n      }\n\n      this.compileTargets(targets, stage);\n\n      if (this.needsMusic) {\n        await this.loadSoundbank();\n      }\n\n      // projectData is now unused and can be removed. This reduces memory usage\n      this.projectData = null as any;\n\n      return stage;\n    }\n  }\n\n  // Loads a .sb3 file\n  export class SB3FileLoader extends BaseSB3Loader {\n    private buffer: ArrayBuffer;\n    private zip: JSZip;\n\n    constructor(buffer: ArrayBuffer) {\n      super();\n      this.buffer = buffer;\n    }\n\n    getAsText(path: string) {\n      const task = this.addTask(new P.io.Manual());\n      const file = this.zip.file(path);\n      if (!file) {\n        throw new Error('cannot find file as text: ' + path);\n      }\n      return file.async('text')\n        .then((response) => {\n          task.markComplete();\n          return response;\n        });\n    }\n\n    getAsArrayBuffer(path: string) {\n      const task = this.addTask(new P.io.Manual());\n      const file = this.zip.file(path);\n      if (!file) {\n        throw new Error('cannot find file as arraybuffer: ' + path);\n      }\n      return file.async('arraybuffer')\n        .then((response) => {\n          task.markComplete();\n          return response;\n        });\n    }\n\n    getAsBase64(path: string) {\n      const task = this.addTask(new P.io.Manual());\n      const file = this.zip.file(path);\n      if (!file) {\n        throw new Error('cannot find file as base64: ' + path);\n      }\n      return file.async('base64')\n        .then((response) => {\n          task.markComplete();\n          return response;\n        });\n    }\n\n    getAsImage(path: string, format: string) {\n      const task = this.addTask(new P.io.Manual());\n      return this.getAsBase64(path)\n        .then((imageData) => {\n          return new Promise<HTMLImageElement>((resolve, reject) => {\n            const image = new Image();\n            image.onload = () => {\n              task.markComplete();\n              resolve(image);\n            };\n            image.onerror = (error) => {\n              reject(new Error('Failed to load image: ' + path + '.' + format));\n            };\n            image.src = 'data:image/' + format + ';base64,' + imageData;\n          });\n        });\n    }\n\n    load() {\n      return JSZip.loadAsync(this.buffer)\n        .then((data) => {\n          this.zip = data;\n          return this.getAsText('project.json');\n        })\n        .then((project) => {\n          this.projectData = JSON.parse(project);\n        })\n        .then(() => super.load());\n    }\n  }\n\n  // Loads a Scratch 3 project from the scratch.mit.edu website\n  // Uses either a loaded project.json or its ID\n  export class Scratch3Loader extends BaseSB3Loader {\n    private projectId: number | null;\n\n    constructor(idOrData: number | SB3Project) {\n      super();\n      if (typeof idOrData === 'object') {\n        this.projectData = idOrData;\n        this.projectId = null;\n      } else {\n        this.projectId = idOrData;\n      }\n    }\n\n    getAsText(path: string) {\n      return this.addTask(new P.io.Request(ASSETS_API.replace('$md5ext', path))).load('text');\n    }\n\n    getAsArrayBuffer(path: string) {\n      return this.addTask(new P.io.Request(ASSETS_API.replace('$md5ext', path))).load('arraybuffer');\n    }\n\n    getAsImage(path: string) {\n      return this.addTask(new P.io.Img(ASSETS_API.replace('$md5ext', path))).load();\n    }\n\n    load() {\n      if (this.projectId) {\n        return this.addTask(new P.io.Request(P.config.PROJECT_API.replace('$id', '' + this.projectId))).load('json')\n          .then((data) => {\n            this.projectData = data;\n            return super.load();\n          });\n      } else {\n        return super.load();\n      }\n    }\n  }\n}\n\n/**\n * The Scratch 3 compiler.\n */\nnamespace P.sb3.compiler {\n  import Fn = P.runtime.Fn;\n\n  /**\n   * Asserts at compile-time that a value is of the type `never`\n   */\n  function assertNever(i: never): never {\n    throw new Error('Compile-time assertNever failed.');\n  }\n\n  // IDs of native types\n  // https://github.com/LLK/scratch-vm/blob/36fe6378db930deb835e7cd342a39c23bb54dd72/src/serialization/sb3.js#L60-L79\n  const enum NativeTypes {\n    MATH_NUM = 4,\n    POSITIVE_NUM = 5,\n    WHOLE_NUM = 6,\n    INTEGER_NUM = 7,\n    ANGLE_NUM = 8,\n    COLOR_PICKER = 9,\n    TEXT = 10,\n    BROADCAST = 11,\n    VAR = 12,\n    LIST = 13,\n  }\n\n  export const enum InputFlags {\n    NaN = 1,\n  }\n\n  /**\n   * JS code with an associated type.\n   * Returns the source when stringified, making the raw type safe to use in concatenation.\n   */\n  export class CompiledInput {\n    /**\n     * Whether this input could potentially be a number-like object at runtime.\n     * A value may be a potential number if:\n     *  - it is a number\n     *  - it is a boolean\n     *  - it is a string that represents a number or a boolean\n     */\n    public potentialNumber: boolean = true;\n    private flags: number = 0;\n\n    constructor(public source: string, public type: InputType) {\n\n    }\n\n    enableFlag(flag: number): void {\n      this.flags |= flag;\n    }\n\n    hasFlag(flag: number): boolean {\n      return (this.flags & flag) !== 0;\n    }\n\n    toString(): string {\n      return this.source;\n    }\n  }\n\n  // Shorter CompiledInput aliases\n  const stringInput = (v: string) => new CompiledInput(v, 'string');\n  const numberInput = (v: string) => new CompiledInput(v, 'number');\n  const booleanInput = (v: string) => new CompiledInput(v, 'boolean');\n  const anyInput = (v: string) => new CompiledInput(v, 'any');\n\n  /**\n   * A compiler for a statement.\n   * A statement is something like \"move ( ) steps\"\n   * @param util Use the methods of the utility class to write the body.\n   */\n  export type StatementCompiler = (util: StatementUtil) => void\n\n  /**\n   * A compiler for an input.\n   * An input is something like the \"10\" in \"move (10) steps\"\n   */\n  export type InputCompiler = (util: InputUtil) => CompiledInput;\n\n  /**\n   * A compiler for a hat block.\n   */\n  export interface HatCompiler {\n    /**\n     * The handler that is responsible for installing the compiled functions\n     */\n    handle(util: HatUtil): void;\n    /**\n     * Optionally make changes to the script's source before it is compiled away into functions.\n     */\n    postcompile?(compiler: Compiler, source: string, hat: SB3Block): string;\n    /**\n     * Optionally handle what happens before compilation begins.\n     * The result of this will be added to the script's source before the script begins.\n     */\n    precompile?(compiler: Compiler, hat: SB3Block): string;\n  };\n\n  export type InputType = 'string' | 'boolean' | 'number' | 'any' | 'list' | 'color';\n\n  /**\n   * General block generation utilities.\n   */\n  export class BlockUtil {\n    constructor(public compiler: Compiler, public block: SB3Block) {\n\n    }\n\n    get target() {\n      return this.compiler.target;\n    }\n\n    get stage() {\n      return this.compiler.target.stage;\n    }\n\n    /**\n     * Compile an input, and give it a type.\n     */\n    getInput(name: string, type: InputType): CompiledInput {\n      return this.compiler.compileInput(this.block, name, type);\n    }\n\n    /**\n     * Compile a field. Results are unescaped strings and unsafe to include in a script.\n     */\n    getField(name: string): string {\n      return this.compiler.getField(this.block, name);\n    }\n\n    /**\n     * Get and sanitize a field.\n     */\n    fieldInput(name: string): CompiledInput {\n      return this.sanitizedInput(this.getField(name));\n    }\n\n    /**\n     * Sanitize an unescaped string into an input.\n     */\n    sanitizedInput(string: string): CompiledInput {\n      return this.compiler.sanitizedInput(string);\n    }\n\n    /**\n     * Sanitize an unescaped string for inclusion in a script.\n     */\n    sanitizedString(string: string): string {\n      return this.compiler.sanitizedString(string);\n    }\n\n    /**\n     * Gets a field's reference to a variable.\n     */\n    getVariableReference(field: string): string {\n      return this.compiler.getVariableReference(this.compiler.getVariableField(this.block, field));\n    }\n\n    /**\n     * Gets a field's reference to a list.\n     */\n    getListReference(field: string) {\n      return this.compiler.getListReference(this.compiler.getVariableField(this.block, field));\n    }\n\n    /**\n     * Gets the scope of a field's reference to a variable.\n     */\n    getVariableScope(field: string): string {\n      return this.compiler.findVariable(this.compiler.getVariableField(this.block, field)).scope;\n    }\n\n    /**\n     * Determine whether a variable is a cloud variable.\n     */\n    isCloudVariable(field: string): boolean {\n      return this.target.stage.cloudVariables.indexOf(this.getField(field)) > -1;\n    }\n\n    /**\n     * Gets the scope of a field's reference to a list.\n     */\n    getListScope(field: string): string {\n      return this.compiler.findList(this.compiler.getVariableField(this.block, field)).scope;\n    }\n\n    /**\n     * Forcibly converts JS to another type.\n     */\n    asType(input: string, type: InputType): string {\n      return this.compiler.asType(input, type)\n    }\n\n    /**\n     * Evaluate a compiled input.\n     * May throw if there is an error evaluating the input.\n     * As the input is always evaluated once, changes will not be reflected.\n     * The input will have access to runtime objects and data, including the target sprite and runtime methods.\n     * @param input The input to evaluate.\n     */\n    evaluateInputOnce(input: CompiledInput): any {\n      const fn = P.runtime.scopedEval(`(function() { return ${input}; })`);\n      return this.target.stage.runtime.evaluateExpression(this.target, fn);\n    }\n  }\n\n  /**\n   * General statement generation utilities.\n   */\n  export class StatementUtil extends BlockUtil {\n    public content: string = '';\n    public substacksQueue: boolean = false;\n\n    /**\n     * Compile a substack.\n     */\n    getSubstack(name: string): string {\n      const labelsBefore = this.compiler.labelCount;\n      const substack = this.compiler.compileSubstackInput(this.block, name);\n      if (this.compiler.labelCount !== labelsBefore) {\n        this.substacksQueue = true;\n      }\n      return substack;\n    }\n\n    /**\n     * Gets the next label ID ready for use. The ID is unique and will cannot be reused.\n     */\n    claimNextLabel(): number {\n      return this.compiler.labelCount++;\n    }\n\n    /**\n     * Create a new label at this location. A label ID will be created if none is supplied.\n     */\n    addLabel(label?: number): number {\n      if (!label) {\n        label = this.claimNextLabel();\n      }\n      // We'll use special syntax to denote this spot as a label.\n      // It'll be cleaned up later in compilation.\n      // Interestingly, this is actually valid JavaScript, so cleanup isn't strictly necessary.\n      this.write(`{{${label}}}`);\n      return label;\n    }\n\n    /**\n     * Writes the queue() method to call a label.\n     */\n    queue(label: number): void {\n      this.writeLn(`queue(${label}); return;`);\n    }\n\n    /**\n     * Writes the forceQueue() method to call a label.\n     */\n    forceQueue(label: number): void {\n      this.writeLn(`forceQueue(${label}); return;`);\n    }\n\n    /**\n     * Writes an appropriate VISUAL check\n     */\n    visual(variant: 'drawing' | 'visible' | 'always'): void {\n      switch (variant) {\n        case 'drawing': this.writeLn('if (S.visible || S.isPenDown) VISUAL = true;'); break;\n        case 'visible': this.writeLn('if (S.visible) VISUAL = true;'); break;\n        case 'always': this.writeLn('VISUAL = true;'); break;\n        default: assertNever(variant);\n      }\n    }\n\n    /**\n     * Update the speech bubble, if any.\n     */\n    updateBubble() {\n      this.writeLn('if (S.saying) S.updateBubble()');\n    }\n\n    /**\n     * Write JS to pause script execution until a Promise is settled (regardless of resolve/reject)\n     */\n    waitUntilSettles(source: string): void {\n      this.writeLn('save();');\n      this.writeLn('R.resume = false;');\n      this.writeLn('var localR = R;');\n      this.writeLn(`${source}`);\n      this.writeLn('  .then(function() { localR.resume = true; })');\n      this.writeLn('  .catch(function() { localR.resume = true; });');\n      const label = this.addLabel();\n      this.writeLn('if (!R.resume) {');\n      this.forceQueue(label);\n      this.writeLn('}');\n      this.writeLn('restore();');\n    }\n\n    /**\n     * Write JS to pause script execution for one tick.\n     */\n    waitOneTick() {\n      this.writeLn('save();');\n      this.writeLn('R.start = runtime.currentMSecs;');\n      const label = this.addLabel();\n      this.writeLn('if (runtime.currentMSecs === R.start) {');\n      this.forceQueue(label);\n      this.writeLn('}');\n      this.writeLn('restore();');\n    }\n\n    /**\n     * Append to the content\n     */\n    write(content: string): void {\n      this.content += content;\n    }\n\n    /**\n     * Append to the content, followed by a newline.\n     */\n    writeLn(content: string): void {\n      this.content += content + '\\n';\n    }\n  }\n\n  /**\n   * General input generation utilities.\n   */\n  export class InputUtil extends BlockUtil {\n    numberInput(v: string) { return numberInput(v); }\n    stringInput(v: string) { return stringInput(v); }\n    booleanInput(v: string) { return booleanInput(v); }\n    anyInput(v: string) { return anyInput(v); }\n  }\n\n  /**\n   * General hat handling utilities.\n   */\n  export class HatUtil extends BlockUtil {\n    constructor(compiler: Compiler, block: SB3Block, public startingFunction: Fn) {\n      super(compiler, block);\n    }\n  }\n\n  /**\n   * A value that can be watched by a variable watcher.\n   */\n  export interface WatchedValue {\n    /**\n     * Initializes the watcher.\n     */\n    init?(watcher: P.sb3.Scratch3VariableWatcher): void;\n    /**\n     * Sets the value of the watcher to a new number.\n     */\n    set?(watcher: P.sb3.Scratch3VariableWatcher, value: number): void;\n    /**\n     * Evaluates the current value of the watcher. Called every visible frame.\n     */\n    evaluate(watcher: P.sb3.Scratch3VariableWatcher): any;\n    /**\n     * Determines the label to display in the watcher. Called once during initialization (after init)\n     */\n    getLabel(watcher: P.sb3.Scratch3VariableWatcher): string;\n  }\n\n  interface CompilerState {\n    isWarp: boolean;\n    isProcedure: boolean;\n    argumentNames: string[];\n  }\n\n  // Block definitions\n  export const statementLibrary: ObjectMap<StatementCompiler> = Object.create(null);\n  export const inputLibrary: ObjectMap<InputCompiler> = Object.create(null);\n  export const hatLibrary: ObjectMap<HatCompiler> = Object.create(null);\n  export const watcherLibrary: ObjectMap<WatchedValue> = Object.create(null);\n\n  const safeNumberToString = (n: number): string => {\n    // -0 toString() returns \"0\"\n    if (Object.is(n, -0)) {\n      return '-0';\n    }\n    return n.toString();\n  };\n\n  /**\n   * The new compiler for Scratch 3 projects.\n   */\n  export class Compiler {\n    /**\n     * The Stage or Sprite to compile.\n     */\n    public target: Target;\n    /**\n     * The raw .sb3 data for this target.\n     */\n    public data: SB3Target;\n    /**\n     * The blocks of this target.\n     */\n    public blocks: ObjectMap<SB3Block>;\n    /**\n     * Total number of labels created by this compiler.\n     */\n    public labelCount: number = 0;\n    /**\n     * Compilation state metadata.\n     */\n    public state: CompilerState;\n    /**\n     * Whether the compiled scripts depend on music assets to exist.\n     */\n    public needsMusic: boolean = false;\n    /**\n     * Set of the names of all costumes and sounds in the sprite.\n     */\n    public costumeAndSoundNames: Set<string> = new Set();\n\n    constructor(target: Target) {\n      this.target = target;\n      this.data = target.sb3data;\n      this.blocks = this.data.blocks;\n      for (const costume of target.costumes) {\n        this.costumeAndSoundNames.add(costume.name);\n      }\n      for (const sound of target.sounds) {\n        this.costumeAndSoundNames.add(sound.name);\n      }\n    }\n\n    /**\n     * Gets the IDs of all hat blocks.\n     */\n    getHatBlocks(): string[] {\n      return Object.keys(this.blocks)\n        .filter((i) => this.blocks[i].topLevel);\n    }\n\n    /**\n     * Get the compiler for a statement\n     */\n    getStatementCompiler(opcode: string): StatementCompiler | null {\n      if (statementLibrary[opcode]) {\n        return statementLibrary[opcode];\n      }\n      return null;\n    }\n\n    /**\n     * Get the compiler for an input\n     */\n    getInputCompiler(opcode: string): InputCompiler | null {\n      if (inputLibrary[opcode]) {\n        return inputLibrary[opcode];\n      }\n      return null;\n    }\n\n    /**\n     * Get the compiler for a hat\n     */\n    getHatCompiler(opcode: string): HatCompiler | null {\n      if (hatLibrary[opcode]) {\n        return hatLibrary[opcode];\n      }\n      return null;\n    }\n\n    /**\n     * Gets the default value to use for a missing input.\n     */\n    getInputFallback(type: InputType): string {\n      switch (type) {\n        case 'number': return '0';\n        case 'boolean': return 'false';\n        case 'string': return '\"\"';\n        case 'any': return '\"\"';\n        case 'list': return '\"\"';\n        case 'color': return '0';\n      }\n      assertNever(type);\n    }\n\n    /**\n     * Applies type coercions to JS to forcibly change it's type.\n     */\n    asType(input: string, type: InputType): string {\n      switch (type) {\n        case 'string': return '(\"\" + ' + input + ')';\n        case 'number': return '(+' + input + ' || 0)';\n        case 'boolean': return 'bool(' + input + ')';\n        case 'any': return input;\n        case 'list': throw new Error(\"Converting to 'list' type is not something you're supposed to do\");\n        case 'color': return 'parseColor(' + input + ')';\n      }\n      assertNever(type);\n    }\n\n    /**\n     * Converts a compiled input to another type, if necessary\n     */\n    convertInputType(input: CompiledInput, type: InputType): CompiledInput {\n      // If the types are already identical, no changes are necessary\n      if (input.type === type) {\n        // if the input could be NaN, number conversion is always required (NaN will be converted to 0)\n        if (type === 'number' && input.hasFlag(InputFlags.NaN)) {\n          return new CompiledInput('(' + input.source + ' || 0)', type);\n        }\n        return input;\n      }\n      // The 'any' type is a little bit special.\n      // When the input is of type 'list', we change the desired type to string to fix list stringification.\n      // In all other cases no action is necessary.\n      if (type === 'any') {\n        if (input.type === 'list') {\n          type = 'string';\n        } else {\n          return input;\n        }\n      }\n      return new CompiledInput(this.asType(input.source, type), type);\n    }\n\n    /**\n     * Sanitize a string into a CompiledInput\n     */\n    sanitizedInput(string: string): CompiledInput {\n      return stringInput(this.sanitizedString(string));\n    }\n\n    /**\n     * Sanitize a string for use in the runtime.\n     */\n    sanitizedString(string: string): string {\n      string = string\n        .replace(/\\\\/g, '\\\\\\\\')\n        .replace(/'/g, '\\\\\\'')\n        .replace(/\"/g, '\\\\\"')\n        .replace(/\\n/g, '\\\\n')\n        .replace(/\\r/g, '\\\\r')\n        .replace(/\\{/g, '\\\\x7b')\n        .replace(/\\}/g, '\\\\x7d');\n      return `\"${string}\"`;\n    }\n\n    /**\n     * Creates a sanitized block comment with the given contents.\n     */\n    sanitizedComment(content: string): string {\n      // just disallow the content from ending the comment, and everything should be fine.\n      content = content\n        .replace(/\\*\\//g, '');\n      return `/* ${content} */`;\n    }\n\n    /**\n     * Find the scope and name of a variable from its ID.\n     * The variable may be created if it does not exist.\n     */\n    findVariable({id, name}: {id: string, name: string}): { scope: string; name: string; } {\n      const stage = this.target.stage as Target;\n      if (stage.varIds.hasOwnProperty(id)) {\n        return { scope: 'self', name: stage.varIds[id] };\n      } else if (stage.vars.hasOwnProperty(name)) {\n        return { scope: 'self', name: name };\n      } else if (this.target.varIds.hasOwnProperty(id)) {\n        return { scope: 'S', name: this.target.varIds[id] };\n      } else if (this.target.vars.hasOwnProperty(name)) {\n        return { scope: 'S', name: name };\n      } else {\n        // Create missing variables in the sprite.\n        // We use the variable ID as the name, and store this in varIds for future lookups.\n        this.target.vars[id] = 0;\n        this.target.varIds[id] = id;\n        return { scope: 'S', name: id };\n      }\n    }\n\n    /**\n     * Find the scope and name of a list from its ID.\n     * The list may be created if it does not exist.\n     */\n    findList({id, name}: {id: string, name: string}): { scope: string; name: string; } {\n      const stage = this.target.stage as Target;\n      if (stage.listIds.hasOwnProperty(id)) {\n        return { scope: 'self', name: stage.listIds[id] };\n      } else if (stage.lists.hasOwnProperty(name)) {\n        return { scope: 'self', name: name };\n      } else if (this.target.listIds.hasOwnProperty(id)) {\n        return { scope: 'S', name: this.target.listIds[id] };\n      } else if (this.target.lists.hasOwnProperty(name)) {\n        return { scope: 'S', name: name };\n      } else {\n        // Create missing lists in the sprite.\n        // We use the list ID as the name, and store this in listIds for future lookups.\n        this.target.lists[id] = createList();\n        this.target.listIds[id] = id;\n        return { scope: 'S', name: id };\n      }\n    }\n\n    /**\n     * Gets the runtime reference to a variable.\n     */\n    getVariableReference({id, name}: {id: string, name: string}): string {\n      const varInfo = this.findVariable({id: id, name: name});\n      return `${varInfo.scope}.vars[${this.sanitizedString(varInfo.name)}]`;\n    }\n\n    /**\n     * Gets the runtime reference to a list.\n     */\n    getListReference({id, name}: {id: string, name: string}): string {\n      const listInfo = this.findList({id: id, name: name});\n      return `${listInfo.scope}.lists[${this.sanitizedString(listInfo.name)}]`;\n    }\n\n    /**\n     * Determine if a string literal could potentially become a number at runtime.\n     * May return false positives.\n     * @see CompiledInput\n     */\n    isStringLiteralPotentialNumber(text: string) {\n      return /\\d|true|false|Infinity/.test(text);\n    }\n\n    /**\n     * Determine whether text is the name of a costume or a sound.\n     */\n    isNameOfCostumeOrSound(text: string): boolean {\n      return this.costumeAndSoundNames.has(text);\n    }\n\n    /**\n     * Compile a native or primitive value.\n     */\n    compileNativeInput(native: any[], desiredType: InputType): CompiledInput {\n      const type = native[0];\n      switch (type) {\n        // These are all just types of numbers.\n        case NativeTypes.MATH_NUM:\n        case NativeTypes.POSITIVE_NUM:\n        case NativeTypes.WHOLE_NUM:\n        case NativeTypes.INTEGER_NUM:\n        case NativeTypes.ANGLE_NUM: {\n          // [type, value]\n          const number = +native[1];\n          if (isNaN(number) || desiredType === 'string') {\n            return this.sanitizedInput('' + native[1]);\n          }\n          return numberInput(safeNumberToString(number));\n        }\n\n        case NativeTypes.TEXT: {\n          // [type, value]\n          const value = native[1];\n          // Do not attempt any conversions if:\n          //  - desired type is string\n          //  - value does not appear to be number-like\n          //  - this is the name of a costume or sound (https://github.com/forkphorus/forkphorus/issues/264)\n          if (desiredType !== 'string' && /\\d|Infinity/.test(value) && !this.isNameOfCostumeOrSound(value)) {\n            const number = +value;\n            // If the stringification of the number is not the same as the original value, do not convert.\n            // This fixes issues where the stringification is used instead of the number itself.\n            // For example the number \"0123\" will end up \"123\" so reading the first letter of \"0123\" would return 1 instead of 0\n            if (number.toString() === value) {\n              if (!isNaN(number)) {\n                return numberInput(number.toString());\n              }\n            }\n          }\n          const input = this.sanitizedInput(native[1] + '');\n          input.potentialNumber = this.isStringLiteralPotentialNumber(native[1]);\n          return input;\n        }\n\n        case NativeTypes.VAR:\n          // [type, name, id]\n          return anyInput(this.getVariableReference({id: native[2], name: native[1]}));\n\n        case NativeTypes.LIST:\n          // [type, name, id]\n          return new CompiledInput(this.getListReference({id: native[2], name: native[1]}), 'list');\n\n        case NativeTypes.BROADCAST:\n          // [type, name, id]\n          return this.sanitizedInput(native[1]);\n\n        case NativeTypes.COLOR_PICKER: {\n          // [type, color]\n          // Color is a value like \"#abcdef\"\n          const color = native[1];\n          const rgb = P.utils.parseColor(color);\n          return new CompiledInput('' + rgb, 'color');\n        }\n\n        default:\n          this.warn('unknown native', type, native);\n          return stringInput('\"\"');\n      }\n    }\n\n    /**\n     * Compile an input of a block, and do any necessary type coercions.\n     */\n    compileInput(parentBlock: SB3Block, inputName: string, type: InputType): CompiledInput {\n      // Handling when the block does not contain an input entry.\n      if (!parentBlock.inputs || !parentBlock.inputs[inputName]) {\n        // This could be a sign of another issue, so log a warning.\n        this.warn('missing input', inputName);\n        return new CompiledInput(this.getInputFallback(type), type);\n      }\n\n      const input = parentBlock.inputs[inputName];\n\n      if (Array.isArray(input[1])) {\n        const native = input[1];\n        return this.convertInputType(this.compileNativeInput(native, type), type);\n      }\n\n      const inputBlockId = input[1];\n\n      // Handling null inputs where the input exists but is just empty.\n      // This is normal and happens very often.\n      if (!inputBlockId) {\n        return new CompiledInput(this.getInputFallback(type), type);\n      }\n\n      const inputBlock = this.blocks[inputBlockId];\n      if (!inputBlock) {\n        return new CompiledInput(this.getInputFallback(type), type);\n      }\n\n      const opcode = inputBlock.opcode;\n      const compiler = this.getInputCompiler(opcode);\n\n      // If we don't recognize this block, that's a problem.\n      if (!compiler) {\n        this.warn('unknown input', opcode, inputBlock);\n        return new CompiledInput(this.getInputFallback(type), type);\n      }\n\n      const util = new InputUtil(this, inputBlock);\n      let result = compiler(util);\n\n      if (P.config.debug) {\n        result.source = this.sanitizedComment(inputBlock.opcode) + result.source;\n      }\n\n      return this.convertInputType(result, type);\n    }\n\n    /**\n     * Get a field of a block.\n     */\n    getField(block: SB3Block, fieldName: string): string {\n      const value = block.fields[fieldName];\n      if (!value) {\n        // This could be a sign of another issue, so log a warning.\n        this.warn('missing field', fieldName);\n        return '';\n      }\n      return '' + value[0];\n    }\n\n    /**\n     * Get the value of a variable field of a block.\n     * @returns The variable ID\n     */\n    getVariableField(block: SB3Block, fieldName: string): {id: string; name: string} {\n      const value = block.fields[fieldName];\n      if (!value) {\n        // This could be a sign of another issue, so log a warning.\n        this.warn('missing variable field', fieldName);\n        return {id: '', name: ''};\n      }\n      return {id: '' + value[1], name: '' + value[0]};\n    }\n\n    /**\n     * Compile a script within a script.\n     */\n    compileSubstackInput(block: SB3Block, substackName: string): string {\n      // empty substacks are normal\n      if (!block.inputs[substackName]) {\n        return '';\n      }\n\n      const substack = block.inputs[substackName];\n      const type = substack[0];\n      const id = substack[1];\n\n      if (id === null) {\n        return '';\n      }\n\n      return this.compileStack(id);\n    }\n\n    /**\n     * Creates a fresh CompilerState\n     */\n    getNewState(): CompilerState {\n      return {\n        isWarp: false,\n        isProcedure: false,\n        argumentNames: []\n      };\n    }\n\n    /**\n     * Compile an entire script from a starting block.\n     */\n    compileStack(startingBlock: string): string {\n      let script = '';\n      let block = this.blocks[startingBlock];\n\n      while (true) {\n        var opcode = block.opcode;\n        const compiler = this.getStatementCompiler(opcode);\n\n        if (P.config.debug) {\n          script += this.sanitizedComment(block.opcode);\n        }\n\n        if (compiler) {\n          const util = new StatementUtil(this, block);\n          compiler(util);\n          script += util.content;\n        } else {\n          script += '/* unknown statement */';\n          this.warn('unknown statement', opcode, block);\n        }\n\n        if (!block.next) {\n          break;\n        }\n        block = this.blocks[block.next];\n      }\n\n      return script;\n    }\n\n    /**\n     * Compile a hat block and its children.\n     * The hat handler will be used, and the scripts will be installed.\n     */\n    compileHat(hat: SB3Block): void {\n      const hatCompiler = this.getHatCompiler(hat.opcode);\n      if (!hatCompiler) {\n        // If a hat block is otherwise recognized as an input or statement, don't warn.\n        // Most projects have at least one of these \"dangling\" blocks.\n        if (!this.getInputCompiler(hat.opcode) && !this.getStatementCompiler(hat.opcode)) {\n          this.warn('unknown hat block', hat.opcode, hat);\n        }\n        return;\n      }\n\n      this.labelCount = this.target.fns.length;\n\n      const startingBlock = hat.next;\n      // Empty hats will be ignored\n      if (!startingBlock) {\n        return;\n      }\n\n      this.state = this.getNewState();\n\n      // There is always a label placed at the beginning of the script.\n      // If you're clever, you may be able to remove this at some point.\n      let script = `{{${this.labelCount++}}}`;\n\n      if (hatCompiler.precompile) {\n        script += hatCompiler.precompile(this, hat);\n      }\n\n      script += this.compileStack(startingBlock);\n\n      // If a block wants to do some changes to the script after script generation but before compilation, let it.\n      if (hatCompiler.postcompile) {\n        script = hatCompiler.postcompile(this, script, hat);\n      }\n\n      // Parse the script to search for labels, and remove the label metadata.\n      const parseResult = this.parseScript(script);\n      const parsedScript = parseResult.script;\n\n      const startFn = this.target.fns.length;\n      for (let label of Object.keys(parseResult.labels)) {\n        this.target.fns[label] = P.runtime.createContinuation(parsedScript.slice(parseResult.labels[label]));\n      }\n\n      const startingFunction = this.target.fns[startFn];\n      const util = new HatUtil(this, hat, startingFunction);\n      hatCompiler.handle(util);\n\n      if (P.config.debug) {\n        this.log(`[${this.target.name}] compiled sb3 script \"${hat.opcode}\"`, script, this.target);\n      }\n    }\n\n    /**\n     * Parse a generated script for label locations, and remove redundant data.\n     */\n    parseScript(script: string): { labels: ObjectMap<number>, script: string; } {\n      const labels = {};\n      let index = 0;\n      let accumulator = 0;\n\n      while (true) {\n        const labelStart = script.indexOf('{{', index);\n        if (labelStart === -1) {\n          break;\n        }\n        const labelEnd = script.indexOf('}}', index);\n        const id = script.substring(labelStart + 2, labelEnd);\n        const length = labelEnd + 2 - labelStart;\n        accumulator += length;\n\n        labels[id] = labelEnd + 2 - accumulator;\n\n        index = labelEnd + 2;\n      }\n\n      // We don't **actually* have to remove the {{0}} labels (its technically valid JS),\n      // but it's probably a good idea.\n      const fixedScript = script.replace(/{{\\d+}}/g, '');\n\n      return {\n        labels,\n        script: fixedScript,\n      };\n    }\n\n    /**\n     * Log a warning\n     */\n    warn(...args: any[]) {\n      args.unshift(`[sb3 compiler ${this.target.name}]`);\n      console.warn.apply(console, args);\n    }\n\n    /**\n     * Log info\n     */\n    log(...args: any[]) {\n      args.unshift(`[sb3 compiler ${this.target.name}]`);\n      console.log.apply(console, args);\n    }\n\n    /**\n     * Compiles the scripts of the target with the current data.\n     */\n    compile(): void {\n      const hats = this.getHatBlocks();\n\n      for (const hatId of hats) {\n        const hat = this.blocks[hatId];\n        this.compileHat(hat);\n      }\n\n      // Remove data that is now unused\n      this.target.sb3data = null as any;\n    }\n  }\n}\n\n/**\n * Scratch 3 blocks.\n */\n(function() {\n  const statementLibrary = P.sb3.compiler.statementLibrary;\n  const inputLibrary = P.sb3.compiler.inputLibrary;\n  const hatLibrary = P.sb3.compiler.hatLibrary;\n  const watcherLibrary = P.sb3.compiler.watcherLibrary;\n\n  /* Statements */\n  statementLibrary['control_all_at_once'] = function(util) {\n    // https://github.com/LLK/scratch-vm/blob/bb42c0019c60f5d1947f3432038aa036a0fddca6/src/blocks/scratch3_control.js#L194-L199\n    const SUBSTACK = util.getSubstack('SUBSTACK');\n    util.write(SUBSTACK);\n  };\n  statementLibrary['control_clear_counter'] = function(util) {\n    util.writeLn('self.counter = 0;');\n  };\n  statementLibrary['control_create_clone_of'] = function(util) {\n    const CLONE_OPTION = util.getInput('CLONE_OPTION', 'any');\n    util.writeLn(`clone(${CLONE_OPTION});`);\n  };\n  statementLibrary['control_delete_this_clone'] = function(util) {\n    util.writeLn('if (S.isClone) {');\n    util.visual('visible');\n    util.writeLn('  S.remove();');\n    util.writeLn('  var i = self.children.indexOf(S);');\n    util.writeLn('  if (i !== -1) self.children.splice(i, 1);');\n    util.writeLn('  for (var i = 0; i < runtime.queue.length; i++) {');\n    util.writeLn('    if (runtime.queue[i] && runtime.queue[i].sprite === S) {');\n    util.writeLn('      runtime.queue[i] = undefined;');\n    util.writeLn('    }');\n    util.writeLn('  }');\n    util.writeLn('  return;');\n    util.writeLn('}');\n  };\n  statementLibrary['control_for_each'] = function(util) {\n    const VARIABLE = util.getVariableReference('VARIABLE');\n    const SUBSTACK = util.getSubstack('SUBSTACK');\n    const VALUE = util.getInput('VALUE', 'number');\n    util.writeLn('save();');\n    util.writeLn(`R.times = ${VALUE};`);\n    util.writeLn('R.current = 0;');\n    const label = util.addLabel();\n    util.writeLn(`if (R.current < R.times) {`);\n    util.writeLn(`  ${VARIABLE} = ++R.current;`);\n    util.write(SUBSTACK);\n    util.queue(label);\n    util.writeLn('} else {');\n    util.writeLn('  restore();');\n    util.writeLn('}');\n  };\n  statementLibrary['control_forever'] = function(util) {\n    const SUBSTACK = util.getSubstack('SUBSTACK');\n    if (util.compiler.state.isWarp && !util.substacksQueue) {\n      util.writeLn('while (true) {');\n      util.write(SUBSTACK);\n      util.writeLn('}');\n    } else {\n      const label = util.addLabel();\n      util.write(SUBSTACK);\n      util.queue(label);\n    }\n  };\n  statementLibrary['control_if'] = function(util) {\n    const CONDITION = util.getInput('CONDITION', 'boolean');\n    const SUBSTACK = util.getSubstack('SUBSTACK');\n    util.writeLn(`if (${CONDITION}) {`);\n    util.write(SUBSTACK);\n    util.writeLn('}');\n  };\n  statementLibrary['control_if_else'] = function(util) {\n    const CONDITION = util.getInput('CONDITION', 'boolean');\n    const SUBSTACK = util.getSubstack('SUBSTACK');\n    const SUBSTACK2 = util.getSubstack('SUBSTACK2');\n    util.writeLn(`if (${CONDITION}) {`);\n    util.write(SUBSTACK);\n    util.writeLn('} else {');\n    util.write(SUBSTACK2);\n    util.writeLn('}');\n  };\n  statementLibrary['control_incr_counter'] = function(util) {\n    util.writeLn('self.counter++;');\n  };\n  statementLibrary['control_repeat'] = function(util) {\n    const TIMES = util.getInput('TIMES', 'any');\n    const SUBSTACK = util.getSubstack('SUBSTACK');\n    if (util.compiler.state.isWarp && !util.substacksQueue) {\n      util.writeLn('save();');\n      util.writeLn(`R.count = ${TIMES};`);\n      util.writeLn('while (R.count >= 0.5) {');\n      util.writeLn('  R.count -= 1;');\n      util.write(SUBSTACK);\n      util.writeLn('}');\n      util.writeLn('restore();');\n    } else {\n      util.writeLn('save();');\n      util.writeLn(`R.count = ${TIMES};`);\n      const label = util.addLabel();\n      util.writeLn('if (R.count >= 0.5) {');\n      util.writeLn('  R.count -= 1;');\n      util.write(SUBSTACK);\n      util.queue(label);\n      util.writeLn('} else {');\n      util.writeLn('  restore();');\n      util.writeLn('}');\n    }\n  };\n  statementLibrary['control_repeat_until'] = function(util) {\n    const CONDITION = util.getInput('CONDITION', 'boolean');\n    const SUBSTACK = util.getSubstack('SUBSTACK');\n    if (util.compiler.state.isWarp && !util.substacksQueue) {\n      util.writeLn(`while (!${CONDITION}) {`);\n      util.write(SUBSTACK);\n      util.writeLn('}');\n    } else {\n      const label = util.addLabel();\n      util.writeLn(`if (!${CONDITION}) {`);\n      util.write(SUBSTACK);\n      util.queue(label);\n      util.writeLn('}');\n    }\n  };\n  statementLibrary['control_stop'] = function(util) {\n    const STOP_OPTION = util.getField('STOP_OPTION');\n    switch (STOP_OPTION) {\n      case 'all':\n        util.writeLn('runtime.stopAll(); return;');\n        break;\n      case 'this script':\n        util.writeLn('endCall(); return;');\n        break;\n      case 'other scripts in sprite':\n      case 'other scripts in stage':\n        util.writeLn('S.stopSoundsExcept(BASE);');\n        util.writeLn('for (var i = 0; i < runtime.queue.length; i++) {');\n        util.writeLn('  if (i !== THREAD && runtime.queue[i] && runtime.queue[i].sprite === S) {');\n        util.writeLn('    runtime.queue[i].stopped = true;');\n        util.writeLn('    runtime.queue[i].fn = undefined;');\n        util.writeLn('  }');\n        util.writeLn('}');\n        break;\n    }\n  };\n  statementLibrary['control_wait'] = function(util) {\n    const DURATION = util.getInput('DURATION', 'any');\n    util.visual('always');\n    util.writeLn('save();');\n    util.writeLn('R.start = runtime.currentMSecs;');\n    util.writeLn(`R.duration = ${DURATION};`);\n    util.writeLn(`var first = !WARP;`);\n    const label = util.addLabel();\n    util.writeLn('if (runtime.currentMSecs - R.start < R.duration * 1000 || first) {');\n    util.writeLn('  var first;');\n    util.forceQueue(label);\n    util.writeLn('}');\n    util.writeLn('restore();');\n  };\n  statementLibrary['control_wait_until'] = function(util) {\n    const CONDITION = util.getInput('CONDITION', 'boolean');\n    const label = util.addLabel();\n    util.writeLn(`if (!${CONDITION}) {`);\n    util.forceQueue(label);\n    util.writeLn('}');\n  };\n  statementLibrary['control_while'] = function(util) {\n    const CONDITION = util.getInput('CONDITION', 'boolean');\n    const SUBSTACK = util.getSubstack('SUBSTACK');\n    if (util.compiler.state.isWarp && !util.substacksQueue) {\n      util.writeLn(`while (${CONDITION}) {`);\n      util.write(SUBSTACK);\n      util.writeLn('}');\n    } else {\n      const label = util.addLabel();\n      util.writeLn(`if (${CONDITION}) {`);\n      util.write(SUBSTACK);\n      util.queue(label);\n      util.writeLn('}');\n    }\n  };\n  statementLibrary['data_addtolist'] = function(util) {\n    const LIST = util.getListReference('LIST');\n    const ITEM = util.getInput('ITEM', 'any');\n    util.writeLn(`watchedAppendToList(${LIST}, ${ITEM});`);\n  };\n  statementLibrary['data_changevariableby'] = function(util) {\n    const VARIABLE = util.getVariableReference('VARIABLE');\n    const VALUE = util.getInput('VALUE', 'number');\n    util.writeLn(`${VARIABLE} = (${util.asType(VARIABLE, 'number')} + ${VALUE});`);\n    if (util.isCloudVariable('VARIABLE')) {\n      util.writeLn(`cloudVariableChanged(${util.sanitizedString(util.getField('VARIABLE'))})`);\n    }\n  };\n  statementLibrary['data_deletealloflist'] = function(util) {\n    const LIST = util.getListReference('LIST');\n    util.writeLn(`watchedDeleteAllOfList(${LIST});`);\n  };\n  statementLibrary['data_deleteoflist'] = function(util) {\n    const LIST = util.getListReference('LIST');\n    const INDEX = util.getInput('INDEX', 'any');\n    util.writeLn(`watchedDeleteLineOfList(${LIST}, ${INDEX});`);\n  };\n  statementLibrary['data_hidelist'] = function(util) {\n    const LIST = util.sanitizedString(util.getField('LIST'));\n    const scope = util.getListScope('LIST');\n    util.writeLn(`${scope}.showList(${LIST}, false);`);\n  };\n  statementLibrary['data_hidevariable'] = function(util) {\n    const VARIABLE = util.sanitizedString(util.getField('VARIABLE'));\n    const scope = util.getVariableScope('VARIABLE');\n    util.writeLn(`${scope}.showVariable(${VARIABLE}, false);`);\n  };\n  statementLibrary['data_insertatlist'] = function(util) {\n    const LIST = util.getListReference('LIST');\n    const INDEX = util.getInput('INDEX', 'any');\n    const ITEM = util.getInput('ITEM', 'any');\n    util.writeLn(`watchedInsertInList(${LIST}, ${INDEX}, ${ITEM});`);\n  };\n  statementLibrary['data_replaceitemoflist'] = function(util) {\n    const LIST = util.getListReference('LIST');\n    const ITEM = util.getInput('ITEM', 'any');\n    const INDEX = util.getInput('INDEX', 'any');\n    util.writeLn(`watchedSetLineOfList(${LIST}, ${INDEX}, ${ITEM});`);\n  };\n  statementLibrary['data_setvariableto'] = function(util) {\n    const VARIABLE = util.getVariableReference('VARIABLE');\n    const VALUE = util.getInput('VALUE', 'any');\n    util.writeLn(`${VARIABLE} = ${VALUE};`);\n    if (util.isCloudVariable('VARIABLE')) {\n      util.writeLn(`cloudVariableChanged(${util.sanitizedString(util.getField('VARIABLE'))})`);\n    }\n  };\n  statementLibrary['data_showlist'] = function(util) {\n    const LIST = util.sanitizedString(util.getField('LIST'));\n    const scope = util.getListScope('LIST');\n    util.writeLn(`${scope}.showList(${LIST}, true);`);\n  };\n  statementLibrary['data_showvariable'] = function(util) {\n    const VARIABLE = util.sanitizedString(util.getField('VARIABLE'));\n    const scope = util.getVariableScope('VARIABLE');\n    util.writeLn(`${scope}.showVariable(${VARIABLE}, true);`);\n  };\n  statementLibrary['event_broadcast'] = function(util) {\n    const BROADCAST_INPUT = util.getInput('BROADCAST_INPUT', 'any');\n    util.writeLn(`var threads = broadcast(${BROADCAST_INPUT});`);\n    util.writeLn(`if (threads.indexOf(BASE) !== -1) {STOPPED = true;}`);\n  };\n  statementLibrary['event_broadcastandwait'] = function(util) {\n    const BROADCAST_INPUT = util.getInput('BROADCAST_INPUT', 'any');\n    util.writeLn('save();');\n    util.writeLn(`R.threads = broadcast(${BROADCAST_INPUT});`);\n    util.writeLn('if (R.threads.indexOf(BASE) !== -1) {return;}');\n    const label = util.addLabel();\n    util.writeLn('if (running(R.threads)) {');\n    util.forceQueue(label);\n    util.writeLn('}');\n    util.writeLn('restore();');\n  };\n  statementLibrary['looks_changeeffectby'] = function(util) {\n    const EFFECT = util.sanitizedString(util.getField('EFFECT')).toLowerCase();\n    const CHANGE = util.getInput('CHANGE', 'number');\n    util.writeLn(`S.changeFilter(${EFFECT}, ${CHANGE});`);\n    util.visual('visible');\n  };\n  statementLibrary['looks_changesizeby'] = function(util) {\n    const CHANGE = util.getInput('CHANGE', 'any');\n    util.writeLn(`var f = S.scale + ${CHANGE} / 100;`);\n    util.writeLn('S.scale = f < 0 ? 0 : f;');\n    util.visual('visible');\n  };\n  statementLibrary['looks_cleargraphiceffects'] = function(util) {\n    util.writeLn('S.resetFilters();');\n    util.visual('visible');\n  };\n  statementLibrary['looks_goforwardbackwardlayers'] = function(util) {\n    const FORWARD_BACKWARD = util.getField('FORWARD_BACKWARD');\n    const NUM = util.getInput('NUM', 'number');\n    util.writeLn('var i = self.children.indexOf(S);');\n    util.writeLn('if (i !== -1) {');\n    util.writeLn('  self.children.splice(i, 1);');\n    if (FORWARD_BACKWARD === 'forward') {\n      util.writeLn(`  self.children.splice(Math.max(0, Math.min(self.children.length, i + ${NUM})), 0, S);`);\n    } else {\n      util.writeLn(`  self.children.splice(Math.max(0, Math.min(self.children.length, i - ${NUM})), 0, S);`);\n    }\n    util.writeLn('}');\n  };\n  statementLibrary['looks_gotofrontback'] = function(util) {\n    const FRONT_BACK = util.getField('FRONT_BACK');\n    util.writeLn('var i = self.children.indexOf(S);');\n    util.writeLn('if (i !== -1) self.children.splice(i, 1);');\n    if (FRONT_BACK === 'front') {\n      util.writeLn('self.children.push(S);');\n    } else {\n      util.writeLn('self.children.unshift(S);');\n    }\n  };\n  statementLibrary['looks_hide'] = function(util) {\n    util.writeLn('S.visible = false;');\n    util.updateBubble();\n  };\n  statementLibrary['looks_nextbackdrop'] = function(util) {\n    util.writeLn('self.showNextCostume();');\n    util.visual('always');\n    util.writeLn('var threads = sceneChange();');\n    util.writeLn('if (threads.indexOf(BASE) !== -1) {return;}');\n  };\n  statementLibrary['looks_nextcostume'] = function(util) {\n    util.writeLn('S.showNextCostume();');\n    util.visual('visible');\n  };\n  statementLibrary['looks_say'] = function(util) {\n    const MESSAGE = util.getInput('MESSAGE', 'any');\n    util.writeLn(`S.say(${MESSAGE}, false);`);\n    util.visual('visible');\n  };\n  statementLibrary['looks_sayforsecs'] = function(util) {\n    const MESSAGE = util.getInput('MESSAGE', 'any');\n    const SECS = util.getInput('SECS', 'number');\n    util.writeLn('save();');\n    util.writeLn(`R.id = S.say(${MESSAGE}, false);`);\n    util.visual('visible');\n    util.writeLn('R.start = runtime.now();');\n    util.writeLn(`R.duration = ${SECS};`);\n    util.writeLn(`var first = true;`);\n    const label = util.addLabel();\n    util.writeLn('if (runtime.now() - R.start < R.duration * 1000 || first) {');\n    util.writeLn('  var first;');\n    util.forceQueue(label);\n    util.writeLn('}');\n    util.writeLn('if (S.sayId === R.id) {');\n    util.writeLn('  S.say(\"\");');\n    util.writeLn('}');\n    util.writeLn('restore();');\n  };\n  statementLibrary['looks_seteffectto'] = function(util) {\n    const EFFECT = util.sanitizedString(util.getField('EFFECT')).toLowerCase();\n    const VALUE = util.getInput('VALUE', 'number');\n    util.writeLn(`S.setFilter(${EFFECT}, ${VALUE});`);\n    util.visual('visible');\n  };\n  statementLibrary['looks_setsizeto'] = function(util) {\n    const SIZE = util.getInput('SIZE', 'number');\n    util.writeLn(`S.scale = Math.max(0, ${SIZE} / 100);`)\n    util.visual('visible');\n  };\n  statementLibrary['looks_show'] = function(util) {\n    util.writeLn('S.visible = true;');\n    util.visual('always');\n    util.updateBubble();\n  };\n  statementLibrary['looks_switchbackdropto'] = function(util) {\n    // BACKDROP cannot be casted: setCostume behavior depends on type\n    const BACKDROP = util.getInput('BACKDROP', 'any');\n    util.writeLn(`self.setCostume(${BACKDROP});`);\n    util.visual('always');\n    util.writeLn('var threads = sceneChange();');\n    util.writeLn('if (threads.indexOf(BASE) !== -1) {return;}');\n  };\n  statementLibrary['looks_switchbackdroptoandwait'] = function(util) {\n    const BACKDROP = util.getInput('BACKDROP', 'any');\n    util.writeLn(`self.setCostume(${BACKDROP});`);\n    util.visual('always');\n    util.writeLn('save();');\n    util.writeLn('R.threads = sceneChange();');\n    util.writeLn('if (R.threads.indexOf(BASE) !== -1) {return;}');\n    const label = util.addLabel();\n    util.writeLn('if (running(R.threads)) {');\n    util.forceQueue(label);\n    util.writeLn('}');\n    util.writeLn('restore();');\n  };\n  statementLibrary['looks_switchcostumeto'] = function(util) {\n    // COSTUME cannot be casted: setCostume behavior depends on type\n    const COSTUME = util.getInput('COSTUME', 'any');\n    util.writeLn(`S.setCostume(${COSTUME});`);\n    util.visual('visible');\n  };\n  statementLibrary['looks_think'] = function(util) {\n    const MESSAGE = util.getInput('MESSAGE', 'any');\n    util.writeLn(`S.say(${MESSAGE}, true);`);\n    util.visual('visible');\n  };\n  statementLibrary['looks_thinkforsecs'] = function(util) {\n    const MESSAGE = util.getInput('MESSAGE', 'any');\n    const SECS = util.getInput('SECS', 'number');\n    util.writeLn('save();');\n    util.writeLn(`R.id = S.say(${MESSAGE}, true);`);\n    util.visual('visible');\n    util.writeLn('R.start = runtime.now();');\n    util.writeLn(`R.duration = ${SECS};`);\n    util.writeLn(`var first = true;`);\n    const label = util.addLabel();\n    util.writeLn('if (runtime.now() - R.start < R.duration * 1000 || first) {');\n    util.writeLn('  var first;');\n    util.forceQueue(label);\n    util.writeLn('}');\n    util.writeLn('if (S.sayId === R.id) {');\n    util.writeLn('  S.say(\"\");');\n    util.writeLn('}');\n    util.writeLn('restore();');\n  };\n  statementLibrary['motion_changexby'] = function(util) {\n    const DX = util.getInput('DX', 'number');\n    util.writeLn(`S.moveTo(S.scratchX + ${DX}, S.scratchY);`);\n    util.visual('drawing');\n  };\n  statementLibrary['motion_changeyby'] = function(util) {\n    const DY = util.getInput('DY', 'number');\n    util.writeLn(`S.moveTo(S.scratchX, S.scratchY + ${DY});`);\n    util.visual('drawing');\n  };\n  statementLibrary['motion_glidesecstoxy'] = function(util) {\n    const SECS = util.getInput('SECS', 'any');\n    const X = util.getInput('X', 'any');\n    const Y = util.getInput('Y', 'any');\n    util.visual('drawing');\n    util.writeLn('save();');\n    util.writeLn('R.start = runtime.now();');\n    util.writeLn(`R.duration = ${SECS};`);\n    util.writeLn('R.baseX = S.scratchX;');\n    util.writeLn('R.baseY = S.scratchY;');\n    util.writeLn(`R.deltaX = ${X} - S.scratchX;`);\n    util.writeLn(`R.deltaY = ${Y} - S.scratchY;`);\n    const label = util.addLabel();\n    util.writeLn('var f = (runtime.now() - R.start) / (R.duration * 1000);');\n    util.writeLn('if (f > 1 || isNaN(f)) f = 1;');\n    util.writeLn('S.moveTo(R.baseX + f * R.deltaX, R.baseY + f * R.deltaY);');\n    util.visual('drawing');\n    util.writeLn('if (f < 1) {');\n    util.forceQueue(label);\n    util.writeLn('}');\n    util.writeLn('restore();');\n  };\n  statementLibrary['motion_glideto'] = function(util) {\n    const SECS = util.getInput('SECS', 'any');\n    const TO = util.getInput('TO', 'any');\n    util.visual('drawing');\n    util.writeLn('save();');\n    util.writeLn('R.start = runtime.now();');\n    util.writeLn(`R.duration = ${SECS};`);\n    util.writeLn('R.baseX = S.scratchX;');\n    util.writeLn('R.baseY = S.scratchY;');\n    util.writeLn(`var to = self.getPosition(${TO});`);\n    util.writeLn('if (to) {');\n    util.writeLn('  R.deltaX = to.x - S.scratchX;');\n    util.writeLn('  R.deltaY = to.y - S.scratchY;');\n    const label = util.addLabel();\n    util.writeLn('  var f = (runtime.now() - R.start) / (R.duration * 1000);');\n    util.writeLn('  if (f > 1 || isNaN(f)) f = 1;');\n    util.writeLn('  S.moveTo(R.baseX + f * R.deltaX, R.baseY + f * R.deltaY);');\n    util.visual('drawing');\n    util.writeLn('  if (f < 1) {');\n    util.forceQueue(label);\n    util.writeLn('  }');\n    util.writeLn('  restore();');\n    util.writeLn('}');\n  };\n  statementLibrary['motion_goto'] = function(util) {\n    const TO = util.getInput('TO', 'any');\n    util.writeLn(`S.gotoObject(${TO});`);\n    util.visual('drawing');\n  };\n  statementLibrary['motion_gotoxy'] = function(util) {\n    const X = util.getInput('X', 'number');\n    const Y = util.getInput('Y', 'number');\n    util.writeLn(`S.moveTo(${X}, ${Y});`);\n    util.visual('drawing');\n  };\n  statementLibrary['motion_ifonedgebounce'] = function(util) {\n    // TODO: set visual if bounced\n    util.writeLn('S.bounceOffEdge();');\n  };\n  statementLibrary['motion_movesteps'] = function(util) {\n    const STEPS = util.getInput('STEPS', 'number');\n    util.writeLn(`S.forward(${STEPS});`);\n    util.visual('drawing');\n  };\n  statementLibrary['motion_pointindirection'] = function(util) {\n    const DIRECTION = util.getInput('DIRECTION', 'number');\n    util.visual('visible');\n    util.writeLn(`S.setDirection(${DIRECTION});`);\n  };\n  statementLibrary['motion_pointtowards'] = function(util) {\n    const TOWARDS = util.getInput('TOWARDS', 'any');\n    util.writeLn(`S.pointTowards(${TOWARDS});`);\n    util.visual('visible');\n  };\n  statementLibrary['motion_setrotationstyle'] = function(util) {\n    const STYLE = P.utils.parseRotationStyle(util.getField('STYLE'));\n    util.writeLn(`S.rotationStyle = ${STYLE};`);\n    util.visual('visible');\n  };\n  statementLibrary['motion_setx'] = function(util) {\n    const X = util.getInput('X', 'number');\n    util.writeLn(`S.moveTo(${X}, S.scratchY);`);\n    util.visual('drawing');\n  };\n  statementLibrary['motion_sety'] = function(util) {\n    const Y = util.getInput('Y', 'number');\n    util.writeLn(`S.moveTo(S.scratchX, ${Y});`);\n    util.visual('drawing');\n  };\n  statementLibrary['motion_turnleft'] = function(util) {\n    const DEGREES = util.getInput('DEGREES', 'number');\n    util.writeLn(`S.setDirection(S.direction - ${DEGREES});`);\n    util.visual('visible');\n  };\n  statementLibrary['motion_turnright'] = function(util) {\n    const DEGREES = util.getInput('DEGREES', 'number');\n    util.writeLn(`S.setDirection(S.direction + ${DEGREES});`);\n    util.visual('visible');\n  };\n  statementLibrary['music_changeTempo'] = function(util) {\n    const TEMPO = util.getInput('TEMPO', 'number');\n    util.writeLn(`self.tempoBPM += ${TEMPO};`)\n  };\n  statementLibrary['music_playDrumForBeats'] = function(util) {\n    const BEATS = util.getInput('BEATS', 'number');\n    const DRUM = util.getInput('DRUM', 'number');\n\n    util.compiler.needsMusic = true;\n\n    util.writeLn('save();');\n    util.writeLn('R.start = runtime.now();');\n    util.writeLn(`R.duration = ${BEATS} * 60 / self.tempoBPM;`);\n    util.writeLn(`var first = !WARP;`);\n\n    if (P.audio.context) {\n      util.writeLn(`R.sound = playSpan(DRUMS[Math.round(${DRUM}) - 1] || DRUMS[2], 60, 10);`);\n    } else {\n      util.writeLn('R.sound = { stopped: false };');\n    }\n\n    const id = util.addLabel();\n    util.writeLn('S.activeSounds.add(R.sound);')\n    util.writeLn('if ((runtime.now() - R.start < R.duration * 1000 || first) && !R.sound.stopped) {');\n    util.writeLn('  var first;');\n    util.forceQueue(id);\n    util.writeLn('}');\n    util.writeLn('S.activeSounds.delete(R.sound);');\n    util.writeLn('restore();');\n  };\n  statementLibrary['music_playNoteForBeats'] = function(util) {\n    const BEATS = util.getInput('BEATS', 'number');\n    const NOTE = util.getInput('NOTE', 'number');\n\n    util.compiler.needsMusic = true;\n\n    util.writeLn('save();');\n    util.writeLn('R.start = runtime.now();');\n    util.writeLn(`R.duration = ${BEATS} * 60 / self.tempoBPM;`);\n\n    if (P.audio.context) {\n      util.writeLn(`R.sound = playNote(${NOTE}, R.duration);`);\n    } else {\n      util.writeLn('R.sound = { stopped: false };');\n    }\n\n    const id = util.addLabel();\n    util.writeLn('S.activeSounds.add(R.sound);')\n    util.writeLn('if ((runtime.now() - R.start < R.duration * 1000) && !R.sound.stopped) {');\n    util.forceQueue(id);\n    util.writeLn('}');\n    util.writeLn('S.activeSounds.delete(R.sound);');\n    util.writeLn('restore();');\n  };\n  statementLibrary['music_restForBeats'] = function(util) {\n    const BEATS = util.getInput('BEATS', 'number');\n    util.writeLn('save();');\n    util.writeLn('R.start = runtime.now();');\n    util.writeLn(`R.duration = ${BEATS} * 60 / self.tempoBPM;`);\n    util.writeLn(`var first = !WARP;`);\n    const id = util.addLabel();\n    util.writeLn('if (runtime.now() - R.start < R.duration * 1000 || first) {');\n    util.writeLn('  var first;');\n    util.forceQueue(id);\n    util.writeLn('}');\n    util.writeLn('restore();');\n  };\n  statementLibrary['music_setTempo'] = function(util) {\n    const TEMPO = util.getInput('TEMPO', 'number');\n    util.writeLn(`self.tempoBPM = ${TEMPO};`)\n  };\n  statementLibrary['music_setInstrument'] = function(util) {\n    const INSTRUMENT = util.getInput('INSTRUMENT', 'number');\n    util.writeLn(`S.instrument = Math.max(0, Math.min(INSTRUMENTS.length - 1, ${INSTRUMENT} - 1)) | 0;`);\n  };\n  statementLibrary['pen_changePenColorParamBy'] = function(util) {\n    const COLOR_PARAM = util.getInput('COLOR_PARAM', 'string');\n    const VALUE = util.getInput('VALUE', 'number');\n    util.writeLn(`S.penColor.changeParam(${COLOR_PARAM}, ${VALUE});`);\n  };\n  statementLibrary['pen_changePenHueBy'] = function(util) {\n    // This is an old pen hue block, which functions differently from the new one.\n    const HUE = util.getInput('HUE', 'number');\n    util.writeLn('S.penColor.toHSLA();');\n    util.writeLn(`S.penColor.x += ${HUE} * 360 / 200;`);\n    util.writeLn('S.penColor.y = 100;');\n  };\n  statementLibrary['pen_changePenShadeBy'] = function(util) {\n    const SHADE = util.getInput('SHADE', 'number');\n    util.writeLn('S.penColor.toHSLA();');\n    util.writeLn(`S.penColor.z = (S.penColor.z + ${SHADE}) % 200;`);\n    util.writeLn('if (S.penColor.z < 0) S.penColor.z += 200;');\n    util.writeLn('S.penColor.y = 100;');\n  };\n  statementLibrary['pen_changePenSizeBy'] = function(util) {\n    const SIZE = util.getInput('SIZE', 'number');\n    util.writeLn(`S.penSize = Math.max(1, S.penSize + ${SIZE});`);\n  };\n  statementLibrary['pen_clear'] = function(util) {\n    util.writeLn('self.clearPen();');\n    util.visual('always');\n  };\n  statementLibrary['pen_penDown'] = function(util) {\n    util.writeLn('S.isPenDown = true;');\n    util.writeLn('S.dotPen();');\n    util.visual('always');\n  };\n  statementLibrary['pen_penUp'] = function(util) {\n    util.writeLn('S.isPenDown = false;');\n  };\n  statementLibrary['pen_setPenColorParamTo'] = function(util) {\n    const COLOR_PARAM = util.getInput('COLOR_PARAM', 'string');\n    const VALUE = util.getInput('VALUE', 'number');\n    util.writeLn(`S.penColor.setParam(${COLOR_PARAM}, ${VALUE});`);\n  };\n  statementLibrary['pen_setPenColorToColor'] = function(util) {\n    const COLOR = util.getInput('COLOR', 'color');\n    util.writeLn(`S.penColor.setShiftedRGBA(${COLOR});`);\n  };\n  statementLibrary['pen_setPenHueToNumber'] = function(util) {\n    // This is an old pen hue block, which functions differently from the new one.\n    const HUE = util.getInput('HUE', 'number');\n    util.writeLn('S.penColor.toHSLA();');\n    util.writeLn(`S.penColor.x = ${HUE} * 360 / 200;`);\n    util.writeLn('S.penColor.y = 100;');\n    util.writeLn('S.penColor.a = 1;');\n  };\n  statementLibrary['pen_setPenShadeToNumber'] = function(util) {\n    const SHADE = util.getInput('SHADE', 'number');\n    util.writeLn('S.penColor.toHSLA();');\n    util.writeLn(`S.penColor.z = ${SHADE} % 200;`);\n    util.writeLn('if (S.penColor.z < 0) S.penColor.z += 200;');\n    util.writeLn('S.penColor.y = 100;');\n  };\n  statementLibrary['pen_setPenSizeTo'] = function(util) {\n    const SIZE = util.getInput('SIZE', 'number');\n    // clamping per https://github.com/LLK/scratch-vm/blob/015a095dfd30b229511f174cea96dbdb612af8eb/src/extensions/scratch3_pen/index.js#L101\n    util.writeLn(`S.penSize = Math.max(1, Math.min(${SIZE}, 1200));`);\n  };\n  statementLibrary['pen_stamp'] = function(util) {\n    util.writeLn('S.stamp();');\n    util.visual('always');\n  };\n  statementLibrary['procedures_call'] = function(util) {\n    const mutation = util.block.mutation;\n    const name = mutation.proccode;\n\n    if (P.config.debug) {\n      if (name === 'forkphorus:debugger;') {\n        util.writeLn('/* forkphorus */ debugger;');\n        return;\n      } else if (name === 'forkphorus:throw;') {\n        util.writeLn('/* forkphorus */ throw new Error(\"Debug intended crash\");');\n        return;\n      }\n    }\n\n    const label = util.claimNextLabel();\n    util.write(`call(S.procedures[${util.sanitizedString(name)}], ${label}, [`);\n\n    // The mutation has a stringified JSON list of input IDs... it's weird.\n    const inputNames = JSON.parse(mutation.argumentids);\n    for (const inputName of inputNames) {\n      util.write(`${util.getInput(inputName, 'any')}, `);\n    }\n\n    util.writeLn(']); return;');\n    util.addLabel(label);\n  };\n  statementLibrary['sound_changeeffectby'] = function(util) {\n    const EFFECT = util.sanitizedString(util.getField('EFFECT'));\n    const VALUE = util.getInput('VALUE', 'number');\n    util.writeLn(`S.changeSoundFilter(${EFFECT}, ${VALUE});`);\n    util.writeLn('if (updateSoundEffectsOnAllSounds) updateSoundEffectsOnAllSounds();');\n    util.waitOneTick();\n  };\n  statementLibrary['sound_changevolumeby'] = function(util) {\n    const VOLUME = util.getInput('VOLUME', 'number');\n    util.writeLn(`S.volume = Math.max(0, Math.min(1, S.volume + ${VOLUME} / 100));`);\n    util.writeLn('if (S.node) S.node.gain.value = S.volume;');\n    util.waitOneTick();\n  };\n  statementLibrary['sound_cleareffects'] = function(util) {\n    util.writeLn('S.resetSoundFilters();');\n  };\n  statementLibrary['sound_play'] = function(util) {\n    const SOUND_MENU = util.getInput('SOUND_MENU', 'any');\n    if (P.audio.context) {\n      util.writeLn(`var sound = S.getSound(${SOUND_MENU});`);\n      util.writeLn('if (sound) startSound(sound);');\n    }\n  };\n  statementLibrary['sound_playuntildone'] = function(util) {\n    const SOUND_MENU = util.getInput('SOUND_MENU', 'any');\n    if (P.audio.context) {\n      util.writeLn(`var sound = S.getSound(${SOUND_MENU});`);\n      util.writeLn('if (sound) {');\n      util.writeLn('  save();');\n      util.writeLn('  R.sound = playSound(sound);');\n      util.writeLn('  S.activeSounds.add(R.sound);')\n      const label = util.addLabel();\n      util.writeLn('  if (!R.sound.node.ended && !R.sound.stopped) {');\n      util.forceQueue(label);\n      util.writeLn('  }');\n      util.writeLn('  S.activeSounds.delete(R.sound);');\n      util.writeLn('  restore();');\n      util.writeLn('}');\n    }\n  };\n  statementLibrary['sound_seteffectto'] = function(util) {\n    const EFFECT = util.sanitizedString(util.getField('EFFECT'));\n    const VALUE = util.getInput('VALUE', 'number');\n    util.writeLn(`S.setSoundFilter(${EFFECT}, ${VALUE});`);\n    util.writeLn('if (updateSoundEffectsOnAllSounds) updateSoundEffectsOnAllSounds();');\n    util.writeLn('if (!self.removeLimits) {');\n    util.waitOneTick();\n    util.writeLn('}');\n  };\n  statementLibrary['sound_setvolumeto'] = function(util) {\n    const VOLUME = util.getInput('VOLUME', 'number');\n    util.writeLn(`S.volume = Math.max(0, Math.min(1, ${VOLUME} / 100));`);\n    util.writeLn('if (S.node) S.node.gain.value = S.volume;');\n    util.writeLn('if (!self.removeLimits) {');\n    util.waitOneTick();\n    util.writeLn('}');\n  };\n  statementLibrary['sound_stopallsounds'] = function(util) {\n    if (P.audio.context) {\n      util.writeLn('self.stopAllSounds();');\n    }\n  };\n  statementLibrary['sensing_askandwait'] = function(util) {\n    const QUESTION = util.getInput('QUESTION', 'string');\n\n    util.writeLn('R.id = self.nextPromptId++;');\n    const label1 = util.addLabel();\n    util.writeLn('if (self.promptId < R.id) {');\n    util.forceQueue(label1);\n    util.writeLn('}');\n\n    util.writeLn(`S.ask(${QUESTION});`);\n    const label2 = util.addLabel();\n    util.writeLn('if (self.promptId === R.id) {')\n    util.forceQueue(label2);\n    util.writeLn('}');\n    util.writeLn('S.say(\"\");');\n\n    util.visual('always');\n  };\n  statementLibrary['sensing_resettimer'] = function(util) {\n    util.writeLn('runtime.resetTimer();');\n  };\n  statementLibrary['sensing_setdragmode'] = function(util) {\n    const DRAG_MODE = util.getField('DRAG_MODE');\n    if (DRAG_MODE === 'draggable') {\n      util.writeLn('S.isDraggable = true;');\n    } else {\n      util.writeLn('S.isDraggable = false;');\n    }\n  };\n  statementLibrary['text2speech_setVoice'] = function(util) {\n    const VOICE = util.getInput('VOICE', 'string');\n    util.stage.initTextToSpeech();\n    util.writeLn(`self.tts.setVoice(${VOICE});`);\n  };\n  statementLibrary['text2speech_setLanguage'] = function(util) {\n    const LANGUAGE = util.getInput('LANGUAGE', 'string');\n    util.stage.initTextToSpeech();\n    util.writeLn(`self.tts.setLanguage(${LANGUAGE});`);\n  };\n  statementLibrary['text2speech_speakAndWait'] = function(util) {\n    const WORDS = util.getInput('WORDS', 'string');\n    util.stage.initTextToSpeech();\n    util.waitUntilSettles(`self.tts.speak(${WORDS})`);\n  };\n  statementLibrary['videoSensing_videoToggle'] = function(util) {\n    const VIDEO_STATE = util.getInput('VIDEO_STATE', 'string');\n    util.writeLn(`switch (${VIDEO_STATE}) {`);\n    util.writeLn('  case \"off\": self.showVideo(false); break;');\n    util.writeLn('  case \"on\": self.showVideo(true); break;');\n    util.writeLn('}');\n  };\n\n  // Legacy no-ops\n  // https://github.com/LLK/scratch-vm/blob/bb42c0019c60f5d1947f3432038aa036a0fddca6/src/blocks/scratch3_motion.js#L19\n  // https://github.com/LLK/scratch-vm/blob/bb42c0019c60f5d1947f3432038aa036a0fddca6/src/blocks/scratch3_looks.js#L248\n  const noopStatement = (util: P.sb3.compiler.StatementUtil) => util.writeLn('/* noop */');\n  statementLibrary['motion_align_scene'] = noopStatement;\n  statementLibrary['motion_scroll_right'] = noopStatement;\n  statementLibrary['motion_scroll_up'] = noopStatement;\n  statementLibrary['looks_changestretchby'] = noopStatement;\n  statementLibrary['looks_hideallsprites'] = noopStatement;\n  statementLibrary['looks_setstretchto'] = noopStatement;\n\n  /* Inputs */\n  inputLibrary['argument_reporter_boolean'] = function(util) {\n    const VALUE = util.getField('VALUE');\n    if (!util.compiler.state.isProcedure || util.compiler.state.argumentNames.indexOf(VALUE) === -1) {\n      const lowerCaseName = VALUE.toLowerCase();\n      if (lowerCaseName === 'is compiled?' || lowerCaseName === 'is forkphorus?') {\n        return util.booleanInput('true');\n      }\n      // Missing boolean reporters are 0, not false.\n      return util.numberInput('0');\n    }\n    return util.booleanInput(util.asType(`C.args[${util.sanitizedString(VALUE)}]`, 'boolean'));\n  };\n  inputLibrary['argument_reporter_string_number'] = function(util) {\n    const VALUE = util.getField('VALUE');\n    if (!util.compiler.state.isProcedure || util.compiler.state.argumentNames.indexOf(VALUE) === -1) {\n      return util.numberInput('0');\n    }\n    return util.anyInput(`C.args[${util.sanitizedString(VALUE)}]`);\n  };\n  inputLibrary['control_create_clone_of_menu'] = function(util) {\n    return util.fieldInput('CLONE_OPTION');\n  };\n  inputLibrary['control_get_counter'] = function(util) {\n    return util.numberInput('self.counter');\n  };\n  inputLibrary['data_itemoflist'] = function(util) {\n    const LIST = util.getListReference('LIST');\n    const INDEX = util.getInput('INDEX', 'any');\n    return util.anyInput(`getLineOfList(${LIST}, ${INDEX})`);\n  };\n  inputLibrary['data_itemnumoflist'] = function(util) {\n    const LIST = util.getListReference('LIST');\n    const ITEM = util.getInput('ITEM', 'any');\n    return util.numberInput(`listIndexOf(${LIST}, ${ITEM})`);\n  };\n  inputLibrary['data_lengthoflist'] = function(util) {\n    const LIST = util.getListReference('LIST');\n    return util.numberInput(`${LIST}.length`);\n  };\n  inputLibrary['data_listcontainsitem'] = function(util) {\n    const LIST = util.getListReference('LIST');\n    const ITEM = util.getInput('ITEM', 'any');\n    return util.booleanInput(`listContains(${LIST}, ${ITEM})`);\n  };\n  inputLibrary['looks_backdropnumbername'] = function(util) {\n    const NUMBER_NAME = util.getField('NUMBER_NAME');\n    if (NUMBER_NAME === 'number') {\n      return util.numberInput('(self.currentCostumeIndex + 1)');\n    } else {\n      return util.stringInput('self.costumes[self.currentCostumeIndex].name');\n    }\n  };\n  inputLibrary['looks_backdrops'] = function(util) {\n    return util.fieldInput('BACKDROP');\n  };\n  inputLibrary['looks_costume'] = function(util) {\n    return util.fieldInput('COSTUME');\n  };\n  inputLibrary['looks_costumenumbername'] = function(util) {\n    const NUMBER_NAME = util.getField('NUMBER_NAME');\n    if (NUMBER_NAME === 'number') {\n      return util.numberInput('(S.currentCostumeIndex + 1)');\n    } else {\n      return util.stringInput('S.costumes[S.currentCostumeIndex].name');\n    }\n  };\n  inputLibrary['looks_size'] = function(util) {\n    return util.numberInput('Math.round(S.scale * 100)');\n  };\n  inputLibrary['makeymakey_menu_KEY'] = function(util) {\n    return util.fieldInput('KEY');\n  };\n  inputLibrary['makeymakey_menu_SEQUENCE'] = function(util) {\n    return util.fieldInput('SEQUENCE');\n  };\n  inputLibrary['matrix'] = function(util) {\n    return util.fieldInput('MATRIX');\n  };\n  inputLibrary['motion_direction'] = function(util) {\n    return util.numberInput('S.direction');\n  };\n  inputLibrary['motion_glideto_menu'] = function(util) {\n    return util.fieldInput('TO');\n  };\n  inputLibrary['motion_goto_menu'] = function(util) {\n    return util.fieldInput('TO');\n  };\n  inputLibrary['motion_pointtowards_menu'] = function(util) {\n    return util.fieldInput('TOWARDS');\n  };\n  inputLibrary['motion_xposition'] = function(util) {\n    return util.numberInput('S.scratchX');\n  };\n  inputLibrary['motion_yposition'] = function(util) {\n    return util.numberInput('S.scratchY');\n  };\n  inputLibrary['music_getTempo'] = function(util) {\n    return util.numberInput('self.tempoBPM');\n  };\n  inputLibrary['music_menu_DRUM'] = function(util) {\n    return util.fieldInput('DRUM');\n  };\n  inputLibrary['music_menu_INSTRUMENT'] = function(util) {\n    return util.fieldInput('INSTRUMENT');\n  };\n  inputLibrary['note'] = function(util) {\n    return util.fieldInput('NOTE');\n  };\n  inputLibrary['operator_add'] = function(util) {\n    const NUM1 = util.getInput('NUM1', 'number');\n    const NUM2 = util.getInput('NUM2', 'number');\n    const input = util.numberInput(`(${NUM1} + ${NUM2})`);\n    input.enableFlag(P.sb3.compiler.InputFlags.NaN); // Infinity + (-Infitity)\n    return input;\n  };\n  inputLibrary['operator_and'] = function(util) {\n    const OPERAND1 = util.getInput('OPERAND1', 'any');\n    const OPERAND2 = util.getInput('OPERAND2', 'any');\n    return util.booleanInput(`(${OPERAND1} && ${OPERAND2})`);\n  };\n  inputLibrary['operator_contains'] = function(util) {\n    const STRING1 = util.getInput('STRING1', 'string');\n    const STRING2 = util.getInput('STRING2', 'string');\n    return util.booleanInput(`stringContains(${STRING1}, ${STRING2})`);\n  };\n  inputLibrary['operator_divide'] = function(util) {\n    const NUM1 = util.getInput('NUM1', 'number');\n    const NUM2 = util.getInput('NUM2', 'number');\n    const input = util.numberInput(`(${NUM1} / ${NUM2})`);\n    input.enableFlag(P.sb3.compiler.InputFlags.NaN); // 0 / 0\n    return input;\n  };\n  inputLibrary['operator_equals'] = function(util) {\n    const OPERAND1 = util.getInput('OPERAND1', 'any');\n    const OPERAND2 = util.getInput('OPERAND2', 'any');\n    // If we know at compile-time that either input cannot be a number, we will use the faster strEqual.\n    if (!OPERAND1.potentialNumber || !OPERAND2.potentialNumber) {\n      return util.booleanInput(`strEqual(${OPERAND1}, ${OPERAND2})`);\n    }\n    if (P.config.experimentalOptimizations) {\n      // If we know at compile-time that an input is a number, we will use the faster numEqual method.\n      // The first argument to numEqual must be a number, the other will be converted if necessary.\n      if (OPERAND1.type === 'number') {\n        return util.booleanInput(`numEqualExperimental(${OPERAND1}, ${OPERAND2})`);\n      }\n      if (OPERAND2.type === 'number') {\n        return util.booleanInput(`numEqualExperimental(${OPERAND2}, ${OPERAND1})`);\n      }\n    }\n    return util.booleanInput(`equal(${OPERAND1}, ${OPERAND2})`);\n  };\n  inputLibrary['operator_gt'] = function(util) {\n    const OPERAND1 = util.getInput('OPERAND1', 'any');\n    const OPERAND2 = util.getInput('OPERAND2', 'any');\n    if (P.config.experimentalOptimizations) {\n      if (OPERAND1.type === 'number') {\n        return util.booleanInput(`numGreaterExperimental(${OPERAND1}, ${OPERAND2})`);\n      }\n    }\n    return util.booleanInput(`(compare(${OPERAND1}, ${OPERAND2}) === 1)`);\n  };\n  inputLibrary['operator_join'] = function(util) {\n    const STRING1 = util.getInput('STRING1', 'string');\n    const STRING2 = util.getInput('STRING2', 'string');\n    return util.stringInput(`(${STRING1} + ${STRING2})`)\n  };\n  inputLibrary['operator_length'] = function(util) {\n    const STRING = util.getInput('STRING', 'string');\n    // TODO: parenthesis important?\n    return util.numberInput(`(${STRING}).length`);\n  };\n  inputLibrary['operator_letter_of'] = function(util) {\n    const STRING = util.getInput('STRING', 'string');\n    const LETTER = util.getInput('LETTER', 'number');\n    return util.stringInput(`((${STRING})[(${LETTER} | 0) - 1] || \"\")`);\n  };\n  inputLibrary['operator_lt'] = function(util) {\n    const OPERAND1 = util.getInput('OPERAND1', 'any');\n    const OPERAND2 = util.getInput('OPERAND2', 'any');\n    if (P.config.experimentalOptimizations) {\n      if (OPERAND1.type === 'number') {\n        return util.booleanInput(`numLessExperimental(${OPERAND1}, ${OPERAND2})`);\n      }\n    }\n    return util.booleanInput(`(compare(${OPERAND1}, ${OPERAND2}) === -1)`);\n  };\n  inputLibrary['operator_mathop'] = function(util) {\n    const OPERATOR = util.getField('OPERATOR');\n    const NUM = util.getInput('NUM', 'number');\n\n    switch (OPERATOR) {\n      case 'abs':\n        return util.numberInput(`Math.abs(${NUM})`);\n      case 'floor':\n        return util.numberInput(`Math.floor(${NUM})`);\n      case 'sqrt': {\n        const input = util.numberInput(`Math.sqrt(${NUM})`);\n        input.enableFlag(P.sb3.compiler.InputFlags.NaN);\n        return input;\n      }\n      case 'ceiling':\n        return util.numberInput(`Math.ceil(${NUM})`);\n      case 'cos':\n        return util.numberInput(`(Math.round(Math.cos(${NUM} * Math.PI / 180) * 1e10) / 1e10)`);\n      case 'sin':\n        return util.numberInput(`(Math.round(Math.sin(${NUM} * Math.PI / 180) * 1e10) / 1e10)`);\n      case 'tan':\n        return util.numberInput(`tan3(${NUM})`);\n      case 'asin':\n        return util.numberInput(`(Math.asin(${NUM}) * 180 / Math.PI)`);\n      case 'acos':\n        return util.numberInput(`(Math.acos(${NUM}) * 180 / Math.PI)`);\n      case 'atan':\n        return util.numberInput(`(Math.atan(${NUM}) * 180 / Math.PI)`);\n      case 'ln':\n        return util.numberInput(`Math.log(${NUM})`);\n      case 'log':\n        return util.numberInput(`(Math.log(${NUM}) / Math.LN10)`);\n      case 'e ^':\n        return util.numberInput(`Math.exp(${NUM})`);\n      case '10 ^':\n        return util.numberInput(`Math.pow(10, ${NUM})`);\n      default:\n        return util.numberInput('0');\n    }\n  };\n  inputLibrary['operator_mod'] = function(util) {\n    const NUM1 = util.getInput('NUM1', 'number');\n    const NUM2 = util.getInput('NUM2', 'number');\n    return util.numberInput(`mod(${NUM1}, ${NUM2})`);\n  };\n  inputLibrary['operator_multiply'] = function(util) {\n    const NUM1 = util.getInput('NUM1', 'number');\n    const NUM2 = util.getInput('NUM2', 'number');\n    const input = util.numberInput(`(${NUM1} * ${NUM2})`);\n    input.enableFlag(P.sb3.compiler.InputFlags.NaN); // Infinity * 0\n    return input;\n  };\n  inputLibrary['operator_not'] = function(util) {\n    const OPERAND = util.getInput('OPERAND', 'any');\n    return util.booleanInput(`!${OPERAND}`);\n  };\n  inputLibrary['operator_or'] = function(util) {\n    const OPERAND1 = util.getInput('OPERAND1', 'any');\n    const OPERAND2 = util.getInput('OPERAND2', 'any');\n    return util.booleanInput(`(${OPERAND1} || ${OPERAND2})`);\n  };\n  inputLibrary['operator_random'] = function(util) {\n    const FROM = util.getInput('FROM', 'string');\n    const TO = util.getInput('TO', 'string');\n    return util.numberInput(`random3(${FROM}, ${TO})`);\n  };\n  inputLibrary['operator_round'] = function(util) {\n    const NUM = util.getInput('NUM', 'number');\n    return util.numberInput(`Math.round(${NUM})`);\n  };\n  inputLibrary['operator_subtract'] = function(util) {\n    const NUM1 = util.getInput('NUM1', 'number');\n    const NUM2 = util.getInput('NUM2', 'number');\n    const input = util.numberInput(`(${NUM1} - ${NUM2})`);\n    input.enableFlag(P.sb3.compiler.InputFlags.NaN); // Infinity - Infinity\n    return input;\n  };\n  inputLibrary['pen_menu_colorParam'] = function(util) {\n    return util.fieldInput('colorParam');\n  };\n  inputLibrary['sensing_answer'] = function(util) {\n    return util.stringInput('self.answer');\n  };\n  inputLibrary['sensing_coloristouchingcolor'] = function(util) {\n    const COLOR = util.getInput('COLOR', 'color');\n    const COLOR2 = util.getInput('COLOR2', 'color');\n    return util.booleanInput(`S.colorTouchingColor(${COLOR}, ${COLOR2})`);\n  };\n  inputLibrary['sensing_current'] = function(util) {\n    const CURRENTMENU = util.getField('CURRENTMENU').toLowerCase();\n    switch (CURRENTMENU) {\n      case 'year': return util.numberInput('new Date().getFullYear()');\n      case 'month': return util.numberInput('(new Date().getMonth() + 1)');\n      case 'date': return util.numberInput('new Date().getDate()');\n      case 'dayofweek': return util.numberInput('(new Date().getDay() + 1)');\n      case 'hour': return util.numberInput('new Date().getHours()');\n      case 'minute': return util.numberInput('new Date().getMinutes()');\n      case 'second': return util.numberInput('new Date().getSeconds()');\n    }\n    return util.numberInput('0');\n  };\n  inputLibrary['sensing_dayssince2000'] = function(util) {\n    return util.numberInput('((Date.now() - epoch) / 86400000)');\n  };\n  inputLibrary['sensing_distanceto'] = function(util) {\n    const DISTANCETOMENU = util.getInput('DISTANCETOMENU', 'any');\n    return util.numberInput(`S.distanceTo(${DISTANCETOMENU})`);\n  };\n  inputLibrary['sensing_distancetomenu'] = function(util) {\n    return util.fieldInput('DISTANCETOMENU');\n  };\n  inputLibrary['sensing_keyoptions'] = function(util) {\n    return util.fieldInput('KEY_OPTION');\n  };\n  inputLibrary['sensing_keypressed'] = function(util) {\n    const KEY_OPTION = util.getInput('KEY_OPTION', 'string');\n    // in scratch 3, the input can be dynamic so the getKeyCode call cannot be easily removed\n    // we also have to use getKeyCode3 because of some changes made in Scratch 3\n    return util.booleanInput(`!!self.keys[getKeyCode3(${KEY_OPTION})]`);\n  };\n  inputLibrary['sensing_loud'] = function(util) {\n    util.stage.initMicrophone();\n    return util.booleanInput('(self.microphone.getLoudness() > 10)');\n  };\n  inputLibrary['sensing_loudness'] = function(util) {\n    util.stage.initMicrophone();\n    return util.numberInput('self.microphone.getLoudness()');\n  };\n  inputLibrary['sensing_mousedown'] = function(util) {\n    return util.booleanInput('self.mousePressed');\n  };\n  inputLibrary['sensing_mousex'] = function(util) {\n    return util.numberInput('self.mouseX');\n  };\n  inputLibrary['sensing_mousey'] = function(util) {\n    return util.numberInput('self.mouseY');\n  };\n  inputLibrary['sensing_of'] = function(util) {\n    const PROPERTY = util.sanitizedString(util.getField('PROPERTY'));\n    const OBJECT = util.getInput('OBJECT', 'string');\n    return util.anyInput(`attribute(${PROPERTY}, ${OBJECT})`);\n  };\n  inputLibrary['sensing_of_object_menu'] = function(util) {\n    return util.fieldInput('OBJECT');\n  };\n  inputLibrary['sensing_timer'] = function(util) {\n    return util.numberInput('((runtime.now() - runtime.timerStart) / 1000)');\n  };\n  inputLibrary['sensing_touchingcolor'] = function(util) {\n    const COLOR = util.getInput('COLOR', 'color');\n    return util.booleanInput(`S.touchingColor(${COLOR})`);\n  };\n  inputLibrary['sensing_touchingobject'] = function(util) {\n    const TOUCHINGOBJECTMENU = util.getInput('TOUCHINGOBJECTMENU', 'string');\n    return util.booleanInput(`S.touching(${TOUCHINGOBJECTMENU})`);\n  };\n  inputLibrary['sensing_touchingobjectmenu'] = function(util) {\n    return util.fieldInput('TOUCHINGOBJECTMENU');\n  };\n  inputLibrary['sound_sounds_menu'] = function(util) {\n    return util.fieldInput('SOUND_MENU');\n  };\n  inputLibrary['sensing_username'] = function(util) {\n    return util.stringInput('self.username');\n  };\n  inputLibrary['sound_volume'] = function(util) {\n    return util.numberInput('(S.volume * 100)');\n  };\n  inputLibrary['text2speech_menu_voices'] = function(util) {\n    return util.fieldInput('voices');\n  };\n  inputLibrary['text2speech_menu_languages'] = function(util) {\n    return util.fieldInput('languages');\n  };\n  inputLibrary['translate_menu_languages'] = function(util) {\n    return util.fieldInput('languages');\n  };\n  inputLibrary['translate_getTranslate'] = function(util) {\n    const WORDS = util.getInput('WORDS', 'string');\n    const LANGUAGE = util.getInput('LANGUAGE', 'string');\n    // The translation extension is stubbed in forkphorus to only return the supplied input.\n    // Using Scratch' translation API is very questionable, and most projects don't use the API anyways.\n    return WORDS;\n  };\n  inputLibrary['translate_getViewerLanguage'] = function(util) {\n    // TODO: return option or user's actual language?\n    return util.sanitizedInput('English');\n  };\n  inputLibrary['videoSensing_menu_VIDEO_STATE'] = function(util) {\n    return util.fieldInput('VIDEO_STATE');\n  };\n\n  // Legacy no-ops\n  // https://github.com/LLK/scratch-vm/blob/bb42c0019c60f5d1947f3432038aa036a0fddca6/src/blocks/scratch3_sensing.js#L74\n  // https://github.com/LLK/scratch-vm/blob/bb42c0019c60f5d1947f3432038aa036a0fddca6/src/blocks/scratch3_motion.js#L42-L43\n  const noopInput = (util: P.sb3.compiler.InputUtil) => util.anyInput('undefined');\n  inputLibrary['motion_yscroll'] = noopInput;\n  inputLibrary['motion_xscroll'] = noopInput;\n  inputLibrary['sensing_userid'] = noopInput;\n\n  /* Hats */\n  hatLibrary['control_start_as_clone'] = {\n    handle(util) {\n      util.target.listeners.whenCloned.push(util.startingFunction);\n    },\n  };\n  hatLibrary['event_whenbackdropswitchesto'] = {\n    handle(util) {\n      const BACKDROP = util.getField('BACKDROP').toLowerCase();\n      if (!util.target.listeners.whenSceneStarts[BACKDROP]) {\n        util.target.listeners.whenSceneStarts[BACKDROP] = [];\n      }\n      util.target.listeners.whenSceneStarts[BACKDROP].push(util.startingFunction);\n    },\n  };\n  hatLibrary['event_whenbroadcastreceived'] = {\n    handle(util) {\n      const BROADCAST_OPTION = util.getField('BROADCAST_OPTION').toLowerCase();\n      if (!util.target.listeners.whenIReceive[BROADCAST_OPTION]) {\n        util.target.listeners.whenIReceive[BROADCAST_OPTION] = [];\n      }\n      util.target.listeners.whenIReceive[BROADCAST_OPTION].push(util.startingFunction);\n    },\n  };\n  hatLibrary['event_whenflagclicked'] = {\n    handle(util) {\n      util.target.listeners.whenGreenFlag.push(util.startingFunction);\n    },\n  };\n  hatLibrary['event_whengreaterthan'] = {\n    precompile(compiler, hat) {\n      const WHENGREATERTHANMENU = compiler.getField(hat, 'WHENGREATERTHANMENU');\n      const VALUE = compiler.compileInput(hat, 'VALUE', 'number');\n\n      let executeWhen = 'false';\n      let stallUntil = 'false';\n      switch (WHENGREATERTHANMENU.toLowerCase()) {\n        case 'timer':\n          executeWhen = `runtime.whenTimerMSecs / 1000 > ${VALUE}`;\n          stallUntil = `runtime.whenTimerMSecs / 1000 <= ${VALUE}`;\n          break;\n        case 'loudness':\n          compiler.target.stage.initMicrophone();\n          executeWhen = `self.microphone.getLoudness() > ${VALUE}`;\n          stallUntil = `self.microphone.getLoudness() <= ${VALUE}`;\n          break;\n        default:\n          console.warn('unknown WHENGREATERTHANMENU', WHENGREATERTHANMENU);\n      }\n\n      let source = '';\n      source += 'if (!R.init) { R.init = true; R.stalled = false; }\\n';\n      source += `if (R.stalled && (${stallUntil})) { R.stalled = false; }\\n`;\n      source += `else if (!R.stalled && (${executeWhen})) { R.stalled = true;\\n`;\n      // if/else will be finished in postcompile\n      return source;\n    },\n    postcompile(compiler, source, hat) {\n      // finish the if/else started in precompile\n      source += '}\\n';\n      source += `forceQueue(${compiler.target.fns.length});`;\n      return source;\n    },\n    handle(util) {\n      util.target.listeners.edgeActivated.push(util.startingFunction);\n    },\n  };\n  hatLibrary['event_whenkeypressed'] = {\n    handle(util) {\n      const KEY_OPTION = util.getField('KEY_OPTION');\n      const key = P.runtime.getKeyCode(KEY_OPTION);\n      util.target.addWhenKeyPressedHandler(key, util.startingFunction);\n    },\n  };\n  hatLibrary['event_whenstageclicked'] = {\n    handle(util) {\n      util.target.listeners.whenClicked.push(util.startingFunction);\n    },\n  };\n  hatLibrary['event_whenthisspriteclicked'] = {\n    handle(util) {\n      util.target.listeners.whenClicked.push(util.startingFunction);\n    },\n  };\n  function makeymakeyParseKey(key: string): string {\n    key = key.toLowerCase();\n    if (key === 'up' || key === 'down' || key === 'left' || key === 'right') {\n      return P.runtime.getKeyCode(key + ' arrow');\n    }\n    return P.runtime.getKeyCode(key);\n  }\n  hatLibrary['makeymakey_whenMakeyKeyPressed'] = {\n    handle(util) {\n      const KEY = util.getInput('KEY', 'string');\n      try {\n        const keyValue = '' + util.evaluateInputOnce(KEY);\n        if (typeof keyValue !== 'string') throw new Error('cannot accept type: ' + typeof keyValue);\n        var keyCode = makeymakeyParseKey(keyValue);\n      } catch (e) {\n        util.compiler.warn('makeymakey key generation error', e);\n        return;\n      }\n      const key = P.runtime.getKeyCode(keyCode);\n      util.target.addWhenKeyPressedHandler(key, util.startingFunction);\n    },\n  };\n  hatLibrary['procedures_definition'] = {\n    handle(util) {\n      // TODO: HatUtil helpers for this\n\n      const customBlockId = util.block.inputs.custom_block[1];\n      const mutation = util.compiler.blocks[customBlockId].mutation;\n\n      const proccode = mutation.proccode;\n\n      if (!util.target.procedures[proccode]) {\n        // Warp is either a boolean or a string representation of that boolean for some reason.\n        const warp = typeof mutation.warp === 'string' ? mutation.warp === 'true' : mutation.warp;\n        // It's a stringified JSON array.\n        const argumentNames = JSON.parse(mutation.argumentnames);\n\n        const procedure = new P.sb3.Scratch3Procedure(util.startingFunction, warp, argumentNames);\n        util.target.procedures[proccode] = procedure;\n      }\n    },\n    postcompile(compiler, source, hat) {\n      return source + 'endCall(); return;\\n';\n    },\n    precompile(compiler, hat) {\n      // see `handle()` above for what these do\n      const customBlockId = hat.inputs.custom_block[1];\n      const mutation = compiler.blocks[customBlockId].mutation;\n      const warp = typeof mutation.warp === 'string' ? mutation.warp === 'true' : mutation.warp;\n      const argumentNames = JSON.parse(mutation.argumentnames);\n\n      compiler.state.isProcedure = true;\n      compiler.state.argumentNames = argumentNames;\n      if (warp) {\n        compiler.state.isWarp = true;\n      }\n\n      return '';\n    },\n  };\n\n  /* Watchers */\n  watcherLibrary['data_variable'] = {\n    init(watcher) {\n      const name = watcher.params.VARIABLE;\n      watcher.target.watchers[name] = watcher;\n    },\n    set(watcher, value) {\n      const name = watcher.params.VARIABLE;\n      watcher.target.vars[name] = value;\n    },\n    evaluate(watcher) {\n      const name = watcher.params.VARIABLE;\n      return watcher.target.vars[name];\n    },\n    getLabel(watcher) {\n      return watcher.params.VARIABLE;\n    },\n  };\n  watcherLibrary['looks_backdropnumbername'] = {\n    evaluate(watcher) {\n      const target = watcher.stage;\n      const param = watcher.params.NUMBER_NAME;\n      if (param === 'number') {\n        return target.currentCostumeIndex + 1;\n      } else {\n        return target.costumes[target.currentCostumeIndex].name;\n      }\n    },\n    getLabel(watcher) {\n      return 'backdrop ' + watcher.params.NUMBER_NAME;\n    },\n  };\n  watcherLibrary['looks_costumenumbername'] = {\n    evaluate(watcher) {\n      const target = watcher.target;\n      const param = watcher.params.NUMBER_NAME;\n      if (param === 'number') {\n        return target.currentCostumeIndex + 1;\n      } else {\n        return target.costumes[target.currentCostumeIndex].name;\n      }\n    },\n    getLabel(watcher) {\n      return 'costume ' + watcher.params.NUMBER_NAME;\n    },\n  };\n  watcherLibrary['looks_size'] = {\n    evaluate(watcher) { return P.core.isSprite(watcher.target) ? watcher.target.scale * 100 : 100; },\n    getLabel() { return 'size'; },\n  };\n  watcherLibrary['motion_direction'] = {\n    evaluate(watcher) { return P.core.isSprite(watcher.target) ? watcher.target.direction : 0; },\n    getLabel() { return 'direction'; },\n  };\n  watcherLibrary['motion_xposition'] = {\n    evaluate(watcher) { return watcher.target.scratchX; },\n    getLabel() { return 'x position'; },\n  };\n  watcherLibrary['motion_yposition'] = {\n    evaluate(watcher) { return watcher.target.scratchY; },\n    getLabel() { return 'y position'; },\n  };\n  watcherLibrary['music_getTempo'] = {\n    evaluate(watcher) { return watcher.stage.tempoBPM; },\n    getLabel() { return 'Music: tempo'; },\n  };\n  watcherLibrary['sensing_answer'] = {\n    evaluate(watcher) { return watcher.stage.answer; },\n    getLabel() { return 'answer'; },\n  };\n  watcherLibrary['sensing_current'] = {\n    evaluate(watcher) {\n      const param = watcher.params.CURRENTMENU.toLowerCase();\n      switch (param) {\n        case 'year': return new Date().getFullYear();\n        case 'month': return new Date().getMonth() + 1;\n        case 'date': return new Date().getDate();\n        case 'dayofweek': return new Date().getDay() + 1;\n        case 'hour': return new Date().getHours();\n        case 'minute': return new Date().getMinutes();\n        case 'second': return new Date().getSeconds();\n      }\n      return 0;\n    },\n    getLabel(watcher) {\n      const param = watcher.params.CURRENTMENU.toLowerCase();\n      // all expected params except DAYOFWEEK can just be lowercased and used directly\n      if (param === 'dayofweek') {\n        return 'day of week';\n      }\n      return param;\n    }\n  };\n  watcherLibrary['sensing_loudness'] = {\n    init(watcher) {\n      watcher.stage.initMicrophone();\n    },\n    evaluate(watcher) {\n      if (watcher.stage.microphone) {\n        return watcher.stage.microphone.getLoudness();\n      } else {\n        return -1;\n      }\n    },\n    getLabel() { return 'loudness'; },\n  };\n  watcherLibrary['sensing_timer'] = {\n    evaluate(watcher) {\n      return (watcher.stage.runtime.now() - watcher.stage.runtime.timerStart) / 1000;\n    },\n    getLabel() { return 'timer'; },\n  };\n  watcherLibrary['sensing_username'] = {\n    evaluate(watcher) { return watcher.stage.username; },\n    getLabel() { return 'username'; },\n  };\n  watcherLibrary['sound_volume'] = {\n    evaluate(watcher) { return watcher.target.volume * 100; },\n    getLabel() { return 'volume'; },\n  };\n}());\n","/// <reference path=\"../phosphorus.ts\" />\n\nnamespace P.ext {\n  export abstract class Extension {\n    public stage: P.core.Stage;\n\n    constructor(stage: P.core.Stage) {\n      this.stage = stage;\n    }\n\n    /**\n     * Delete this extension.\n     */\n    destroy() {\n\n    }\n\n    /**\n     * Called when the project is started or resumed\n     */\n    onstart() {\n\n    }\n\n    /**\n     * Called when the project is paused\n     */\n    onpause() {\n\n    }\n\n    /**\n     * Called at the end of every frame\n     */\n    update() {\n\n    }\n  }\n}\n","/// <reference path=\"../phosphorus.ts\" />\n/// <reference path=\"extension.ts\" />\n\nnamespace P.ext.cloud {\n  export interface CloudHandler extends P.ext.Extension {\n    variableChanged(name: string): void;\n  }\n\n  // We aim for about 15 updates per second.\n  // This is more than what Scratch does, I believe.\n  const UPDATE_INTERVAL = 1000 / 15;\n\n  export function getAllCloudVariables(stage: P.core.Stage) {\n    const result = {};\n    for (const variable of stage.cloudVariables) {\n      result[variable] = stage.vars[variable];\n    }\n    return result;\n  }\n\n  interface CloudDataMessage {\n    method: string;\n  }\n\n  interface CloudSetMessage {\n    method: 'set';\n    name: string;\n    value: string;\n  }\n\n  function isCloudDataMessage(data: unknown): data is CloudDataMessage {\n    if (typeof data !== 'object' || !data) {\n      return false;\n    }\n    return typeof (data as CloudDataMessage).method === 'string';\n  }\n\n  function isCloudSetMessage(data: unknown): data is CloudSetMessage {\n    return isCloudDataMessage(data) &&\n      typeof (data as CloudSetMessage).name === 'string' &&\n      typeof (data as CloudSetMessage).value !== 'undefined';\n  }\n\n  /**\n   * Implements cloud variables over WebSocket.\n   * Intended Server Code: https://github.com/forkphorus/cloud-server\n   * Protocol docs: https://github.com/forkphorus/cloud-server/blob/master/doc/protocol.md\n   */\n  export class WebSocketCloudHandler extends P.ext.Extension implements CloudHandler {\n    private readonly logPrefix: string;\n    private hosts: string[];\n    private ws: WebSocket | null = null;\n    private queuedVariableChanges: string[] = [];\n    private updateInterval: number | null = null;\n    private reconnectTimeout: number | null = null;\n    private shouldReconnect: boolean = true;\n    private failures: number = 0;\n    private username: string;\n    private interfaceStatusIndicator: HTMLElement;\n    private hideStatusTimeout: number;\n\n    constructor(stage: P.core.Stage, hosts: string[] | string, private id: string) {\n      super(stage);\n      this.hosts = Array.isArray(hosts) ? hosts : [hosts];\n      this.logPrefix = '[cloud-ws ' + this.hosts[0] + ']';\n      this.username = this.stage.username;\n\n      this.interfaceStatusIndicator = document.createElement('div');\n      this.interfaceStatusIndicator.className = 'phosphorus-cloud-status-indicator';\n      stage.ui.appendChild(this.interfaceStatusIndicator);\n\n      this.handleUpdateInterval = this.handleUpdateInterval.bind(this);\n      this.connect();\n    }\n\n    variableChanged(name: string): void {\n      if (this.queuedVariableChanges.indexOf(name) > -1) {\n        // already queued, do not add again\n        return;\n      }\n      this.queuedVariableChanges.push(name);\n      if (this.updateInterval === null) {\n        // handle first change immediately, reduces latency on the first set\n        this.handleUpdateInterval();\n        this.startUpdateInterval();\n      }\n    }\n\n    private handleUpdateInterval() {\n      if (this.queuedVariableChanges.length === 0) {\n        // no further changes, interval can stop\n        this.stopUpdateInterval();\n        return;\n      }\n      if (this.ws === null || this.ws.readyState !== this.ws.OPEN || this.ws.bufferedAmount > 16384) {\n        // do not try to send data if there is no connection or if we are significantly backlogged on data sending\n        // this condition is likely to be temporary so don't stop the interval\n        return;\n      }\n      const variableName = this.queuedVariableChanges.shift()!;\n      const value = this.getVariable(variableName);\n      this.send({\n        method: 'set',\n        name: variableName,\n        value: value,\n      });\n    }\n\n    private send(data: any) {\n      if (!this.ws) return;\n      this.ws.send(JSON.stringify(data));\n    }\n\n    private getVariable(name: string): string {\n      return this.stage.vars[name];\n    }\n\n    private setVariable(name: string, value: string): void {\n      this.stage.vars[name] = value;\n    }\n\n    private terminateConnection(code: number = 1000) {\n      // 1000 is Normal Closure\n      if (this.ws !== null) {\n        this.ws.close(code);\n        this.ws = null;\n      }\n    }\n\n    private connect() {\n      if (this.ws !== null) {\n        throw new Error('already connected');\n      }\n\n      this.setStatusText('Connecting...');\n      console.log(this.logPrefix, 'connecting');\n      this.ws = new WebSocket(this.hosts[this.failures % this.hosts.length]);\n      this.shouldReconnect = true;\n\n      this.ws.onopen = () => {\n        console.log(this.logPrefix, 'connected');\n\n        this.setStatusText('Connected');\n        this.setStatusVisible(false);\n\n        this.failures = 0;\n\n        this.send({\n          method: 'handshake',\n          project_id: this.id,\n          user: this.username\n        });\n      };\n\n      this.ws.onmessage = (e) => {\n        try {\n          // Each line of the message is treated as a separate JSON-encoded message.\n          // This is not a JSON list.\n          const lines = e.data.split('\\n');\n          for (const line of lines) {\n            const data = JSON.parse(line);\n            this.handleMessage(data);\n          }\n          // Update variable watchers\n          if (!this.stage.runtime.isRunning) {\n            this.stage.draw();\n          }\n        } catch (err) {\n          console.warn('error parsing cloud server message', e.data, err);\n        }\n      };\n\n      this.ws.onclose = (e) => {\n        const code = e.code;\n        this.ws = null;\n        console.warn(this.logPrefix, 'closed', code);\n        // https://github.com/TurboWarp/cloud-server/blob/master/doc/protocol.md\n        if (code === 4002) {\n          this.setStatusText('Username is invalid. Change your username to connect.');\n          this.hideStatusAfterDelay();\n          console.error(this.logPrefix, 'error: Username');\n        } else if (code === 4004) {\n          this.setStatusText('Cloud variables are disabled for this project.');\n          this.hideStatusAfterDelay();\n          console.error(this.logPrefix, 'error: Project is disabled.');\n        } else {\n          this.reconnect();\n        }\n      };\n\n      this.ws.onerror = (e) => {\n        console.warn(this.logPrefix, 'error', e);\n        // onclose is called after onerror\n      };\n    }\n\n    private reconnect() {\n      if (!this.shouldReconnect) {\n        return;\n      }\n      this.terminateConnection();\n      if (this.reconnectTimeout) {\n        clearTimeout(this.reconnectTimeout);\n      } else {\n        // only increase failures in the case of an actual failure\n        // rescheduling a reconnect is not a failure\n        this.failures++;\n      }\n      this.setStatusText('Connection lost, reconnecting...');\n      const delayTime = 2 ** this.failures * 1000 * Math.random();\n      console.log(this.logPrefix, 'reconnecting in', delayTime);\n      this.reconnectTimeout = setTimeout(() => {\n        this.reconnectTimeout = null;\n        this.connect();\n      }, delayTime);\n    }\n\n    private disconnect() {\n      console.log(this.logPrefix, 'disconnecting');\n      this.shouldReconnect = false;\n      this.terminateConnection();\n    }\n\n    private handleMessage(data: unknown) {\n      if (!isCloudSetMessage(data)) {\n        return;\n      }\n      const { name: variableName, value } = data;\n      if (this.stage.cloudVariables.indexOf(variableName) === -1) {\n        throw new Error('invalid variable name');\n      }\n      this.setVariable(variableName, value);\n    }\n\n    private startUpdateInterval() {\n      if (this.updateInterval !== null) {\n        return;\n      }\n      this.updateInterval = setInterval(this.handleUpdateInterval, UPDATE_INTERVAL);\n    }\n\n    private stopUpdateInterval() {\n      if (this.updateInterval === null) {\n        return;\n      }\n      clearInterval(this.updateInterval);\n      this.updateInterval = null;\n    }\n\n    private setStatusText(text: string) {\n      this.interfaceStatusIndicator.textContent = ` ${text}`;\n      this.setStatusVisible(true);\n    }\n\n    private setStatusVisible(visible: boolean) {\n      clearTimeout(this.hideStatusTimeout);\n      this.interfaceStatusIndicator.classList.toggle('phosphorus-cloud-status-indicator-hidden', !visible);\n    }\n\n    hideStatusAfterDelay() {\n      this.hideStatusTimeout = setTimeout(() => {\n        this.setStatusVisible(false);\n      }, 4000);\n    }\n\n    onstart() {\n      // project may have been paused & resumed with queued changes\n      if (this.queuedVariableChanges.length > 0) {\n        this.startUpdateInterval();\n      }\n    }\n\n    onpause() {\n      this.stopUpdateInterval();\n    }\n\n    update() {\n      if (this.stage.username !== this.username) {\n        console.log(this.logPrefix, 'username changed to', this.stage.username);\n        this.username = this.stage.username;\n        this.terminateConnection(4100); // Username Change\n        this.reconnect();\n      }\n    }\n\n    destroy() {\n      this.stopUpdateInterval();\n      this.disconnect();\n    }\n  }\n\n  export class LocalStorageCloudHandler extends P.ext.Extension implements CloudHandler {\n    private storageKey: string;\n\n    // In some browser configurations, localStorage does not exist or accessing it results in an error.\n    // To accommodate these scenarios, all localStorage operations MUST be wrapped in a try/catch\n\n    constructor(stage: P.core.Stage, id: string) {\n      super(stage);\n      this.storageKey = 'cloud-data:' + id;\n      this.load();\n      this.save = this.save.bind(this);\n    }\n\n    variableChanged(name: string): void {\n      // TODO: see whether delaying these save operations is good for performance\n      // if a variable is changed 10 times in 1 frame, it would not make sense to save it 10 times\n      this.save();\n    }\n\n    private load() {\n      try {\n        const savedData = localStorage.getItem(this.storageKey);\n        if (savedData === null) {\n          // no saved data, that's fine, ignore\n          return;\n        }\n        const parsedData = JSON.parse(savedData);\n        for (const key of Object.keys(parsedData)) {\n          if (this.stage.cloudVariables.indexOf(key) > -1) {\n            this.stage.vars[key] = parsedData[key];\n          }\n        }\n      } catch (e) {\n        console.warn('cannot read from localStorage', e);\n      }\n    }\n\n    private save() {\n      try {\n        localStorage.setItem(this.storageKey, JSON.stringify(getAllCloudVariables(this.stage)));\n      } catch (e) {\n        console.warn('cannot save to localStorage', e);\n      }\n    }\n  }\n}\n","/// <reference path=\"../phosphorus.ts\" />\n/// <reference path=\"extension.ts\" />\n\n/*!\nParts of this file (microphone.ts) are derived from https://github.com/LLK/scratch-audio/blob/develop/src/Loudness.js\n*/\n\nnamespace P.ext.microphone {\n  const enum MicrophoneState {\n    Disconnected = 0,\n    Connected = 1,\n    Connecting = 2,\n    Error = 3,\n  }\n\n  interface MicrophoneData {\n    source: MediaStreamAudioSourceNode;\n    stream: MediaStream;\n    analyzer: AnalyserNode;\n    dataArray: Uint8Array | Float32Array;\n    lastValue: number;\n    lastCheck: number;\n  }\n\n  let microphone: MicrophoneData | null = null;\n  let state: MicrophoneState = MicrophoneState.Disconnected;\n\n  // The loudness will be cached for this long, in milliseconds.\n  // getLoudness() has side effects (such as affecting smoothing) so a cache is needed.\n  const CACHE_TIME = 1000 / 30;\n\n  function createAnalyzerDataArray(analyzer: AnalyserNode) {\n    // TODO: it might be good to just always use byte mode because we likely don't benefit much from the accuracy of floats\n    if (!!analyzer.getFloatTimeDomainData) {\n      return new Float32Array(analyzer.fftSize);\n    } else if (!!analyzer.getByteTimeDomainData) {\n      // Safari does not support getFloatTimeDomainData\n      return new Uint8Array(analyzer.fftSize);\n    } else {\n      throw new Error('Analyzer node does not support getFloatTimeDomainData or getByteTimeDomainData');\n    }\n  }\n\n  /**\n   * Begin the process of connecting to the microphone.\n   */\n  function connect() {\n    if (state !== MicrophoneState.Disconnected) {\n      return;\n    }\n    if (!P.audio.context) {\n      console.warn('Cannot connect to microphone without audio context.');\n      state = MicrophoneState.Error;\n      return;\n    }\n    if (!navigator.mediaDevices) {\n      console.warn('Cannot access media devices, probably running in insecure (non-HTTPS) context.');\n      state = MicrophoneState.Error;\n      return;\n    }\n\n    state = MicrophoneState.Connecting;\n    navigator.mediaDevices.getUserMedia({ audio: true })\n      .then((mediaStream) => {\n        const source = P.audio.context!.createMediaStreamSource(mediaStream);\n        const analyzer = P.audio.context!.createAnalyser();\n        if (!analyzer.getFloatTimeDomainData) {\n          // Safari is missing this API\n          throw new Error('Missing API getFloatTimeDomainData');\n        }\n        source.connect(analyzer);\n        microphone = {\n          source: source,\n          stream: mediaStream,\n          analyzer,\n          dataArray: createAnalyzerDataArray(analyzer),\n          lastValue: -1,\n          lastCheck: 0,\n        };\n        state = MicrophoneState.Connected;\n      })\n    .catch((err) => {\n      console.warn('Cannot connect to microphone: ' + err);\n      state = MicrophoneState.Error;\n    });\n  }\n\n  /**\n   * Re-initializes the analyser node.\n   * This is necessary due to (what seems to be) a bug in Chrome.\n   */\n  function reinitAnalyser() {\n    if (!microphone) {\n      throw new Error('Microphone not connected; cannot re-init something that does not exist!')\n    }\n\n    // For some reason all analyser nodes stop working in Chrome after doing suspend() on the AudioContext\n    // getFloatTimeDomainData() will always return the same data, which isn't any good.\n    // This will fix that by creating a new analyser instead of re-using one.\n    const analyzer = P.audio.context!.createAnalyser();\n    microphone.source.disconnect();\n    microphone.source.connect(analyzer);\n    microphone.analyzer = analyzer;\n\n    // Check if fftSize changed, not sure if this is necessary\n    if (microphone.dataArray.length !== analyzer.fftSize) {\n      microphone.dataArray = createAnalyzerDataArray(analyzer);\n    }\n  }\n\n  /**\n   * @returns The volume level from 0-100 or -1 if the microphone is not active.\n   */\n  function getLoudness(): number {\n    if (microphone === null) {\n      connect();\n      return -1;\n    }\n    if (!microphone.stream.active) {\n      return -1;\n    }\n\n    if (Date.now() - microphone.lastCheck < CACHE_TIME) {\n      return microphone.lastValue;\n    }\n\n    let sum = 0;\n\n    if (microphone.dataArray instanceof Float32Array) {\n      microphone.analyzer.getFloatTimeDomainData(microphone.dataArray);\n      for (let i = 0; i < microphone.dataArray.length; i++) {\n        sum += Math.pow(microphone.dataArray[i], 2);\n      }\n    } else {\n      microphone.analyzer.getByteTimeDomainData(microphone.dataArray);\n      for (let i = 0; i < microphone.dataArray.length; i++) {\n        sum += Math.pow((microphone.dataArray[i] - 128) / 128, 2);\n      }\n    }\n\n    let rms = Math.sqrt(sum / microphone.dataArray.length);\n    if (microphone.lastValue !== -1) {\n      rms = Math.max(rms, microphone.lastValue * 0.6);\n    }\n    microphone.lastValue = rms;\n\n    rms *= 1.63;\n    rms = Math.sqrt(rms);\n    rms = Math.round(rms * 100);\n    rms = Math.min(rms, 100);\n\n    return rms;\n  }\n\n  export class MicrophoneExtension extends P.ext.Extension {\n    getLoudness() {\n      return getLoudness();\n    }\n\n    onstart() {\n      if (microphone) {\n        reinitAnalyser();\n      }\n    }\n  }\n}\n","/// <reference path=\"../phosphorus.ts\" />\n/// <reference path=\"extension.ts\" />\n\n/**\n * Text-to-speech\n */\nnamespace P.ext.tts {\n  export enum Gender {\n    Male,\n    Female,\n    Unknown,\n  }\n\n  // TODO: need a larger list of languages here\n\n  const femaleVoices = [\n    /Zira/, // Microsoft Zira Desktop - English (United States)\n    /female/i,\n  ];\n\n  const maleVoices = [\n    /David/, // Microsoft David Desktop - English (United States)\n    /\\bmale/i,\n  ];\n\n  type Voice = { gender: Gender; pitch: number; rate: number; };\n\n  const scratchVoices: ObjectMap<Voice> = {\n    ALTO: { gender: Gender.Female, pitch: 1, rate: 1 },\n    TENOR: { gender: Gender.Male, pitch: 1.5, rate: 1 },\n    GIANT: { gender: Gender.Male, pitch: 0.5, rate: 0.75 },\n    SQUEAK: { gender: Gender.Female, pitch: 2, rate: 1.5 },\n    KITTEN: { gender: Gender.Female, pitch: 2, rate: 1 },\n  };\n\n  export class TextToSpeechExtension extends P.ext.Extension {\n    private language: string = 'en';\n    private voice: string = 'ALTO';\n    private supported: boolean = 'speechSynthesis' in window;\n\n    constructor(stage: P.core.Stage) {\n      super(stage);\n      if (!this.supported) {\n        console.warn('TTS extension is not supported in this browser: it requires the speechSynthesis API https://developer.mozilla.org/en-US/docs/Web/API/SpeechSynthesis');\n      } else {\n        // browsers load the voices list async, so we attempt to fetch them once so that they will have them ready before the first TTS\n        speechSynthesis.getVoices();\n      }\n    }\n\n    private getVoiceGender(voice: SpeechSynthesisVoice): Gender {\n      if (femaleVoices.some((i) => i.test(voice.name))) return Gender.Female;\n      if (maleVoices.some((i) => i.test(voice.name))) return Gender.Male;\n      return Gender.Unknown;\n    }\n\n    private getVoiceData(voiceName: string): { voice: SpeechSynthesisVoice | null, rate: number, pitch: number; } {\n      const matchesGender = (voice: SpeechSynthesisVoice) => this.getVoiceGender(voice) === voiceGender;\n\n      const voice = scratchVoices[voiceName];\n      const rate = voice.rate;\n      const pitch = voice.pitch;\n\n      const voiceGender = scratchVoices[this.voice].gender;\n      // we have to refetch and filter the voices list every time because it can (and does) change at runtime.\n      const voices = speechSynthesis.getVoices();\n      const matchesLanguage = voices.filter((i) => i.lang.substr(0, 2) === this.language.substr(0, 2));\n\n      // try to find a voice that matches the language and gender\n      let candidates = matchesLanguage.filter(matchesGender);\n      // ... remove the gender requirement\n      if (candidates.length === 0) candidates = matchesLanguage;\n      // ... just use any voice\n      if (candidates.length === 0) candidates = voices;\n\n      const defaultVoice = candidates.find((i) => i.default);\n\n      return {\n        voice: defaultVoice || candidates[0] || null,\n        pitch,\n        rate,\n      }\n    }\n\n    setVoice(voice: string) {\n      if (!scratchVoices.hasOwnProperty(voice)) {\n        return;\n      }\n      this.voice = voice;\n    }\n\n    setLanguage(language: string) {\n      this.language = language;\n    }\n\n    speak(text: string): Promise<void> {\n      if (!this.supported) {\n        return Promise.resolve();\n      }\n\n      if (this.voice === 'KITTEN') text = text.replace(/\\w+?\\b/g, 'meow');\n\n      return new Promise((resolve, reject) => {\n        const end = () => resolve();\n        const utterance = new SpeechSynthesisUtterance(text);\n        utterance.lang = this.language;\n        const { voice, rate, pitch } = this.getVoiceData(this.voice);\n        utterance.voice = voice;\n        utterance.rate = rate;\n        utterance.pitch = pitch;\n        utterance.onerror = end;\n        utterance.onend = end;\n        speechSynthesis.speak(utterance);\n        speechSynthesis.resume();\n      });\n    }\n\n    onstart() {\n      if (this.supported) {\n        speechSynthesis.resume();\n      }\n    }\n\n    onpause() {\n      if (this.supported) {\n        speechSynthesis.pause();\n      }\n    }\n\n    destroy() {\n      if (this.supported) {\n        speechSynthesis.cancel();\n      }\n    }\n  }\n}\n","/// <reference path=\"../phosphorus.ts\" />\n/// <reference path=\"renderer.ts\" />\n\nnamespace P.renderer.canvas2d {\n  import RotationStyle = P.core.RotationStyle;\n\n  function getCSSFilter(filters: P.core.Filters) {\n    let filter = '';\n    if (filters.brightness) {\n      filter += 'brightness(' + (100 + filters.brightness) + '%) ';\n    }\n    if (filters.color) {\n      if (filters.color === Infinity) {\n        filter += 'grayscale(100%) ';\n      } else {\n        filter += 'hue-rotate(' + (filters.color / 200 * 360) + 'deg) ';\n      }\n    }\n    // ghost could be supported through opacity(), however that effect is applied with the opacity property because more browsers support it\n    return filter;\n  }\n\n  function create2dCanvas(): { canvas: HTMLCanvasElement, ctx: CanvasRenderingContext2D } {\n    const canvas = document.createElement('canvas');\n    canvas.width = 480;\n    canvas.height = 360;\n    const ctx = canvas.getContext('2d');\n    if (!ctx) {\n      throw new Error('Cannot get 2d rendering context in create2dCanvas');\n    }\n    ctx.imageSmoothingEnabled = false;\n    return { canvas, ctx };\n  }\n\n  // These are the only bits we care about when comparing colors, everything else is ignored.\n  // Note that the inconsistent pattern is intentional.\n  // Based on: https://github.com/LLK/scratch-render/blob/d73aeb1ac13d8b263abdfb189a6d2ee305688fa2/src/RenderWebGL.js#L61-L75\n  const COLOR_MASK = 0b111110001111100011110000;\n  //                   RRRRRRRRGGGGGGGGBBBBBBBB\n\n  export class SpriteRenderer2D {\n    public ctx: CanvasRenderingContext2D;\n    public canvas: HTMLCanvasElement;\n\n    public noEffects: boolean = false\n    public imageSmoothingEnabled: boolean = false;\n\n    constructor() {\n      const { canvas, ctx } = create2dCanvas();\n      this.canvas = canvas;\n      this.ctx = ctx;\n    }\n\n    reset(scale: number) {\n      this._reset(this.ctx, scale);\n    }\n\n    drawChild(c: P.core.Base) {\n      this._drawChild(c, this.ctx);\n    }\n\n    drawObjects(children: P.core.Base[]) {\n      for (var i = 0; i < children.length; i++) {\n        var child = children[i];\n        if (!child.visible) {\n          continue;\n        }\n        this.drawChild(child);\n      }\n    }\n\n    protected _reset(ctx: CanvasRenderingContext2D, scale: number) {\n      const effectiveScale = scale * P.config.scale;\n      const width = Math.max(1, 480 * effectiveScale);\n      const height = Math.max(1, 360 * effectiveScale);\n      // This is not optimal, but necessary to avoid issues caused by some browsers resetting canvas data\n      // and transforms without informing us.\n      ctx.canvas.width = width;\n      ctx.canvas.height = height;\n      ctx.scale(effectiveScale, effectiveScale);\n    }\n\n    protected _drawChild(c: P.core.Base, ctx: CanvasRenderingContext2D) {\n      const costume = c.costumes[c.currentCostumeIndex];\n      if (!costume) {\n        return;\n      }\n\n      ctx.save();\n\n      const globalScale = c.stage.zoom * P.config.scale;\n      ctx.translate(((c.scratchX + 240) * globalScale | 0) / globalScale, ((180 - c.scratchY) * globalScale | 0) / globalScale);\n\n      let objectScale = costume.scale;\n      if (P.core.isSprite(c)) {\n        if (c.rotationStyle === RotationStyle.Normal) {\n          ctx.rotate((c.direction - 90) * Math.PI / 180);\n        } else if (c.rotationStyle === RotationStyle.LeftRight && c.direction < 0) {\n          ctx.scale(-1, 1);\n        }\n        objectScale *= c.scale;\n      }\n\n      if (costume.isScalable) {\n        costume.requestSize(objectScale * globalScale);\n      }\n      ctx.imageSmoothingEnabled = costume.isScalable || this.imageSmoothingEnabled;\n\n      const image = costume.getImage();\n      const x = -costume.rotationCenterX * objectScale | 0;\n      const y = -costume.rotationCenterY * objectScale | 0;\n      const w = costume.width * objectScale | 0;\n      const h = costume.height * objectScale | 0;\n      if (w < 1 || h < 1) {\n        ctx.restore();\n        return;\n      }\n\n      if (!this.noEffects) {\n        ctx.globalAlpha = Math.max(0, Math.min(1, 1 - c.filters.ghost / 100));\n\n        if (c.filters.brightness !== 0 && c.filters.color === 0) {\n          const ws = w * globalScale;\n          const hs = h * globalScale;\n\n          workingRenderer.canvas.width = ws;\n          workingRenderer.canvas.height = hs;\n          workingRenderer.ctx.save();\n          workingRenderer.ctx.imageSmoothingEnabled = false;\n\n          workingRenderer.ctx.translate(0, 0);\n          workingRenderer.ctx.drawImage(image, 0, 0, ws, hs);\n          workingRenderer.ctx.globalCompositeOperation = 'source-atop';\n          workingRenderer.ctx.globalAlpha = Math.abs(c.filters.brightness / 100);\n          if (c.filters.brightness > 0) {\n            workingRenderer.ctx.fillStyle = 'white';\n          } else {\n            workingRenderer.ctx.fillStyle = 'black';\n          }\n          workingRenderer.ctx.fillRect(0, 0, ws, hs);\n          ctx.drawImage(workingRenderer.canvas, x, y, w, h);\n\n          workingRenderer.ctx.restore();\n        } else {\n          const filter = getCSSFilter(c.filters);\n          if (filter !== '') {\n            ctx.filter = filter;\n          }\n          ctx.drawImage(image, x, y, w, h);\n        }\n      } else {\n        ctx.drawImage(image, x, y, w, h);\n      }\n\n      ctx.restore();\n    }\n  }\n\n  // Renderers used for some features such as collision detection\n  const workingRenderer = new SpriteRenderer2D();\n  const workingRenderer2 = new SpriteRenderer2D();\n\n  export class ProjectRenderer2D extends SpriteRenderer2D implements ProjectRenderer {\n    public stageLayer: HTMLCanvasElement;\n    public stageContext: CanvasRenderingContext2D;\n    public penLayer: HTMLCanvasElement;\n    public penContext: CanvasRenderingContext2D;\n    public zoom: number = 1;\n\n    public penScalingEnabled: boolean = true;\n\n    private penModified: boolean = false;\n    private penTargetZoom: number = -1;\n    private penZoom: number = 1;\n\n    private stageCostumeIndex: number = -1;\n\n    constructor(public stage: P.core.Stage) {\n      super();\n      const { ctx: stageContext, canvas: stageLayer } = create2dCanvas();\n      this.stageContext = stageContext;\n      this.stageLayer = stageLayer;\n\n      const { ctx: penContext, canvas: penLayer } = create2dCanvas();\n      this.penContext = penContext;\n      this.penLayer = penLayer;\n    }\n\n    onStageFiltersChanged() {\n      this.renderStageCostume(this.zoom);\n    }\n\n    renderStageCostume(scale: number) {\n      this._reset(this.stageContext, scale);\n      this._drawChild(this.stage, this.stageContext);\n    }\n\n    init(root: HTMLCanvasElement) {\n      root.appendChild(this.stageLayer);\n      root.appendChild(this.penLayer);\n      root.appendChild(this.canvas);\n    }\n\n    destroy() {\n      // Do nothing\n    }\n\n    drawFrame() {\n      this.reset(this.zoom);\n      this.drawObjects(this.stage.children);\n      if (this.stage.currentCostumeIndex !== this.stageCostumeIndex) {\n        this.stageCostumeIndex = this.stage.currentCostumeIndex;\n        this.renderStageCostume(this.zoom);\n      }\n    }\n\n    /**\n     * Draw everything from this renderer onto another 2d renderer, skipping a single item.\n     * \"Everything\" includes stage, pen, and all visible children.\n     */\n    drawAllExcept(renderer: SpriteRenderer2D, skip: P.core.Base) {\n      renderer.drawChild(this.stage);\n      renderer.ctx.drawImage(this.penLayer, 0, 0, 480, 360);\n      for (var i = 0; i < this.stage.children.length; i++) {\n        var child = this.stage.children[i];\n        if (!child.visible || child === skip) {\n          continue;\n        }\n        renderer.drawChild(child);\n      }\n    }\n\n    resize(zoom: number) {\n      this.zoom = zoom;\n      this.resizePen(zoom);\n      this.renderStageCostume(this.zoom);\n    }\n\n    resizePen(zoom: number) {\n      if (!this.penScalingEnabled) {\n        return;\n      }\n      if (zoom > this.penZoom) {\n        this.penZoom = zoom;\n        workingRenderer.canvas.width = this.penLayer.width;\n        workingRenderer.canvas.height = this.penLayer.height;\n        workingRenderer.ctx.drawImage(this.penLayer, 0, 0);\n        this._reset(this.penContext, zoom);\n        this.penContext.drawImage(workingRenderer.canvas, 0, 0, 480, 360);\n      } else if (!this.penModified) {\n        // Immediately scale down if no changes have been made\n        this.penZoom = zoom;\n        this._reset(this.penContext, zoom);\n      } else {\n        // We'll resize on the next clear, as resizing now would result in a loss of detail.\n        this.penTargetZoom = zoom;\n      }\n    }\n\n    penClear() {\n      this.penModified = false;\n      if (this.penTargetZoom !== -1) {\n        this._reset(this.penContext, this.penTargetZoom);\n        this.penZoom = this.penTargetZoom;\n        this.penTargetZoom = -1;\n      }\n      this.penContext.clearRect(0, 0, 480, 360);\n    }\n\n    penDot(color: P.core.PenColor, size: number, x: number, y: number) {\n      this.penModified = true;\n      this.penContext.fillStyle = color.toCSS();\n      this.penContext.beginPath();\n      this.penContext.arc(240 + x, 180 - y, size / 2, 0, 2 * Math.PI, false);\n      this.penContext.fill();\n    }\n\n    penLine(color: P.core.PenColor, size: number, x1: number, y1: number, x2: number, y2: number) {\n      this.penModified = true;\n      this.penContext.lineCap = 'round';\n      if (this.penZoom === 1) {\n        if (size % 2 > .5 && size % 2 < 1.5) {\n          x1 -= .5;\n          y1 -= .5;\n          x2 -= .5;\n          y2 -= .5;\n        }\n      }\n      this.penContext.strokeStyle = color.toCSS();\n      this.penContext.lineWidth = size;\n      this.penContext.beginPath();\n      this.penContext.moveTo(240 + x1, 180 - y1);\n      this.penContext.lineTo(240 + x2, 180 - y2);\n      this.penContext.stroke();\n    }\n\n    penStamp(sprite: P.core.Sprite) {\n      this.penModified = true;\n      this._drawChild(sprite, this.penContext);\n    }\n\n    spriteTouchesPoint(sprite: P.core.Sprite, x: number, y: number) {\n      const bounds = sprite.rotatedBounds();\n      if (x < bounds.left || y < bounds.bottom || x > bounds.right || y > bounds.top || sprite.scale === 0) {\n        return false;\n      }\n\n      const costume = sprite.costumes[sprite.currentCostumeIndex];\n      var cx = (x - sprite.scratchX) / sprite.scale;\n      var cy = (sprite.scratchY - y) / sprite.scale;\n      if (sprite.rotationStyle === RotationStyle.Normal && sprite.direction !== 90) {\n        const d = (90 - sprite.direction) * Math.PI / 180;\n        const ox = cx;\n        const s = Math.sin(d), c = Math.cos(d);\n        cx = c * ox - s * cy;\n        cy = s * ox + c * cy;\n      } else if (sprite.rotationStyle === RotationStyle.LeftRight && sprite.direction < 0) {\n        cx = -cx;\n      }\n\n      let positionX = Math.round(cx / costume.scale + costume.rotationCenterX);\n      let positionY = Math.round(cy / costume.scale + costume.rotationCenterY);\n      // Temporary hack: https://github.com/forkphorus/forkphorus/issues/187\n      if (costume instanceof P.core.VectorCostume) {\n        positionX *= costume.currentScale;\n        positionY *= costume.currentScale;\n      }\n      if (!Number.isFinite(positionX) || !Number.isFinite(positionY)) {\n        return false;\n      }\n      const data = costume.getContext().getImageData(positionX, positionY, 1, 1).data;\n      return data[3] !== 0;\n    }\n\n    spritesIntersect(spriteA: core.Base, otherSprites: core.Base[]) {\n      const mb = spriteA.rotatedBounds();\n\n      for (var i = 0; i < otherSprites.length; i++) {\n        const spriteB = otherSprites[i];\n        // Invisible sprites are ignored.\n        // Sprites cannot intersect with themselves.\n        if (!spriteB.visible || spriteA === spriteB) {\n          continue;\n        }\n\n        const ob = spriteB.rotatedBounds();\n\n        if (mb.bottom >= ob.top || ob.bottom >= mb.top || mb.left >= ob.right || ob.left >= mb.right) {\n          continue;\n        }\n\n        const left = Math.max(mb.left, ob.left);\n        const top = Math.min(mb.top, ob.top);\n        const right = Math.min(mb.right, ob.right);\n        const bottom = Math.max(mb.bottom, ob.bottom);\n\n        const width = right - left;\n        const height = top - bottom;\n\n        // dimensions that are less than 1 or are NaN will throw when we try to get image data\n        if (width < 1 || height < 1 || width !== width || height !== height) {\n          continue;\n        }\n\n        workingRenderer.canvas.width = width;\n        workingRenderer.canvas.height = height;\n\n        workingRenderer.ctx.save();\n        workingRenderer.noEffects = true;\n\n        workingRenderer.ctx.translate(-(left + 240), -(180 - top));\n        workingRenderer.drawChild(spriteA);\n        workingRenderer.ctx.globalCompositeOperation = 'source-in';\n        workingRenderer.drawChild(spriteB);\n\n        workingRenderer.noEffects = false;\n        workingRenderer.ctx.restore();\n\n        const data = workingRenderer.ctx.getImageData(0, 0, width, height).data;\n        const length = data.length;\n\n        for (var j = 0; j < length; j += 4) {\n          // check for the opacity byte being a non-zero number\n          if (data[j + 3]) {\n            return true;\n          }\n        }\n      }\n      return false;\n    }\n\n    spriteTouchesColor(sprite: P.core.Base, color: number) {\n      const b = sprite.rotatedBounds();\n\n      const width = b.right - b.left;\n      const height = b.top - b.bottom;\n      if (width < 1 || height < 1 || width !== width || height !== height) {\n        return false;\n      }\n\n      workingRenderer.canvas.width = width;\n      workingRenderer.canvas.height = height;\n\n      workingRenderer.ctx.fillStyle = 'white';\n      workingRenderer.ctx.fillRect(0, 0, width, height);\n\n      workingRenderer.ctx.save();\n      workingRenderer.ctx.translate(-(240 + b.left), -(180 - b.top));\n\n      this.drawAllExcept(workingRenderer, sprite);\n      workingRenderer.ctx.globalCompositeOperation = 'destination-in';\n      workingRenderer.noEffects = true;\n      workingRenderer.drawChild(sprite);\n      workingRenderer.noEffects = false;\n      workingRenderer.ctx.restore();\n\n      const data = workingRenderer.ctx.getImageData(0, 0, width, height).data;\n      color = color & COLOR_MASK;\n      const length = data.length;\n      for (var i = 0; i < length; i += 4) {\n        if (((data[i] << 16 | data[i + 1] << 8 | data[i + 2]) & COLOR_MASK) === color && data[i + 3]) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n\n    spriteColorTouchesColor(sprite: P.core.Base, spriteColor: number, otherColor: number) {\n      var rb = sprite.rotatedBounds();\n\n      const width = rb.right - rb.left;\n      const height = rb.top - rb.bottom;\n      if (width < 1 || height < 1 || width !== width || height !== height) {\n        return false;\n      }\n\n      workingRenderer.canvas.width = workingRenderer2.canvas.width = width;\n      workingRenderer.canvas.height = workingRenderer2.canvas.height = height;\n\n      workingRenderer.ctx.save();\n      workingRenderer2.ctx.save();\n      workingRenderer.ctx.translate(-(240 + rb.left), -(180 - rb.top));\n      workingRenderer2.ctx.translate(-(240 + rb.left), -(180 - rb.top));\n\n      this.drawAllExcept(workingRenderer, sprite);\n      workingRenderer2.noEffects = true;\n      workingRenderer2.drawChild(sprite);\n      workingRenderer2.noEffects = false;\n\n      workingRenderer.ctx.restore();\n      workingRenderer2.ctx.restore();\n\n      var dataA = workingRenderer.ctx.getImageData(0, 0, width, height).data;\n      var dataB = workingRenderer2.ctx.getImageData(0, 0, width, height).data;\n\n      spriteColor = spriteColor & COLOR_MASK;\n      otherColor = otherColor & COLOR_MASK;\n\n      var length = dataA.length;\n      for (var i = 0; i < length; i += 4) {\n        var touchesSource = ((dataB[i] << 16 | dataB[i + 1] << 8 | dataB[i + 2]) & COLOR_MASK) === spriteColor && dataB[i + 3];\n        var touchesOther = ((dataA[i] << 16 | dataA[i + 1] << 8 | dataA[i + 2]) & COLOR_MASK) === otherColor && dataA[i + 3];\n        if (touchesSource && touchesOther) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }\n}","/// <reference path=\"../phosphorus.ts\" />\n\nnamespace P.m3 {\n  export type Matrix3 = [\n    number, number, number,\n    number, number, number,\n    number, number, number\n  ];\n\n  /**\n   * Multiplies two 3x3 matrices together\n   * @param out The first matrix. The result will be stored here.\n   * @param other The second matrix.\n   */\n  export function multiply(out: Matrix3, other: Matrix3) {\n    const a0 = out[0];\n    const a1 = out[1];\n    const a2 = out[2];\n    const a3 = out[3];\n    const a4 = out[4];\n    const a5 = out[5];\n    const a6 = out[6];\n    const a7 = out[7];\n    const a8 = out[8];\n    const b0 = other[0];\n    const b1 = other[1];\n    const b2 = other[2];\n    const b3 = other[3];\n    const b4 = other[4];\n    const b5 = other[5];\n    const b6 = other[6];\n    const b7 = other[7];\n    const b8 = other[8];\n    out[0] = b0 * a0 + b1 * a3 + b2 * a6;\n    out[1] = b0 * a1 + b1 * a4 + b2 * a7;\n    out[2] = b0 * a2 + b1 * a5 + b2 * a8;\n    out[3] = b3 * a0 + b4 * a3 + b5 * a6;\n    out[4] = b3 * a1 + b4 * a4 + b5 * a7;\n    out[5] = b3 * a2 + b4 * a5 + b5 * a8;\n    out[6] = b6 * a0 + b7 * a3 + b8 * a6;\n    out[7] = b6 * a1 + b7 * a4 + b8 * a7;\n    out[8] = b6 * a2 + b7 * a5 + b8 * a8;\n  }\n\n  export function translation(x: number, y: number): Matrix3 {\n    return [\n      1, 0, 0,\n      0, 1, 0,\n      x, y, 1,\n    ];\n  }\n\n  export function rotation(degrees: number): Matrix3 {\n    const radians = degrees * Math.PI / 180;\n    const cos = Math.cos(radians);\n    const sin = Math.sin(radians);\n    return [\n      cos, -sin, 0,\n      sin, cos, 0,\n      0, 0, 1,\n    ];\n  }\n\n  export function scaling(x: number, y: number): Matrix3 {\n    return [\n      x, 0, 0,\n      0, y, 0,\n      0, 0, 1,\n    ];\n  }\n\n  export function projection(width: number, height: number): Matrix3 {\n    return [\n      2 / width, 0, 0,\n      0, -2 / height, 0,\n      -1, 1, 1,\n    ];\n  }\n}\n","/// <reference path=\"../phosphorus.ts\" />\n/// <reference path=\"renderer.ts\" />\n/// <reference path=\"matrix.ts\" />\n\nnamespace P.renderer.webgl {\n  import RotationStyle = P.core.RotationStyle;\n\n  function createCanvas() {\n    const canvas = document.createElement('canvas');\n    canvas.width = 480;\n    canvas.height = 360;\n    return canvas;\n  }\n\n  const horizontalInvertMatrix = P.m3.scaling(-1, 1);\n\n  class Shader {\n    protected uniformLocations: { [name: string]: WebGLUniformLocation } = {};\n    protected attributeLocations: { [name: string]: number } = {};\n\n    constructor(public gl: WebGLRenderingContext, public program: WebGLProgram) {\n      // When loaded we'll lookup all of our attributes and uniforms, and store\n      // their locations locally.\n      // WebGL can tell us how many there are, so we can do lookups.\n\n      const activeUniforms: number = gl.getProgramParameter(program, this.gl.ACTIVE_UNIFORMS);\n      for (let index = 0; index < activeUniforms; index++) {\n        const info = gl.getActiveUniform(program, index);\n        if (!info) {\n          throw new Error('uniform at index ' + index + ' does not exist');\n        }\n        const name = info.name;\n        const location = gl.getUniformLocation(program, name);\n        if (!location) {\n          throw new Error('uniform named ' + name + ' does not exist');\n        }\n        this.uniformLocations[name] = location;\n      }\n\n      const activeAttributes: number = gl.getProgramParameter(program, this.gl.ACTIVE_ATTRIBUTES);\n      for (let index = 0; index < activeAttributes; index++) {\n        const info = gl.getActiveAttrib(program, index);\n        if (!info) {\n          throw new Error('attribute at index ' + index + ' does not exist');\n        }\n        this.attributeLocations[info.name] = gl.getAttribLocation(program, info.name);\n      }\n    }\n\n    /**\n     * Sets a uniform to a float\n     * @param name The name of the uniform\n     * @param value A float\n     */\n    uniform1f(name: string, value: number) {\n      const location = this.getUniform(name);\n      this.gl.uniform1f(location, value);\n    }\n\n    /**\n     * Sets a uniform to a vec2\n     * @param name The name of the uniform\n     * @param a The first value\n     * @param b The second value\n     */\n    uniform2f(name: string, a: number, b: number) {\n      const location = this.getUniform(name);\n      this.gl.uniform2f(location, a, b);\n    }\n\n    /**\n     * Sets a uniform to a vec4\n     * @param name The name of the uniform\n     * @param a The first value\n     * @param b The second value\n     */\n    uniform4f(name: string, a: number, b: number, c: number, d: number) {\n      const location = this.getUniform(name);\n      this.gl.uniform4f(location, a, b, c, d);\n    }\n\n    /**\n     * Sets a uniform to a 3x3 matrix\n     * @param name The name of the uniform\n     * @param value The 3x3 matrix\n     */\n    uniformMatrix3(name: string, value: P.m3.Matrix3) {\n      const location = this.getUniform(name);\n      this.gl.uniformMatrix3fv(location, false, value);\n    }\n\n    /**\n     * Determines if this shader variant contains a uniform.\n     * @param name The name of the uniform\n     */\n    hasUniform(name: string) {\n      return this.uniformLocations.hasOwnProperty(name);\n    }\n\n    /**\n     * Determines the location of a uniform, or errors if it does not exist.\n     * @param name The name of the uniform\n     */\n    getUniform(name: string): WebGLUniformLocation {\n      if (!this.hasUniform(name)) {\n        throw new Error('uniform of name ' + name + ' does not exist');\n      }\n      return this.uniformLocations[name];\n    }\n\n    /**\n     * Binds a buffer to an attribute\n     * @param name The name of the attribute\n     * @param value The WebGL buffer to bind\n     */\n    attributeBuffer(name: string, value: WebGLBuffer) {\n      if (!this.hasAttribute(name)) {\n        throw new Error('attribute of name ' + name + ' does not exist');\n      }\n      const location = this.attributeLocations[name];\n      this.gl.enableVertexAttribArray(location);\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, value);\n      this.gl.vertexAttribPointer(location, 2, this.gl.FLOAT, false, 0, 0);\n    }\n\n    /**\n     * Determines if this shader contains an attribute\n     * @param name The name of the attribute\n     */\n    hasAttribute(name: string) {\n      return this.attributeLocations.hasOwnProperty(name);\n    }\n\n    /**\n     * Determines the location of an attribute, and errors if it does not exist.\n     * @param name The name of the attribute\n     */\n    getAttribute(name: string) {\n      if (!this.hasAttribute(name)) {\n        throw new Error('attribute of name ' + name + ' does not exist');\n      }\n      return this.attributeLocations[name];\n    }\n  }\n\n  class WebGLSpriteRenderer {\n    public static vertexShader: string = `\n    attribute vec2 a_position;\n\n    uniform mat3 u_matrix;\n\n    varying vec2 v_texcoord;\n\n    void main() {\n      gl_Position = vec4((u_matrix * vec3(a_position, 1)).xy, 0, 1);\n      v_texcoord = a_position;\n    }\n    `;\n\n    public static fragmentShader: string = `\n    precision mediump float;\n\n    varying vec2 v_texcoord;\n\n    uniform sampler2D u_texture;\n\n    #ifdef ENABLE_BRIGHTNESS\n      uniform float u_brightness;\n    #endif\n    #ifdef ENABLE_COLOR\n      uniform float u_color;\n    #endif\n    #ifdef ENABLE_GHOST\n      uniform float u_opacity;\n    #endif\n    #ifdef ENABLE_MOSAIC\n      uniform float u_mosaic;\n    #endif\n    #ifdef ENABLE_WHIRL\n      uniform float u_whirl;\n    #endif\n    #ifdef ENABLE_FISHEYE\n      uniform float u_fisheye;\n    #endif\n    #ifdef ENABLE_PIXELATE\n      uniform float u_pixelate;\n      uniform vec2 u_size;\n    #endif\n    #ifdef ENABLE_COLOR_TEST\n      uniform vec3 u_colorTest;\n    #endif\n\n    const float minimumAlpha = 1.0 / 250.0;\n    const vec2 vecCenter = vec2(0.5, 0.5);\n\n    // http://lolengine.net/blog/2013/07/27/rgb-to-hsv-in-glsl\n    vec3 rgb2hsv(vec3 c) {\n      vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n      vec4 p = c.g < c.b ? vec4(c.bg, K.wz) : vec4(c.gb, K.xy);\n      vec4 q = c.r < p.x ? vec4(p.xyw, c.r) : vec4(c.r, p.yzx);\n      float d = q.x - min(q.w, q.y);\n      float e = 1.0e-10;\n      return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n    }\n    vec3 hsv2rgb(vec3 c) {\n      vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n      vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n      return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n    }\n\n    void main() {\n      // varyings cannot be modified\n      vec2 texcoord = v_texcoord;\n\n      #ifdef ENABLE_MOSAIC\n      if (u_mosaic != 1.0) {\n        texcoord = fract(u_mosaic * v_texcoord);\n      }\n      #endif\n\n      #ifdef ENABLE_PIXELATE\n      if (u_pixelate != 0.0) {\n        vec2 texelSize = u_size / u_pixelate;\n        texcoord = (floor(texcoord * texelSize) + vecCenter) / texelSize;\n      }\n      #endif\n\n      #ifdef ENABLE_WHIRL\n      {\n        const float radius = 0.5;\n        vec2 offset = texcoord - vecCenter;\n        float offsetMagnitude = length(offset);\n        float whirlFactor = max(1.0 - (offsetMagnitude / radius), 0.0);\n        float whirlActual = u_whirl * whirlFactor * whirlFactor;\n        float sinWhirl = sin(whirlActual);\n        float cosWhirl = cos(whirlActual);\n        mat2 rotationMatrix = mat2(\n          cosWhirl, -sinWhirl,\n          sinWhirl, cosWhirl\n        );\n        texcoord = rotationMatrix * offset + vecCenter;\n      }\n      #endif\n\n      #ifdef ENABLE_FISHEYE\n      {\n        vec2 vec = (texcoord - vecCenter) / vecCenter;\n        float vecLength = length(vec);\n        float r = pow(min(vecLength, 1.0), u_fisheye) * max(1.0, vecLength);\n        vec2 unit = vec / vecLength;\n        texcoord = vecCenter + r * unit * vecCenter;\n      }\n      #endif\n\n      vec4 color = texture2D(u_texture, texcoord);\n      #ifndef DISABLE_MINIMUM_ALPHA\n      if (color.a < minimumAlpha) {\n        discard;\n      }\n      #endif\n\n      #ifdef ENABLE_GHOST\n        color.a *= u_opacity;\n      #endif\n\n      #ifdef ENABLE_COLOR\n      if (u_color != 0.0) {\n        vec3 hsv = rgb2hsv(color.rgb);\n        // hsv.x = hue\n        // hsv.y = saturation\n        // hsv.z = value\n\n        // scratch forces all colors to have some minimal amount saturation so there is a visual change\n        const float minValue = 0.11 / 2.0;\n        const float minSaturation = 0.09;\n        if (hsv.z < minValue) hsv = vec3(0.0, 1.0, minValue);\n        else if (hsv.y < minSaturation) hsv = vec3(0.0, minSaturation, hsv.z);\n\n        hsv.x = mod(hsv.x + u_color, 1.0);\n        if (hsv.x < 0.0) hsv.x += 1.0;\n        color = vec4(hsv2rgb(hsv), color.a);\n      }\n      #endif\n\n      #ifdef ENABLE_BRIGHTNESS\n        color.rgb = clamp(color.rgb + vec3(u_brightness), 0.0, 1.0);\n      #endif\n\n      #ifdef ENABLE_COLOR_TEST\n        if (color.rgb != u_colorTest) {\n          color = vec4(0.0, 0.0, 0.0, 0.0);\n        }\n      #endif\n\n      gl_FragColor = color;\n    }\n    `;\n\n    public canvas: HTMLCanvasElement;\n    public gl: WebGLRenderingContext;\n\n    protected quadBuffer: WebGLBuffer;\n\n    protected globalScaleMatrix: P.m3.Matrix3 = P.m3.scaling(1, 1);\n\n    protected shader: Shader;\n\n    protected allFiltersShader: Shader;\n    protected noFiltersShader: Shader;\n\n    private costumeTextures: Map<P.core.Costume, WebGLTexture> = new Map();\n\n    constructor() {\n      this.canvas = createCanvas();\n      const gl = this.canvas.getContext('webgl', this.getContextOptions());\n      if (!gl) {\n        throw new Error('cannot get webgl rendering context');\n      }\n      this.gl = gl;\n\n      this.noFiltersShader = this.createShader(WebGLSpriteRenderer.vertexShader, WebGLSpriteRenderer.fragmentShader, []);\n\n      this.allFiltersShader = this.createShader(WebGLSpriteRenderer.vertexShader, WebGLSpriteRenderer.fragmentShader, [\n        'ENABLE_BRIGHTNESS',\n        'ENABLE_COLOR',\n        'ENABLE_GHOST',\n        'ENABLE_FISHEYE',\n        'ENABLE_MOSAIC',\n        'ENABLE_PIXELATE',\n      ]);\n\n      // Enable blending\n      this.gl.enable(this.gl.BLEND);\n      this.gl.blendFuncSeparate(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA, this.gl.ONE, this.gl.ONE_MINUS_SRC_ALPHA);\n\n      // Create the quad buffer that we'll use for positioning and texture coordinates later.\n      this.quadBuffer = this.gl.createBuffer()!;\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.quadBuffer);\n      this.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array([\n        0, 0,\n        0, 1,\n        1, 0,\n        1, 0,\n        0, 1,\n        1, 1,\n      ]), this.gl.STATIC_DRAW);\n\n      this.reset(1);\n    }\n\n    /**\n     * These options will be passed to getContext()\n     */\n    protected getContextOptions(): WebGLContextAttributes {\n      return {\n        alpha: false,\n      };\n    }\n\n    /**\n     * Compile a single shader\n     * @param type The type of the shader. Use this.gl.VERTEX_SHADER or FRAGMENT_SHADER\n     * @param source The string source of the shader.\n     * @param definitions Flags to define in the shader source.\n     */\n    private compileShader(type: number, source: string, definitions?: string[]): WebGLShader {\n      if (definitions) {\n        for (const def of definitions) {\n          source = '#define ' + def + '\\n' + source;\n        }\n      }\n\n      const shader = this.gl.createShader(type);\n      if (!shader) {\n        throw new Error('Cannot create shader');\n      }\n\n      this.gl.shaderSource(shader, source);\n      this.gl.compileShader(shader);\n\n      if (!this.gl.getShaderParameter(shader, this.gl.COMPILE_STATUS)) {\n        const error = this.gl.getShaderInfoLog(shader);\n        this.gl.deleteShader(shader);\n        throw new Error('Shader compilation error: ' + error);\n      }\n\n      return shader;\n    }\n\n    /**\n     * Compiles a vertex shader and fragment shader into a program.\n     * @param vs Vertex shader source.\n     * @param fs Fragment shader source.\n     * @param definitions Flags to define in the shader source.\n     */\n    private compileProgram(vs: string, fs: string, definitions?: string[]): WebGLProgram {\n      const vertexShader = this.compileShader(this.gl.VERTEX_SHADER, vs, definitions);\n      const fragmentShader = this.compileShader(this.gl.FRAGMENT_SHADER, fs, definitions);\n\n      const program = this.gl.createProgram();\n      if (!program) {\n        throw new Error('Cannot create program');\n      }\n      this.gl.attachShader(program, vertexShader);\n      this.gl.attachShader(program, fragmentShader);\n      this.gl.linkProgram(program);\n\n      if (!this.gl.getProgramParameter(program, this.gl.LINK_STATUS)) {\n        const error = this.gl.getProgramInfoLog(program);\n        this.gl.deleteProgram(program);\n        throw new Error('Program compilation error: ' + error);\n      }\n\n      return program;\n    }\n\n    /**\n     * Compile a `Shader`\n     */\n    protected createShader(vs: string, fs: string, definitions?: string[]): Shader {\n      const program = this.compileProgram(vs, fs, definitions);\n      return new Shader(this.gl, program);\n    }\n\n    /**\n     * Converts a canvas to a WebGL texture\n     * @param canvas The source canvas. Dimensions do not matter.\n     */\n    protected convertToTexture(canvas: HTMLImageElement | HTMLCanvasElement): WebGLTexture {\n      const texture = this.gl.createTexture();\n      if (!texture) {\n        throw new Error('Cannot create texture');\n      }\n      this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\n      this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, this.gl.RGBA, this.gl.UNSIGNED_BYTE, canvas);\n      this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n      this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\n      this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.NEAREST);\n      this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.NEAREST);\n      return texture;\n    }\n\n    destroy(): void {\n      // Explicitly drop the context\n      const extension = this.gl.getExtension('WEBGL_lose_context');\n      if (extension) {\n        extension.loseContext();\n      }\n    }\n\n    /**\n     * Reset and resize this renderer.\n     * `scale` should already include any changes to account for device pixel ratio or the like, if applicable.\n     */\n    reset(scale: number) {\n      this.canvas.width = scale * 480;\n      this.canvas.height = scale * 360;\n      this.gl.viewport(0, 0, scale * 480, scale * 360);\n      // the first element of the matrix is the x-scale, so we can use that to only recreate the matrix when needed\n      if (this.globalScaleMatrix[0] !== scale) {\n        this.globalScaleMatrix = P.m3.scaling(scale, scale);\n      }\n      // Clear the canvas\n      this.gl.clearColor(1, 1, 1, 1); // white\n      this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n    }\n\n    protected useShader(shader: Shader) {\n      this.gl.useProgram(shader.program);\n      this.shader = shader;\n    }\n\n    /**\n     * Draw a sprite. Shader should be set with useShader()\n     * @param child The sprite or stage to draw\n     */\n    protected drawChild(child: P.core.Base) {\n      // Create the texture if it doesn't already exist.\n      const costume = child.costumes[child.currentCostumeIndex];\n      if (!this.costumeTextures.has(costume)) {\n        const image = costume.getImage();\n        const texture = this.convertToTexture(image);\n        this.costumeTextures.set(costume, texture);\n      }\n      this.gl.bindTexture(this.gl.TEXTURE_2D, this.costumeTextures.get(costume)!);\n\n      this.shader.attributeBuffer('a_position', this.quadBuffer);\n\n      // TODO: optimize\n      const matrix = P.m3.projection(this.canvas.width, this.canvas.height);\n      P.m3.multiply(matrix, this.globalScaleMatrix);\n      P.m3.multiply(matrix, P.m3.translation(240 + child.scratchX | 0, 180 - child.scratchY | 0));\n      if (P.core.isSprite(child)) {\n        if (child.rotationStyle === RotationStyle.Normal && child.direction !== 90) {\n          P.m3.multiply(matrix, P.m3.rotation(90 - child.direction));\n        } else if (child.rotationStyle === RotationStyle.LeftRight && child.direction < 0) {\n          P.m3.multiply(matrix, horizontalInvertMatrix);\n        }\n        if (child.scale !== 1) {\n          P.m3.multiply(matrix, P.m3.scaling(child.scale, child.scale));\n        }\n      }\n      if (costume.scale !== 1) {\n        P.m3.multiply(matrix, P.m3.scaling(costume.scale, costume.scale));\n      }\n      P.m3.multiply(matrix, P.m3.translation(-costume.rotationCenterX, -costume.rotationCenterY));\n      P.m3.multiply(matrix, P.m3.scaling(costume.width, costume.height));\n\n      this.shader.uniformMatrix3('u_matrix', matrix);\n\n      // Effects\n      if (this.shader.hasUniform('u_opacity')) {\n        this.shader.uniform1f('u_opacity', 1 - child.filters.ghost / 100);\n      }\n      if (this.shader.hasUniform('u_brightness')) {\n        this.shader.uniform1f('u_brightness', child.filters.brightness / 100);\n      }\n      if (this.shader.hasUniform('u_color')) {\n        this.shader.uniform1f('u_color', child.filters.color / 200);\n      }\n      if (this.shader.hasUniform('u_mosaic')) {\n        const mosaic = Math.round((Math.abs(child.filters.mosaic) + 10) / 10);\n        this.shader.uniform1f('u_mosaic', P.utils.clamp(mosaic, 1, 512));\n      }\n      if (this.shader.hasUniform('u_whirl')) {\n        this.shader.uniform1f('u_whirl', child.filters.whirl * Math.PI / -180);\n      }\n      if (this.shader.hasUniform('u_fisheye')) {\n        this.shader.uniform1f('u_fisheye', Math.max(0, (child.filters.fisheye + 100) / 100));\n      }\n      if (this.shader.hasUniform('u_pixelate')) {\n        this.shader.uniform1f('u_pixelate', Math.abs(child.filters.pixelate) / 10);\n      }\n      if (this.shader.hasUniform('u_size')) {\n        this.shader.uniform2f('u_size', costume.width, costume.height);\n      }\n\n      this.gl.drawArrays(this.gl.TRIANGLES, 0, 6);\n    }\n\n    /**\n     * Draw a texture covering the entire screen\n     * @param texture The texture to draw. Must belong to this renderer.\n     */\n    protected drawTextureOverlay(texture: WebGLTexture) {\n      const shader = this.noFiltersShader;\n      this.gl.useProgram(shader.program);\n\n      this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\n\n      shader.attributeBuffer('a_position', this.quadBuffer);\n\n      const matrix = P.m3.projection(this.canvas.width, this.canvas.height);\n      P.m3.multiply(matrix, this.globalScaleMatrix);\n      P.m3.multiply(matrix, P.m3.translation(240, 180));\n      P.m3.multiply(matrix, P.m3.scaling(1, 1));\n      P.m3.multiply(matrix, P.m3.translation(-240, -180));\n      P.m3.multiply(matrix, P.m3.scaling(480, 360));\n\n      shader.uniformMatrix3('u_matrix', matrix);\n\n      this.gl.drawArrays(this.gl.TRIANGLES, 0, 6);\n    }\n  }\n\n  class CollisionRenderer extends WebGLSpriteRenderer {\n    private touchingShader: Shader;\n    private shapeFiltersShader: Shader;\n    private touchingColorShader: Shader;\n\n    constructor() {\n      super();\n\n      this.gl.enable(this.gl.SCISSOR_TEST);\n      this.gl.scissor(0, 0, 480, 360);\n\n      this.gl.clearColor(0, 0, 0, 0);\n\n      this.touchingShader = this.createShader(CollisionRenderer.vertexShader, WebGLSpriteRenderer.fragmentShader, ['DISABLE_MINIMUM_ALPHA']);\n      this.shapeFiltersShader = this.createShader(CollisionRenderer.vertexShader, WebGLSpriteRenderer.fragmentShader, [\n        'ENABLE_FISHEYE',\n        'ENABLE_PIXELATE',\n        'ENABLE_MOSAIC',\n      ]);\n      this.touchingColorShader = this.createShader(CollisionRenderer.vertexShader, WebGLSpriteRenderer.fragmentShader, [\n        'DISABLE_MINIMUM_ALPHA',\n        'ENABLE_COLOR_TEST',\n      ]);\n    }\n\n    getContextOptions() {\n      return {\n        alpha: true\n      };\n    }\n\n    spritesIntersect(spriteA: core.Sprite, otherSprites: core.Base[]): boolean {\n      const mb = spriteA.rotatedBounds();\n\n      for (const spriteB of otherSprites) {\n        if (!spriteB.visible || spriteA === spriteB) {\n          continue;\n        }\n\n        const ob = spriteB.rotatedBounds();\n        if (mb.bottom >= ob.top || ob.bottom >= mb.top || mb.left >= ob.right || ob.left >= mb.right) {\n          continue;\n        }\n\n        const left = Math.max(mb.left, ob.left);\n        const top = Math.min(mb.top, ob.top);\n        const right = Math.min(mb.right, ob.right);\n        const bottom = Math.max(mb.bottom, ob.bottom);\n\n        const width = Math.max(right - left, 1);\n        const height = Math.max(top - bottom, 1);\n\n        this.gl.scissor(240 + left, 180 + bottom, width, height);\n        this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n\n        this.useShader(this.allFiltersShader);\n        this.drawChild(spriteA);\n\n        this.gl.blendFunc(this.gl.DST_ALPHA, this.gl.ZERO);\n        this.useShader(this.touchingShader);\n        this.drawChild(spriteB);\n        this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\n  \n        var data = new Uint8Array(width * height * 4);\n        this.gl.readPixels(\n          240 + left,\n          180 + bottom,\n          width,\n          height,\n          this.gl.RGBA,\n          this.gl.UNSIGNED_BYTE,\n          data\n        );\n\n        this.gl.scissor(0, 0, 480, 360);\n\n        var length = data.length;\n        for (var j = 0; j < length; j += 4) {\n          if (data[j + 3]) {\n            return true;\n          }\n        }\n      }\n\n      return false;\n    }\n\n    spriteTouchesPoint(sprite: core.Sprite, x: number, y: number): boolean {\n      const bounds = sprite.rotatedBounds();\n      if (x < bounds.left || y < bounds.bottom || x > bounds.right || y > bounds.top || sprite.scale === 0) {\n        return false;\n      }\n\n      // We will render one pixel of the sprite, and see if it has a non-zero alpha.\n      const cx = 240 + x | 0;\n      const cy = 180 + y | 0;\n      this.gl.scissor(cx, cy, 1, 1);\n\n      this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n\n      this.useShader(this.shapeFiltersShader);\n      this.drawChild(sprite);\n\n      // Allocate 4 bytes to store 1 RGBA pixel\n      const result = new Uint8Array(4);\n      this.gl.readPixels(cx, cy, 1, 1, this.gl.RGBA, this.gl.UNSIGNED_BYTE, result);\n\n      this.gl.scissor(0, 0, 480, 360);\n\n      return result[3] !== 0;\n    }\n  }\n\n  class PenRenderer extends WebGLSpriteRenderer {\n    static PEN_VERTEX_SHADER = `\n    precision mediump float;\n\n    // [0] = x1\n    // [1] = y1\n    // [2] = x2\n    // [3] = y2\n    attribute vec4 a_vertexData;\n    // [0] = thickened vertex direction\n    // [1] = thickened vertex distance\n    attribute vec2 a_lineData;\n    // [0] = red\n    // [1] = green\n    // [2] = blue\n    // [3] = alpha\n    attribute vec4 a_color;\n\n    varying vec4 v_color;\n\n    void main() {\n      vec2 lineDir = normalize(a_vertexData.zw - a_vertexData.xy);\n\n      mat2 rot;\n      rot[0] = vec2(cos(a_lineData.x), sin(a_lineData.x));\n      rot[1] = vec2(-sin(a_lineData.x), cos(a_lineData.x));\n\n      lineDir *= rot * a_lineData.y;\n\n      vec2 p = (a_vertexData.xy + lineDir);\n      p.x /= 240.0;\n      p.y /= 180.0;\n\n      gl_Position = vec4(p, 0.0, 1.0);\n      v_color = vec4(a_color.xyz / 255.0, a_color.w);\n    }`;\n\n    static PEN_FRAGMENT_SHADER = `\n    precision mediump float;\n\n    varying vec4 v_color;\n\n    void main() {\n      gl_FragColor = v_color;\n    }`;\n\n    public dirty: boolean = false;\n\n    private penCoords: Float32Array = new Float32Array(65536);\n    private penLines: Float32Array = new Float32Array(32768);\n    private penColors: Float32Array = new Float32Array(65536);\n    private penCoordsIndex: number = 0;\n    private penLinesIndex: number = 0;\n    private penColorsIndex: number = 0;\n\n    private positionBuffer: WebGLBuffer;\n    private lineBuffer: WebGLBuffer;\n    private colorBuffer: WebGLBuffer;\n\n    private penShader: Shader;\n\n    constructor() {\n      super();\n\n      this.penShader = this.createShader(PenRenderer.PEN_VERTEX_SHADER, PenRenderer.PEN_FRAGMENT_SHADER);\n\n      this.positionBuffer = this.gl.createBuffer()!;\n      this.lineBuffer = this.gl.createBuffer()!;\n      this.colorBuffer = this.gl.createBuffer()!;\n\n      this.gl.viewport(0, 0, this.canvas.width, this.canvas.height);\n    }\n\n    protected getContextOptions(): WebGLContextAttributes {\n      return {\n        alpha: true,\n        preserveDrawingBuffer: true,\n      };\n    }\n\n    pendingPenOperations() {\n      return this.penLinesIndex > 0;\n    }\n\n    drawPendingOperations() {\n      const gl = this.gl;\n      this.dirty = true;\n\n      this.useShader(this.penShader);\n\n      // Upload position data\n      gl.bindBuffer(gl.ARRAY_BUFFER, this.positionBuffer);\n      gl.bufferData(gl.ARRAY_BUFFER, this.penCoords, gl.STREAM_DRAW);\n      gl.vertexAttribPointer(this.penShader.getAttribute('a_vertexData'), 4, gl.FLOAT, false, 0, 0);\n      gl.enableVertexAttribArray(this.penShader.getAttribute('a_vertexData'));\n\n      // Upload line info data\n      gl.bindBuffer(gl.ARRAY_BUFFER, this.lineBuffer);\n      gl.bufferData(gl.ARRAY_BUFFER, this.penLines, gl.STREAM_DRAW);\n      gl.vertexAttribPointer(this.penShader.getAttribute('a_lineData'), 2, gl.FLOAT, false, 0, 0);\n      gl.enableVertexAttribArray(this.penShader.getAttribute('a_lineData'));\n\n      // Upload color data\n      gl.bindBuffer(gl.ARRAY_BUFFER, this.colorBuffer);\n      gl.bufferData(gl.ARRAY_BUFFER, this.penColors, gl.STREAM_DRAW);\n      gl.vertexAttribPointer(this.penShader.getAttribute('a_color'), 4, gl.FLOAT, false, 0, 0);\n      gl.enableVertexAttribArray(this.penShader.getAttribute('a_color'));\n\n      gl.drawArrays(gl.TRIANGLES, 0, (this.penCoordsIndex + 1) / 4);\n\n      this.penCoordsIndex = 0;\n      this.penLinesIndex = 0;\n      this.penColorsIndex = 0;\n    }\n\n    private buffersCanFit(size: number) {\n      return this.penCoordsIndex + size > this.penCoords.length;\n    }\n\n    private getCircleResolution(size: number) {\n      return Math.max(Math.ceil(size), 3);\n    }\n\n    penLine(color: P.core.PenColor, size: number, x1: number, y1: number, x2: number, y2: number): void {\n      const circleRes = this.getCircleResolution(size);\n\n      // Redraw when buffers are full.\n      if (this.buffersCanFit(24 * (circleRes + 1))) {\n        this.drawPendingOperations();\n      }\n\n      // draw line\n      // first triangle\n      // first coordinates\n      this.penCoords[this.penCoordsIndex] = x1;\n      this.penCoordsIndex++;\n      this.penCoords[this.penCoordsIndex] = y1;\n      this.penCoordsIndex++;\n\n      // first coordinates supplement\n      this.penCoords[this.penCoordsIndex] = x2;\n      this.penCoordsIndex++;\n      this.penCoords[this.penCoordsIndex] = y2;\n      this.penCoordsIndex++;\n\n      // first vertex description\n      this.penLines[this.penLinesIndex] = -Math.PI / 2;\n      this.penLinesIndex++;\n      this.penLines[this.penLinesIndex] = size / 2;\n      this.penLinesIndex++;\n\n      // second coordinates\n      this.penCoords[this.penCoordsIndex] = x2;\n      this.penCoordsIndex++;\n      this.penCoords[this.penCoordsIndex] = y2;\n      this.penCoordsIndex++;\n\n      // second coordinates supplement\n      this.penCoords[this.penCoordsIndex] = x1;\n      this.penCoordsIndex++;\n      this.penCoords[this.penCoordsIndex] = y1;\n      this.penCoordsIndex++;\n\n      // second vertex description\n      this.penLines[this.penLinesIndex] = Math.PI / 2;\n      this.penLinesIndex++;\n      this.penLines[this.penLinesIndex] = size / 2;\n      this.penLinesIndex++;\n\n      // third coordinates\n      this.penCoords[this.penCoordsIndex] = x1;\n      this.penCoordsIndex++;\n      this.penCoords[this.penCoordsIndex] = y1;\n      this.penCoordsIndex++;\n\n      // third coordinates supplement\n      this.penCoords[this.penCoordsIndex] = x2;\n      this.penCoordsIndex++;\n      this.penCoords[this.penCoordsIndex] = y2;\n      this.penCoordsIndex++;\n\n      // second vertex description\n      this.penLines[this.penLinesIndex] = Math.PI / 2;\n      this.penLinesIndex++;\n      this.penLines[this.penLinesIndex] = size / 2;\n      this.penLinesIndex++;\n\n      // second triangle\n      // first coordinates\n      this.penCoords[this.penCoordsIndex] = x1;\n      this.penCoordsIndex++;\n      this.penCoords[this.penCoordsIndex] = y1;\n      this.penCoordsIndex++;\n\n      // first coordinates supplement\n      this.penCoords[this.penCoordsIndex] = x2;\n      this.penCoordsIndex++;\n      this.penCoords[this.penCoordsIndex] = y2;\n      this.penCoordsIndex++;\n\n      //first vertex description\n      this.penLines[this.penLinesIndex] = Math.PI / 2;\n      this.penLinesIndex++;\n      this.penLines[this.penLinesIndex] = size / 2;\n      this.penLinesIndex++;\n\n      // second coordinates\n      this.penCoords[this.penCoordsIndex] = x2;\n      this.penCoordsIndex++;\n      this.penCoords[this.penCoordsIndex] = y2;\n      this.penCoordsIndex++;\n\n      // second coordinates supplement\n      this.penCoords[this.penCoordsIndex] = x1;\n      this.penCoordsIndex++;\n      this.penCoords[this.penCoordsIndex] = y1;\n      this.penCoordsIndex++;\n\n      // second vertex description\n      this.penLines[this.penLinesIndex] = -Math.PI / 2;\n      this.penLinesIndex++;\n      this.penLines[this.penLinesIndex] = size / 2;\n      this.penLinesIndex++;\n\n      // third coordinates\n      this.penCoords[this.penCoordsIndex] = x2;\n      this.penCoordsIndex++;\n      this.penCoords[this.penCoordsIndex] = y2;\n      this.penCoordsIndex++;\n\n      // third coordinates supplement\n      this.penCoords[this.penCoordsIndex] = x1;\n      this.penCoordsIndex++;\n      this.penCoords[this.penCoordsIndex] = y1;\n      this.penCoordsIndex++;\n\n      // second vertex description\n      this.penLines[this.penLinesIndex] = Math.PI / 2;\n      this.penLinesIndex++;\n      this.penLines[this.penLinesIndex] = size / 2;\n      this.penLinesIndex++;\n\n      for (var i = 0; i < circleRes; i++) {\n        // first endcap\n        // first coordinates\n        this.penCoords[this.penCoordsIndex] = x2;\n        this.penCoordsIndex++;\n        this.penCoords[this.penCoordsIndex] = y2;\n        this.penCoordsIndex++;\n\n        // first coordinates supplement\n        this.penCoords[this.penCoordsIndex] = x1;\n        this.penCoordsIndex++;\n        this.penCoords[this.penCoordsIndex] = y1;\n        this.penCoordsIndex++;\n\n        // first vertex description\n        this.penLines[this.penLinesIndex] = 0;\n        this.penLinesIndex++;\n        this.penLines[this.penLinesIndex] = 0;\n        this.penLinesIndex++;\n\n        // second coordinates\n        this.penCoords[this.penCoordsIndex] = x2;\n        this.penCoordsIndex++;\n        this.penCoords[this.penCoordsIndex] = y2;\n        this.penCoordsIndex++;\n\n        // second coordinates supplement\n        this.penCoords[this.penCoordsIndex] = x1;\n        this.penCoordsIndex++;\n        this.penCoords[this.penCoordsIndex] = y1;\n        this.penCoordsIndex++;\n\n        // second vertex description\n        this.penLines[this.penLinesIndex] = Math.PI / 2 + i / circleRes * Math.PI;\n        this.penLinesIndex++;\n        this.penLines[this.penLinesIndex] = size / 2;\n        this.penLinesIndex++;\n\n        // third coordinates\n        this.penCoords[this.penCoordsIndex] = x2;\n        this.penCoordsIndex++;\n        this.penCoords[this.penCoordsIndex] = y2;\n        this.penCoordsIndex++;\n\n        // third coordinates supplement\n        this.penCoords[this.penCoordsIndex] = x1;\n        this.penCoordsIndex++;\n        this.penCoords[this.penCoordsIndex] = y1;\n        this.penCoordsIndex++;\n\n        // third vertex description\n        this.penLines[this.penLinesIndex] = Math.PI / 2 + (i + 1) / circleRes * Math.PI;\n        this.penLinesIndex++;\n        this.penLines[this.penLinesIndex] = size / 2;\n        this.penLinesIndex++;\n\n        // second endcap\n        // first coordinates\n        this.penCoords[this.penCoordsIndex] = x1;\n        this.penCoordsIndex++;\n        this.penCoords[this.penCoordsIndex] = y1;\n        this.penCoordsIndex++;\n\n        // first coordinates supplement\n        this.penCoords[this.penCoordsIndex] = x2;\n        this.penCoordsIndex++;\n        this.penCoords[this.penCoordsIndex] = y2;\n        this.penCoordsIndex++;\n\n        // first vertex description\n        this.penLines[this.penLinesIndex] = 0;\n        this.penLinesIndex++;\n        this.penLines[this.penLinesIndex] = 0;\n        this.penLinesIndex++;\n\n        // second coordinates\n        this.penCoords[this.penCoordsIndex] = x1;\n        this.penCoordsIndex++;\n        this.penCoords[this.penCoordsIndex] = y1;\n        this.penCoordsIndex++;\n\n        // second coordinates supplement\n        this.penCoords[this.penCoordsIndex] = x2;\n        this.penCoordsIndex++;\n        this.penCoords[this.penCoordsIndex] = y2;\n        this.penCoordsIndex++;\n\n        // second vertex description\n        this.penLines[this.penLinesIndex] = Math.PI / 2 + i / circleRes * Math.PI;\n        this.penLinesIndex++;\n        this.penLines[this.penLinesIndex] = size / 2;\n        this.penLinesIndex++;\n\n        // third coordinates\n        this.penCoords[this.penCoordsIndex] = x1;\n        this.penCoordsIndex++;\n        this.penCoords[this.penCoordsIndex] = y1;\n        this.penCoordsIndex++;\n\n        // third coordinates supplement\n        this.penCoords[this.penCoordsIndex] = x2;\n        this.penCoordsIndex++;\n        this.penCoords[this.penCoordsIndex] = y2;\n        this.penCoordsIndex++;\n\n        // third vertex description\n        this.penLines[this.penLinesIndex] = Math.PI / 2 + (i + 1) / circleRes * Math.PI;\n        this.penLinesIndex++;\n        this.penLines[this.penLinesIndex] = size / 2;\n        this.penLinesIndex++;\n      }\n\n      const [r, g, b, a] = color.toParts();\n\n      // set color of vertices\n      for (var i = 0; i < circleRes * 6 + 6; i++) {\n        this.penColors[this.penColorsIndex] = r;\n        this.penColorsIndex++;\n        this.penColors[this.penColorsIndex] = g;\n        this.penColorsIndex++;\n        this.penColors[this.penColorsIndex] = b;\n        this.penColorsIndex++;\n        this.penColors[this.penColorsIndex] = a;\n        this.penColorsIndex++;\n      }\n    }\n\n    penDot(color: P.core.PenColor, size: number, x: number, y: number): void {\n      const circleRes = this.getCircleResolution(size);\n\n      // Redraw when buffers are full.\n      if (this.buffersCanFit(12 * circleRes)) {\n        this.drawPendingOperations();\n      }\n\n      for (var i = 1; i < circleRes; i++) {\n        // first endcap\n        // first coordinates\n        this.penCoords[this.penCoordsIndex] = x;\n        this.penCoordsIndex++;\n        this.penCoords[this.penCoordsIndex] = y;\n        this.penCoordsIndex++;\n\n        // first coordinates supplement\n        this.penCoords[this.penCoordsIndex] = x;\n        this.penCoordsIndex++;\n        this.penCoords[this.penCoordsIndex] = x;\n        this.penCoordsIndex++;\n\n        // first vertex description\n        this.penLines[this.penLinesIndex] = 0;\n        this.penLinesIndex++;\n        this.penLines[this.penLinesIndex] = 0;\n        this.penLinesIndex++;\n\n        // second coordinates\n        this.penCoords[this.penCoordsIndex] = x;\n        this.penCoordsIndex++;\n        this.penCoords[this.penCoordsIndex] = y;\n        this.penCoordsIndex++;\n\n        // second coordinates supplement\n        this.penCoords[this.penCoordsIndex] = x + 1;\n        this.penCoordsIndex++;\n        this.penCoords[this.penCoordsIndex] = y + 1;\n        this.penCoordsIndex++;\n\n        // second vertex description\n        this.penLines[this.penLinesIndex] = Math.PI / 2 + (i - 1) / circleRes * 2 * Math.PI;\n        this.penLinesIndex++;\n        this.penLines[this.penLinesIndex] = size / 2;\n        this.penLinesIndex++;\n\n        // third coordinates\n        this.penCoords[this.penCoordsIndex] = x;\n        this.penCoordsIndex++;\n        this.penCoords[this.penCoordsIndex] = y;\n        this.penCoordsIndex++;\n\n        // third coordinates supplement\n        this.penCoords[this.penCoordsIndex] = x + 1;\n        this.penCoordsIndex++;\n        this.penCoords[this.penCoordsIndex] = y + 1;\n        this.penCoordsIndex++;\n\n        // third vertex description\n        this.penLines[this.penLinesIndex] = Math.PI / 2 + i / circleRes * 2 * Math.PI;\n        this.penLinesIndex++;\n        this.penLines[this.penLinesIndex] = size / 2;\n        this.penLinesIndex++;\n      }\n\n      this.penCoords[this.penCoordsIndex] = x;\n      this.penCoordsIndex++;\n      this.penCoords[this.penCoordsIndex] = y;\n      this.penCoordsIndex++;\n\n      this.penCoords[this.penCoordsIndex] = x;\n      this.penCoordsIndex++;\n      this.penCoords[this.penCoordsIndex] = x;\n      this.penCoordsIndex++;\n\n      this.penLines[this.penLinesIndex] = 0;\n      this.penLinesIndex++;\n      this.penLines[this.penLinesIndex] = 0;\n      this.penLinesIndex++;\n\n      this.penCoords[this.penCoordsIndex] = x;\n      this.penCoordsIndex++;\n      this.penCoords[this.penCoordsIndex] = y;\n      this.penCoordsIndex++;\n\n      this.penCoords[this.penCoordsIndex] = x + 1;\n      this.penCoordsIndex++;\n      this.penCoords[this.penCoordsIndex] = y + 1;\n      this.penCoordsIndex++;\n\n      this.penLines[this.penLinesIndex] = Math.PI / 2 + (circleRes - 1) / circleRes * 2 * Math.PI;\n      this.penLinesIndex++;\n      this.penLines[this.penLinesIndex] = size / 2;\n      this.penLinesIndex++;\n\n      this.penCoords[this.penCoordsIndex] = x;\n      this.penCoordsIndex++;\n      this.penCoords[this.penCoordsIndex] = y;\n      this.penCoordsIndex++;\n\n      // third coordinates supplement\n      this.penCoords[this.penCoordsIndex] = x + 1;\n      this.penCoordsIndex++;\n      this.penCoords[this.penCoordsIndex] = y + 1;\n      this.penCoordsIndex++;\n\n      // third vertex description\n      this.penLines[this.penLinesIndex] = Math.PI / 2;\n      this.penLinesIndex++;\n      this.penLines[this.penLinesIndex] = size / 2;\n      this.penLinesIndex++;\n\n      const [r, g, b, a] = color.toParts();\n\n      // set color of vertices\n      for (var i = 0; i < circleRes * 3; i++) {\n        this.penColors[this.penColorsIndex] = r;\n        this.penColorsIndex++;\n        this.penColors[this.penColorsIndex] = g;\n        this.penColorsIndex++;\n        this.penColors[this.penColorsIndex] = b;\n        this.penColorsIndex++;\n        this.penColors[this.penColorsIndex] = a;\n        this.penColorsIndex++;\n      }\n    }\n\n    penStamp(sprite: P.core.Sprite): void {\n      this.dirty = true;\n      if (this.pendingPenOperations()) {\n        this.drawPendingOperations();\n      }\n      this.useShader(this.allFiltersShader);\n      this.drawChild(sprite);\n    }\n\n    penClear(): void {\n      this.dirty = true;\n      this.penCoordsIndex = 0;\n      this.penLinesIndex = 0;\n      this.penColorsIndex = 0;\n      this.gl.clearColor(0, 0, 0, 0);\n      this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n    }\n  }\n\n  export class WebGLProjectRenderer extends WebGLSpriteRenderer implements ProjectRenderer {\n    public penLayer: HTMLCanvasElement;\n    public stageLayer: HTMLCanvasElement;\n    public zoom: number = 1;\n\n    protected fallbackRenderer: ProjectRenderer;\n\n    private collisionRenderer: CollisionRenderer = new CollisionRenderer();\n    private penRenderer: PenRenderer = new PenRenderer();\n    private penTexture: WebGLTexture;\n\n    constructor(public stage: P.core.Stage) {\n      super();\n      this.fallbackRenderer = new P.renderer.canvas2d.ProjectRenderer2D(stage);\n    }\n\n    drawFrame() {\n      // Flush pen operations\n      if (this.penRenderer.pendingPenOperations()) {\n        this.penRenderer.drawPendingOperations();\n      }\n      // Update the pen texture if it is outdated\n      if (this.penRenderer.dirty) {\n        this.updatePenTexture();\n        this.penRenderer.dirty = false;\n      }\n      this.reset(this.zoom);\n      // Render order:\n      //  - Stage\n      //  - Pen (might not exist)\n      //  - Sprites\n      this.useShader(this.allFiltersShader);\n      this.drawChild(this.stage);\n      if (this.penTexture) {\n        this.drawTextureOverlay(this.penTexture);\n        // active program is changed by drawing pen texture\n        this.useShader(this.allFiltersShader);\n      }\n      for (var i = 0; i < this.stage.children.length; i++) {\n        var child = this.stage.children[i];\n        if (!child.visible) {\n          continue;\n        }\n        this.drawChild(child);\n      }\n      // We flush to ensure that the GPU finishes rendering as quickly as possible.\n      // This is especially important as we do not use requestAnimationFrame.\n      // Unlike finish(), flush() does not block the main thread. This is important.\n      this.gl.flush();\n    }\n\n    init(root: HTMLElement) {\n      root.appendChild(this.canvas);\n    }\n\n    destroy() {\n      super.destroy();\n      this.penRenderer.destroy();\n      this.collisionRenderer.destroy();\n    }\n\n    onStageFiltersChanged() {\n      // no-op; we always re-render the stage in full\n    }\n\n    penLine(color: P.core.PenColor, size: number, x1: number, y1: number, x2: number, y2: number): void {\n      this.penRenderer.penLine(color, size, x1, y1, x2, y2);\n    }\n\n    penDot(color: P.core.PenColor, size: number, x: number, y: number): void {\n      this.penRenderer.penDot(color, size, x, y);\n    }\n\n    penStamp(sprite: P.core.Sprite): void {\n      this.penRenderer.penStamp(sprite);\n    }\n\n    penClear(): void {\n      this.penRenderer.penClear();\n    }\n\n    private updatePenTexture() {\n      // We prefer re-using the penTexture if it already exists.\n      if (this.penTexture) {\n        this.gl.bindTexture(this.gl.TEXTURE_2D, this.penTexture);\n        this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, this.gl.RGBA, this.gl.UNSIGNED_BYTE, this.penRenderer.canvas);\n      } else {\n        this.penTexture = this.convertToTexture(this.penRenderer.canvas);\n      }\n    }\n\n    resize(scale: number): void {\n      this.zoom = scale * P.config.scale;\n      // TODO: resize pen layer\n    }\n\n    spriteTouchesPoint(sprite: core.Sprite, x: number, y: number): boolean {\n      return this.collisionRenderer.spriteTouchesPoint(sprite, x, y);\n    }\n\n    spritesIntersect(spriteA: core.Sprite, otherSprites: core.Base[]): boolean {\n      return this.collisionRenderer.spritesIntersect(spriteA, otherSprites);\n    }\n\n    spriteTouchesColor(sprite: core.Base, color: number): boolean {\n      return this.fallbackRenderer.spriteTouchesColor(sprite, color);\n    }\n\n    spriteColorTouchesColor(sprite: core.Base, spriteColor: number, otherColor: number): boolean {\n      return this.fallbackRenderer.spriteColorTouchesColor(sprite, spriteColor, otherColor);\n    }\n  }\n}"]}