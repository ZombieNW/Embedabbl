import"./DsnmJJEf.js";import"./Ciwh8kTX.js";import{o as U,a as q}from"./BC-a-DBc.js";import{p as D,f as x,a as g,b as A,c as o,g as n,m as _,s as p,d as l,r as s,t as E,u as B,e as G}from"./Dt5ZYckU.js";import{s as S,e as H}from"./CysRYIWC.js";import{p as j,i as z}from"./CtTEF-pw.js";import{b as I}from"./DTNQk0Hl.js";import{i as J}from"./BbqPrx2l.js";var K=x('<div class="absolute inset-0 flex items-center justify-center bg-gray-900"><div class="text-center"><div class="mb-4 inline-block h-12 w-12 animate-spin rounded-full border-b-2 border-blue-500"></div> <p class="text-gray-300"> </p></div></div>'),N=x('<div class="absolute inset-0 flex items-center justify-center bg-slate-900"><div class="max-w-lg rounded-lg border border-violet-900 bg-violet-900/10 p-6"><h3 class="mb-2 text-lg font-bold text-red-500">Error Loading Content</h3> <p class="text-slate-300"> </p> <button class="mt-4 rounded bg-red-500 px-4 py-2 text-white transition hover:bg-red-600">Retry</button></div></div>'),O=x('<div class="relative h-screen w-full"><!> <!> <div class="h-full w-full" id="container"></div></div>');function ee(F,m){D(m,!1);let t=j(m,"core",8),h=j(m,"contentUrl",8),v=_(),u=_(!0),f=_("");async function L(e,a){for(const r of e)await new Promise((i,c)=>{if(document.querySelector(`script[src="${r}"]`)){i(null);return}const d=document.createElement("script");d.src=r,d.type=a?"module":"text/javascript",d.onload=()=>i(null),d.onerror=()=>c(new Error(`Failed to load ${r}`)),document.head.appendChild(d),console.log("Script loaded:",r)})}async function y(){try{if(l(u,!0),l(f,""),t().prescript&&(console.log("Running Pre-Script"),await t().prescript(n(v),h())),t().scripts&&t().scripts.length>0){const e=typeof t().module=="boolean"?t().module:!1;await L(t().scripts,e)}await t().initialize(n(v),h()),l(u,!1)}catch(e){console.error("Failed to initialize core:",e),l(f,e instanceof Error?e.message:"Failed to load content"),l(u,!1)}}U(()=>{y()}),q(()=>{t().cleanup&&t().cleanup()}),J();var b=O(),w=o(b);{var M=e=>{var a=K(),r=o(a),i=p(o(r),2),c=o(i);s(i),s(r),s(a),E(()=>S(c,`Loading ${G(t()),B(()=>t().name)??""}...`)),g(e,a)};z(w,e=>{n(u)&&e(M)})}var C=p(w,2);{var P=e=>{var a=N(),r=o(a),i=p(o(r),2),c=o(i,!0);s(i);var k=p(i,2);s(r),s(a),E(()=>S(c,n(f))),H("click",k,y),g(e,a)};z(C,e=>{n(f)&&e(P)})}var R=p(C,2);I(R,e=>l(v,e),()=>n(v)),s(b),g(F,b),A()}export{ee as C};
