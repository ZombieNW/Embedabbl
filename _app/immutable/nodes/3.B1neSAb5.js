import"../chunks/DsnmJJEf.js";import"../chunks/Ciwh8kTX.js";import{o as D}from"../chunks/BC-a-DBc.js";import{p as G,K as v,L as H,f as y,M as J,a as m,b as Q,g as e,t as w,d as p,m as b,u as U,$ as W,c as s,r,N as V,O as q,s as N,n as X}from"../chunks/Dt5ZYckU.js";import{s as R}from"../chunks/CysRYIWC.js";import{i as j,s as Y,a as Z}from"../chunks/CtTEF-pw.js";import{i as ee}from"../chunks/BbqPrx2l.js";import{s as te}from"../chunks/LPW3lJBH.js";import{c as ae}from"../chunks/C40SgIQj.js";import{C as se}from"../chunks/DFqR-TeB.js";const re=()=>{const n=te;return{page:{subscribe:n.page.subscribe},navigating:{subscribe:n.navigating.subscribe},updated:n.updated}},oe={subscribe(n){return re().page.subscribe(n)}};var ne=y('<div class="absolute inset-0 flex items-center justify-center bg-gray-900"><div class="text-center"><div class="mb-4 inline-block h-12 w-12 animate-spin rounded-full border-b-2 border-blue-500"></div> <p class="text-gray-300"> </p></div></div>'),ie=y('<div class="absolute inset-0 flex items-center justify-center bg-slate-900"><div class="max-w-lg rounded-lg border border-violet-900 bg-violet-900/10 p-6"><h3 class="mb-2 text-lg font-bold text-red-500">Missing Content URL</h3> <p class="text-slate-300"> </p></div></div>'),le=y('<div class="absolute inset-0 flex items-center justify-center bg-slate-900"><div class="max-w-lg rounded-lg border border-violet-900 bg-violet-900/10 p-6"><h3 class="mb-2 text-lg font-bold text-red-500">Core Not Found</h3> <p class="text-slate-300"> </p> <a href="/" class="mt-4 rounded bg-red-500 px-4 py-2 text-white transition hover:bg-red-600">View Available Cores</a></div></div>'),ce=y('<div class="overflow-hidden"><!></div>');function he(n,k){G(k,!1);const M=()=>Z(oe,"$page",A),[A,F]=Y(),f=b(),t=b(),_=b(),P=b(),E=b();let a=b(null);D(()=>{const o=new URLSearchParams(window.location.search);p(a,o.get(e(t).paramName)||"not-found"),console.log("Content URL:",e(a))}),v(()=>M(),()=>{p(f,M().params.core)}),v(()=>e(f),()=>{p(t,ae[e(f)])}),v(()=>e(a),()=>{e(a)}),v(()=>(e(t),e(a)),()=>{p(_,e(t)&&e(a)&&e(a)!="not-found")}),v(()=>(e(t),e(a)),()=>{p(P,e(t)&&!e(a))}),v(()=>(e(t),e(a)),()=>{p(E,e(t)&&e(a)=="not-found")}),H(),ee();var $=ce();J(o=>{w(()=>W.title=(e(_),e(t),U(()=>e(_)?`${e(t).name} - Embedabbl`:"Embedabbl")??""))});var I=s($);{var K=o=>{se(o,{get core(){return e(t)},get contentUrl(){return e(a)}})},O=o=>{var S=V(),T=q(S);{var z=l=>{var c=ne(),x=s(c),h=N(s(x),2),C=s(h);r(h),r(x),r(c),w(()=>R(C,`Loading ${e(t),U(()=>e(t).name)??""}...`)),m(l,c)},B=l=>{var c=V(),x=q(c);{var h=d=>{var i=ie(),u=s(i),g=N(s(u),2),L=s(g);r(g),r(u),r(i),w(()=>R(L,`Please provide a content URL using the ${e(t),U(()=>e(t).paramName)??""} query parameter.`)),m(d,i)},C=d=>{var i=le(),u=s(i),g=N(s(u),2),L=s(g);r(g),X(2),r(u),r(i),w(()=>R(L,`The core ${e(f)??""} could not be found or no longer exists.`)),m(d,i)};j(x,d=>{e(E)?d(h):d(C,!1)},!0)}m(l,c)};j(T,l=>{e(P)?l(z):l(B,!1)},!0)}m(o,S)};j(I,o=>{e(_)?o(K):o(O,!1)})}r($),m(n,$),Q(),F()}export{he as component};
